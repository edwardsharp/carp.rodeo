<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>triphobia mixtape - playlistz</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="theme-color" content="#000000">
  <style>
    * { box-sizing: border-box; }
    body {
      font-family: system-ui, -apple-system, sans-serif;
      font-size: 16px;
      margin: 0;
      padding: 0;
      background-color: black;
      color: white;
    }
    /* Ensure proper text wrapping */
    .break-words {
      word-wrap: break-word;
      word-break: break-word;
      overflow-wrap: break-word;
      hyphens: auto;
    }
    /*! tailwindcss v4.1.11 | MIT License | https://tailwindcss.com */@layer properties{@supports (((-webkit-hyphens:none)) and (not (margin-trim:inline))) or ((-moz-orient:inline) and (not (color:rgb(from red r g b)))){*,:before,:after,::backdrop{--tw-translate-x:0;--tw-translate-y:0;--tw-translate-z:0;--tw-rotate-x:initial;--tw-rotate-y:initial;--tw-rotate-z:initial;--tw-skew-x:initial;--tw-skew-y:initial;--tw-space-y-reverse:0;--tw-space-x-reverse:0;--tw-border-style:solid;--tw-gradient-position:initial;--tw-gradient-from:#0000;--tw-gradient-via:#0000;--tw-gradient-to:#0000;--tw-gradient-stops:initial;--tw-gradient-via-stops:initial;--tw-gradient-from-position:0%;--tw-gradient-via-position:50%;--tw-gradient-to-position:100%;--tw-leading:initial;--tw-font-weight:initial;--tw-tracking:initial;--tw-ordinal:initial;--tw-slashed-zero:initial;--tw-numeric-figure:initial;--tw-numeric-spacing:initial;--tw-numeric-fraction:initial;--tw-shadow:0 0 #0000;--tw-shadow-color:initial;--tw-shadow-alpha:100%;--tw-inset-shadow:0 0 #0000;--tw-inset-shadow-color:initial;--tw-inset-shadow-alpha:100%;--tw-ring-color:initial;--tw-ring-shadow:0 0 #0000;--tw-inset-ring-color:initial;--tw-inset-ring-shadow:0 0 #0000;--tw-ring-inset:initial;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-offset-shadow:0 0 #0000;--tw-outline-style:solid;--tw-blur:initial;--tw-brightness:initial;--tw-contrast:initial;--tw-grayscale:initial;--tw-hue-rotate:initial;--tw-invert:initial;--tw-opacity:initial;--tw-saturate:initial;--tw-sepia:initial;--tw-drop-shadow:initial;--tw-drop-shadow-color:initial;--tw-drop-shadow-alpha:100%;--tw-drop-shadow-size:initial;--tw-backdrop-blur:initial;--tw-backdrop-brightness:initial;--tw-backdrop-contrast:initial;--tw-backdrop-grayscale:initial;--tw-backdrop-hue-rotate:initial;--tw-backdrop-invert:initial;--tw-backdrop-opacity:initial;--tw-backdrop-saturate:initial;--tw-backdrop-sepia:initial;--tw-duration:initial;--tw-ease:initial;--tw-scale-x:1;--tw-scale-y:1;--tw-scale-z:1}}}@layer theme{:root,:host{--font-sans:ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";--font-mono:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;--color-red-300:oklch(80.8% .114 19.571);--color-red-400:oklch(70.4% .191 22.216);--color-red-500:oklch(63.7% .237 25.331);--color-red-600:oklch(57.7% .245 27.325);--color-red-700:oklch(50.5% .213 27.518);--color-red-800:oklch(44.4% .177 26.899);--color-red-900:oklch(39.6% .141 25.723);--color-green-400:oklch(79.2% .209 151.711);--color-green-600:oklch(62.7% .194 149.214);--color-green-700:oklch(52.7% .154 150.069);--color-fuchsia-300:oklch(83.3% .145 321.434);--color-fuchsia-400:oklch(74% .238 322.16);--color-fuchsia-500:oklch(66.7% .295 322.15);--color-fuchsia-600:oklch(59.1% .293 322.896);--color-fuchsia-700:oklch(51.8% .253 323.949);--color-fuchsia-800:oklch(45.2% .211 324.591);--color-gray-50:oklch(98.5% .002 247.839);--color-gray-100:oklch(96.7% .003 264.542);--color-gray-200:oklch(92.8% .006 264.531);--color-gray-300:oklch(87.2% .01 258.338);--color-gray-400:oklch(70.7% .022 261.325);--color-gray-500:oklch(55.1% .027 264.364);--color-gray-600:oklch(44.6% .03 256.802);--color-gray-700:oklch(37.3% .034 259.733);--color-gray-800:oklch(27.8% .033 256.848);--color-gray-900:oklch(21% .034 264.665);--color-black:#000;--color-white:#fff;--spacing:.25rem;--container-sm:24rem;--container-md:28rem;--container-lg:32rem;--container-2xl:42rem;--container-4xl:56rem;--text-xs:.75rem;--text-xs--line-height:calc(1/.75);--text-sm:.875rem;--text-sm--line-height:calc(1.25/.875);--text-base:1rem;--text-base--line-height: 1.5 ;--text-lg:1.125rem;--text-lg--line-height:calc(1.75/1.125);--text-xl:1.25rem;--text-xl--line-height:calc(1.75/1.25);--text-2xl:1.5rem;--text-2xl--line-height:calc(2/1.5);--text-3xl:1.875rem;--text-3xl--line-height: 1.2 ;--text-4xl:2.25rem;--text-4xl--line-height:calc(2.5/2.25);--text-6xl:3.75rem;--text-6xl--line-height:1;--font-weight-light:300;--font-weight-normal:400;--font-weight-medium:500;--font-weight-semibold:600;--font-weight-bold:700;--tracking-wide:.025em;--tracking-wider:.05em;--leading-relaxed:1.625;--radius-md:.375rem;--radius-lg:.5rem;--ease-out:cubic-bezier(0,0,.2,1);--ease-in-out:cubic-bezier(.4,0,.2,1);--animate-spin:spin 1s linear infinite;--animate-pulse:pulse 2s cubic-bezier(.4,0,.6,1)infinite;--blur-sm:8px;--blur-xl:24px;--default-transition-duration:.15s;--default-transition-timing-function:cubic-bezier(.4,0,.2,1);--default-font-family:var(--font-sans);--default-mono-font-family:var(--font-mono);--color-magenta-100:#fae8ff;--color-magenta-200:#f5d0fe;--color-magenta-300:#f0abfc;--color-magenta-400:#e879f9;--color-magenta-500:#d946ef;--color-magenta-600:#c026d3;--color-magenta-700:#a21caf;--color-magenta-800:#86198f;--color-magenta-900:#701a75;--color-magenta-950:#4a044e;--color-dark-100:#1a1a1a;--color-dark-200:#2a2a2a;--color-dark-300:#3a3a3a;--color-dark-400:#4a4a4a}}@layer base{*,:after,:before,::backdrop{box-sizing:border-box;border:0 solid;margin:0;padding:0}::file-selector-button{box-sizing:border-box;border:0 solid;margin:0;padding:0}html,:host{-webkit-text-size-adjust:100%;tab-size:4;line-height:1.5;font-family:var(--default-font-family,ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji");font-feature-settings:var(--default-font-feature-settings,normal);font-variation-settings:var(--default-font-variation-settings,normal);-webkit-tap-highlight-color:transparent}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;-webkit-text-decoration:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:var(--default-mono-font-family,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace);font-feature-settings:var(--default-mono-font-feature-settings,normal);font-variation-settings:var(--default-mono-font-variation-settings,normal);font-size:1em}small{font-size:80%}sub,sup{vertical-align:baseline;font-size:75%;line-height:0;position:relative}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}:-moz-focusring{outline:auto}progress{vertical-align:baseline}summary{display:list-item}ol,ul,menu{list-style:none}img,svg,video,canvas,audio,iframe,embed,object{vertical-align:middle;display:block}img,video{max-width:100%;height:auto}button,input,select,optgroup,textarea{font:inherit;font-feature-settings:inherit;font-variation-settings:inherit;letter-spacing:inherit;color:inherit;opacity:1;background-color:#0000;border-radius:0}::file-selector-button{font:inherit;font-feature-settings:inherit;font-variation-settings:inherit;letter-spacing:inherit;color:inherit;opacity:1;background-color:#0000;border-radius:0}:where(select:is([multiple],[size])) optgroup{font-weight:bolder}:where(select:is([multiple],[size])) optgroup option{padding-inline-start:20px}::file-selector-button{margin-inline-end:4px}::placeholder{opacity:1}@supports (not ((-webkit-appearance:-apple-pay-button))) or (contain-intrinsic-size:1px){::placeholder{color:currentColor}@supports (color:color-mix(in lab,red,red)){::placeholder{color:color-mix(in oklab,currentcolor 50%,transparent)}}}textarea{resize:vertical}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-date-and-time-value{min-height:1lh;text-align:inherit}::-webkit-datetime-edit{display:inline-flex}::-webkit-datetime-edit-fields-wrapper{padding:0}::-webkit-datetime-edit{padding-block:0}::-webkit-datetime-edit-year-field{padding-block:0}::-webkit-datetime-edit-month-field{padding-block:0}::-webkit-datetime-edit-day-field{padding-block:0}::-webkit-datetime-edit-hour-field{padding-block:0}::-webkit-datetime-edit-minute-field{padding-block:0}::-webkit-datetime-edit-second-field{padding-block:0}::-webkit-datetime-edit-millisecond-field{padding-block:0}::-webkit-datetime-edit-meridiem-field{padding-block:0}:-moz-ui-invalid{box-shadow:none}button,input:where([type=button],[type=reset],[type=submit]){appearance:button}::file-selector-button{appearance:button}::-webkit-inner-spin-button{height:auto}::-webkit-outer-spin-button{height:auto}[hidden]:where(:not([hidden=until-found])){display:none!important}*{box-sizing:border-box}body{color:#fff;background-color:#000;margin:0;padding:0;font-family:system-ui,-apple-system,sans-serif}::-webkit-scrollbar{width:8px;height:8px}::-webkit-scrollbar-track{background-color:#2a2a2a}::-webkit-scrollbar-thumb{background-color:#4a4a4a;border-radius:4px}::-webkit-scrollbar-thumb:hover{background-color:#d946ef}*{scrollbar-width:thin;scrollbar-color:#4a4a4a #2a2a2a}}@layer components{.playlist-button-hover{transition:all .2s ease-out;position:relative;overflow:hidden}.playlist-button-hover:hover{transform:scale(1.02);box-shadow:0 4px 12px #d946ef4d}.playlist-item-hover:hover{transform:translate(2px);box-shadow:-2px 0 8px #d946ef66}.glass{-webkit-backdrop-filter:blur(16px)saturate(180%);background-color:#1a1a1acc;border:1px solid #ffffff20}}@layer utilities{.pointer-events-none{pointer-events:none}.collapse{visibility:collapse}.visible{visibility:visible}.absolute{position:absolute}.fixed{position:fixed}.relative{position:relative}.static{position:static}.sticky{position:sticky}.inset-0{inset:calc(var(--spacing)*0)}.inset-x-0{inset-inline:calc(var(--spacing)*0)}.-top-1{top:calc(var(--spacing)*-1)}.top-0{top:calc(var(--spacing)*0)}.top-1\/2{top:50%}.top-2\.5{top:calc(var(--spacing)*2.5)}.top-4{top:calc(var(--spacing)*4)}.top-6{top:calc(var(--spacing)*6)}.top-\[-7px\]{top:-7px}.top-full{top:100%}.-right-1{right:calc(var(--spacing)*-1)}.right-0{right:calc(var(--spacing)*0)}.right-2{right:calc(var(--spacing)*2)}.right-4{right:calc(var(--spacing)*4)}.right-6{right:calc(var(--spacing)*6)}.right-16{right:calc(var(--spacing)*16)}.right-\[-7px\]{right:-7px}.bottom-0{bottom:calc(var(--spacing)*0)}.bottom-4{bottom:calc(var(--spacing)*4)}.bottom-6{bottom:calc(var(--spacing)*6)}.bottom-20{bottom:calc(var(--spacing)*20)}.bottom-\[-7px\]{bottom:-7px}.bottom-full{bottom:100%}.left-0{left:calc(var(--spacing)*0)}.left-1\/2{left:50%}.left-3{left:calc(var(--spacing)*3)}.left-72{left:calc(var(--spacing)*72)}.left-\[-7px\]{left:-7px}.left-\[calc\(100vw-40px\)\]{left:calc(100vw - 40px)}.z-0{z-index:0}.z-1{z-index:1}.z-10{z-index:10}.z-40{z-index:40}.z-50{z-index:50}.z-51{z-index:51}.z-100{z-index:100}.col-span-1{grid-column:span 1/span 1}.col-span-2{grid-column:span 2/span 2}.col-span-5{grid-column:span 5/span 5}.container{width:100%}@media (min-width:40rem){.container{max-width:40rem}}@media (min-width:48rem){.container{max-width:48rem}}@media (min-width:64rem){.container{max-width:64rem}}@media (min-width:80rem){.container{max-width:80rem}}@media (min-width:96rem){.container{max-width:96rem}}.m-0{margin:calc(var(--spacing)*0)}.m-auto{margin:auto}.mx-2{margin-inline:calc(var(--spacing)*2)}.mx-4{margin-inline:calc(var(--spacing)*4)}.mx-auto{margin-inline:auto}.my-1{margin-block:calc(var(--spacing)*1)}.mt-1{margin-top:calc(var(--spacing)*1)}.mt-2{margin-top:calc(var(--spacing)*2)}.mt-3{margin-top:calc(var(--spacing)*3)}.mt-4{margin-top:calc(var(--spacing)*4)}.mt-6{margin-top:calc(var(--spacing)*6)}.mr-2{margin-right:calc(var(--spacing)*2)}.mr-3{margin-right:calc(var(--spacing)*3)}.mr-4{margin-right:calc(var(--spacing)*4)}.mb-0{margin-bottom:calc(var(--spacing)*0)}.mb-1{margin-bottom:calc(var(--spacing)*1)}.mb-2{margin-bottom:calc(var(--spacing)*2)}.mb-3{margin-bottom:calc(var(--spacing)*3)}.mb-4{margin-bottom:calc(var(--spacing)*4)}.mb-6{margin-bottom:calc(var(--spacing)*6)}.mb-8{margin-bottom:calc(var(--spacing)*8)}.ml-0\.5{margin-left:calc(var(--spacing)*.5)}.ml-1{margin-left:calc(var(--spacing)*1)}.ml-2{margin-left:calc(var(--spacing)*2)}.ml-3{margin-left:calc(var(--spacing)*3)}.ml-4{margin-left:calc(var(--spacing)*4)}.ml-6{margin-left:calc(var(--spacing)*6)}.ml-12{margin-left:calc(var(--spacing)*12)}.line-clamp-2{-webkit-line-clamp:2;-webkit-box-orient:vertical;display:-webkit-box;overflow:hidden}.block{display:block}.flex{display:flex}.grid{display:grid}.hidden{display:none}.inline{display:inline}.inline-block{display:inline-block}.inline-flex{display:inline-flex}.table{display:table}.aspect-square{aspect-ratio:1}.h-0{height:calc(var(--spacing)*0)}.h-1{height:calc(var(--spacing)*1)}.h-1\.5{height:calc(var(--spacing)*1.5)}.h-2{height:calc(var(--spacing)*2)}.h-3{height:calc(var(--spacing)*3)}.h-4{height:calc(var(--spacing)*4)}.h-5{height:calc(var(--spacing)*5)}.h-6{height:calc(var(--spacing)*6)}.h-8{height:calc(var(--spacing)*8)}.h-10{height:calc(var(--spacing)*10)}.h-12{height:calc(var(--spacing)*12)}.h-16{height:calc(var(--spacing)*16)}.h-20{height:calc(var(--spacing)*20)}.h-32{height:calc(var(--spacing)*32)}.h-39{height:calc(var(--spacing)*39)}.h-48{height:calc(var(--spacing)*48)}.h-full{height:100%}.h-screen{height:100vh}.max-h-64{max-height:calc(var(--spacing)*64)}.max-h-\[90vh\]{max-height:90vh}.max-h-\[95vh\]{max-height:95vh}.max-h-\[calc\(90vh-140px\)\]{max-height:calc(90vh - 140px)}.min-h-0{min-height:calc(var(--spacing)*0)}.min-h-16{min-height:calc(var(--spacing)*16)}.min-h-screen{min-height:100vh}.w-0{width:calc(var(--spacing)*0)}.w-1\.5{width:calc(var(--spacing)*1.5)}.w-1\/2{width:50%}.w-2{width:calc(var(--spacing)*2)}.w-3{width:calc(var(--spacing)*3)}.w-3\/4{width:75%}.w-4{width:calc(var(--spacing)*4)}.w-5{width:calc(var(--spacing)*5)}.w-6{width:calc(var(--spacing)*6)}.w-8{width:calc(var(--spacing)*8)}.w-10{width:calc(var(--spacing)*10)}.w-12{width:calc(var(--spacing)*12)}.w-15{width:calc(var(--spacing)*15)}.w-16{width:calc(var(--spacing)*16)}.w-20{width:calc(var(--spacing)*20)}.w-39{width:calc(var(--spacing)*39)}.w-48{width:calc(var(--spacing)*48)}.w-64{width:calc(var(--spacing)*64)}.w-70{width:calc(var(--spacing)*70)}.w-72{width:calc(var(--spacing)*72)}.w-80{width:calc(var(--spacing)*80)}.w-full{width:100%}.w-screen{width:100vw}.max-w-2xl{max-width:var(--container-2xl)}.max-w-4xl{max-width:var(--container-4xl)}.max-w-48{max-width:calc(var(--spacing)*48)}.max-w-80{max-width:calc(var(--spacing)*80)}.max-w-96{max-width:calc(var(--spacing)*96)}.max-w-\[95vw\]{max-width:95vw}.max-w-full{max-width:100%}.max-w-lg{max-width:var(--container-lg)}.max-w-md{max-width:var(--container-md)}.max-w-sm{max-width:var(--container-sm)}.min-w-0{min-width:calc(var(--spacing)*0)}.min-w-8{min-width:calc(var(--spacing)*8)}.min-w-10{min-width:calc(var(--spacing)*10)}.min-w-24{min-width:calc(var(--spacing)*24)}.min-w-48{min-width:calc(var(--spacing)*48)}.min-w-64{min-width:calc(var(--spacing)*64)}.min-w-72{min-width:calc(var(--spacing)*72)}.min-w-full{min-width:100%}.flex-1{flex:1}.flex-shrink{flex-shrink:1}.flex-shrink-0{flex-shrink:0}.flex-grow{flex-grow:1}.-translate-x-1\/2{--tw-translate-x: -50% ;translate:var(--tw-translate-x)var(--tw-translate-y)}.-translate-x-full{--tw-translate-x:-100%;translate:var(--tw-translate-x)var(--tw-translate-y)}.translate-x-0{--tw-translate-x:calc(var(--spacing)*0);translate:var(--tw-translate-x)var(--tw-translate-y)}.translate-x-\[-100\%\]{--tw-translate-x:-100%;translate:var(--tw-translate-x)var(--tw-translate-y)}.-translate-y-1\/2{--tw-translate-y: -50% ;translate:var(--tw-translate-x)var(--tw-translate-y)}.-rotate-90{rotate:-90deg}.rotate-0{rotate:none}.rotate-45{rotate:45deg}.rotate-180{rotate:180deg}.transform{transform:var(--tw-rotate-x,)var(--tw-rotate-y,)var(--tw-rotate-z,)var(--tw-skew-x,)var(--tw-skew-y,)}.animate-pulse{animation:var(--animate-pulse)}.animate-spin{animation:var(--animate-spin)}.cursor-grab{cursor:grab}.cursor-grabbing{cursor:grabbing}.cursor-not-allowed{cursor:not-allowed}.cursor-pointer{cursor:pointer}.resize{resize:both}.resize-none{resize:none}.appearance-none{appearance:none}.grid-cols-1{grid-template-columns:repeat(1,minmax(0,1fr))}.grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.grid-cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}.grid-cols-4{grid-template-columns:repeat(4,minmax(0,1fr))}.grid-cols-12{grid-template-columns:repeat(12,minmax(0,1fr))}.flex-col{flex-direction:column}.flex-wrap{flex-wrap:wrap}.items-center{align-items:center}.items-start{align-items:flex-start}.justify-between{justify-content:space-between}.justify-center{justify-content:center}.justify-end{justify-content:flex-end}.gap-0{gap:calc(var(--spacing)*0)}.gap-1{gap:calc(var(--spacing)*1)}.gap-2{gap:calc(var(--spacing)*2)}.gap-3{gap:calc(var(--spacing)*3)}.gap-4{gap:calc(var(--spacing)*4)}.gap-6{gap:calc(var(--spacing)*6)}:where(.space-y-1>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--spacing)*1)*var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--spacing)*1)*calc(1 - var(--tw-space-y-reverse)))}:where(.space-y-2>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--spacing)*2)*var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--spacing)*2)*calc(1 - var(--tw-space-y-reverse)))}:where(.space-y-3>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--spacing)*3)*var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--spacing)*3)*calc(1 - var(--tw-space-y-reverse)))}:where(.space-y-4>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--spacing)*4)*var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--spacing)*4)*calc(1 - var(--tw-space-y-reverse)))}:where(.space-y-6>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--spacing)*6)*var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--spacing)*6)*calc(1 - var(--tw-space-y-reverse)))}:where(.space-x-1>:not(:last-child)){--tw-space-x-reverse:0;margin-inline-start:calc(calc(var(--spacing)*1)*var(--tw-space-x-reverse));margin-inline-end:calc(calc(var(--spacing)*1)*calc(1 - var(--tw-space-x-reverse)))}:where(.space-x-2>:not(:last-child)){--tw-space-x-reverse:0;margin-inline-start:calc(calc(var(--spacing)*2)*var(--tw-space-x-reverse));margin-inline-end:calc(calc(var(--spacing)*2)*calc(1 - var(--tw-space-x-reverse)))}:where(.space-x-3>:not(:last-child)){--tw-space-x-reverse:0;margin-inline-start:calc(calc(var(--spacing)*3)*var(--tw-space-x-reverse));margin-inline-end:calc(calc(var(--spacing)*3)*calc(1 - var(--tw-space-x-reverse)))}:where(.space-x-4>:not(:last-child)){--tw-space-x-reverse:0;margin-inline-start:calc(calc(var(--spacing)*4)*var(--tw-space-x-reverse));margin-inline-end:calc(calc(var(--spacing)*4)*calc(1 - var(--tw-space-x-reverse)))}:where(.space-x-6>:not(:last-child)){--tw-space-x-reverse:0;margin-inline-start:calc(calc(var(--spacing)*6)*var(--tw-space-x-reverse));margin-inline-end:calc(calc(var(--spacing)*6)*calc(1 - var(--tw-space-x-reverse)))}.truncate{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.overflow-auto{overflow:auto}.overflow-hidden{overflow:hidden}.overflow-x-auto{overflow-x:auto}.overflow-y-auto{overflow-y:auto}.rounded{border-radius:.25rem}.rounded-full{border-radius:3.40282e38px}.rounded-lg{border-radius:var(--radius-lg)}.rounded-md{border-radius:var(--radius-md)}.border{border-style:var(--tw-border-style);border-width:1px}.border-2{border-style:var(--tw-border-style);border-width:2px}.border-t{border-top-style:var(--tw-border-style);border-top-width:1px}.border-t-0{border-top-style:var(--tw-border-style);border-top-width:0}.border-t-2{border-top-style:var(--tw-border-style);border-top-width:2px}.border-t-4{border-top-style:var(--tw-border-style);border-top-width:4px}.border-r{border-right-style:var(--tw-border-style);border-right-width:1px}.border-r-0{border-right-style:var(--tw-border-style);border-right-width:0}.border-r-4{border-right-style:var(--tw-border-style);border-right-width:4px}.border-b{border-bottom-style:var(--tw-border-style);border-bottom-width:1px}.border-b-0{border-bottom-style:var(--tw-border-style);border-bottom-width:0}.border-l{border-left-style:var(--tw-border-style);border-left-width:1px}.border-l-0{border-left-style:var(--tw-border-style);border-left-width:0}.border-l-4{border-left-style:var(--tw-border-style);border-left-width:4px}.border-dashed{--tw-border-style:dashed;border-style:dashed}.border-none{--tw-border-style:none;border-style:none}.border-dark-300{border-color:var(--color-dark-300)}.border-dark-400{border-color:var(--color-dark-400)}.border-gray-300{border-color:var(--color-gray-300)}.border-gray-400{border-color:var(--color-gray-400)}.border-gray-500{border-color:var(--color-gray-500)}.border-gray-600{border-color:var(--color-gray-600)}.border-gray-700{border-color:var(--color-gray-700)}.border-gray-800\/50{border-color:#1e293980}@supports (color:color-mix(in lab,red,red)){.border-gray-800\/50{border-color:color-mix(in oklab,var(--color-gray-800)50%,transparent)}}.border-magenta-200{border-color:var(--color-magenta-200)}.border-magenta-400{border-color:var(--color-magenta-400)}.border-magenta-400\/50{border-color:#e879f980}@supports (color:color-mix(in lab,red,red)){.border-magenta-400\/50{border-color:color-mix(in oklab,var(--color-magenta-400)50%,transparent)}}.border-magenta-500{border-color:var(--color-magenta-500)}.border-magenta-600\/30{border-color:#c026d34d}@supports (color:color-mix(in lab,red,red)){.border-magenta-600\/30{border-color:color-mix(in oklab,var(--color-magenta-600)30%,transparent)}}.border-magenta-800\/30{border-color:#86198f4d}@supports (color:color-mix(in lab,red,red)){.border-magenta-800\/30{border-color:color-mix(in oklab,var(--color-magenta-800)30%,transparent)}}.border-red-500{border-color:var(--color-red-500)}.border-red-500\/20{border-color:#fb2c3633}@supports (color:color-mix(in lab,red,red)){.border-red-500\/20{border-color:color-mix(in oklab,var(--color-red-500)20%,transparent)}}.border-red-500\/30{border-color:#fb2c364d}@supports (color:color-mix(in lab,red,red)){.border-red-500\/30{border-color:color-mix(in oklab,var(--color-red-500)30%,transparent)}}.border-transparent{border-color:#0000}.border-white{border-color:var(--color-white)}.border-white\/10{border-color:#ffffff1a}@supports (color:color-mix(in lab,red,red)){.border-white\/10{border-color:color-mix(in oklab,var(--color-white)10%,transparent)}}.border-white\/20{border-color:#fff3}@supports (color:color-mix(in lab,red,red)){.border-white\/20{border-color:color-mix(in oklab,var(--color-white)20%,transparent)}}.border-white\/30{border-color:#ffffff4d}@supports (color:color-mix(in lab,red,red)){.border-white\/30{border-color:color-mix(in oklab,var(--color-white)30%,transparent)}}.border-t-magenta-800\/30{border-top-color:#86198f4d}@supports (color:color-mix(in lab,red,red)){.border-t-magenta-800\/30{border-top-color:color-mix(in oklab,var(--color-magenta-800)30%,transparent)}}.border-t-transparent{border-top-color:#0000}.border-t-white{border-top-color:var(--color-white)}.border-r-transparent{border-right-color:#0000}.border-l-transparent{border-left-color:#0000}.bg-black{background-color:var(--color-black)}.bg-black\/20{background-color:#0003}@supports (color:color-mix(in lab,red,red)){.bg-black\/20{background-color:color-mix(in oklab,var(--color-black)20%,transparent)}}.bg-black\/30{background-color:#0000004d}@supports (color:color-mix(in lab,red,red)){.bg-black\/30{background-color:color-mix(in oklab,var(--color-black)30%,transparent)}}.bg-black\/40{background-color:#0006}@supports (color:color-mix(in lab,red,red)){.bg-black\/40{background-color:color-mix(in oklab,var(--color-black)40%,transparent)}}.bg-black\/50{background-color:#00000080}@supports (color:color-mix(in lab,red,red)){.bg-black\/50{background-color:color-mix(in oklab,var(--color-black)50%,transparent)}}.bg-black\/70{background-color:#000000b3}@supports (color:color-mix(in lab,red,red)){.bg-black\/70{background-color:color-mix(in oklab,var(--color-black)70%,transparent)}}.bg-black\/80{background-color:#000c}@supports (color:color-mix(in lab,red,red)){.bg-black\/80{background-color:color-mix(in oklab,var(--color-black)80%,transparent)}}.bg-black\/90{background-color:#000000e6}@supports (color:color-mix(in lab,red,red)){.bg-black\/90{background-color:color-mix(in oklab,var(--color-black)90%,transparent)}}.bg-black\/95{background-color:#000000f2}@supports (color:color-mix(in lab,red,red)){.bg-black\/95{background-color:color-mix(in oklab,var(--color-black)95%,transparent)}}.bg-dark-100{background-color:var(--color-dark-100)}.bg-dark-200{background-color:var(--color-dark-200)}.bg-dark-300{background-color:var(--color-dark-300)}.bg-fuchsia-600{background-color:var(--color-fuchsia-600)}.bg-fuchsia-800\/30{background-color:#8a01944d}@supports (color:color-mix(in lab,red,red)){.bg-fuchsia-800\/30{background-color:color-mix(in oklab,var(--color-fuchsia-800)30%,transparent)}}.bg-gray-100{background-color:var(--color-gray-100)}.bg-gray-600{background-color:var(--color-gray-600)}.bg-gray-600\/50{background-color:#4a556580}@supports (color:color-mix(in lab,red,red)){.bg-gray-600\/50{background-color:color-mix(in oklab,var(--color-gray-600)50%,transparent)}}.bg-gray-700{background-color:var(--color-gray-700)}.bg-gray-700\/30{background-color:#3641534d}@supports (color:color-mix(in lab,red,red)){.bg-gray-700\/30{background-color:color-mix(in oklab,var(--color-gray-700)30%,transparent)}}.bg-gray-700\/50{background-color:#36415380}@supports (color:color-mix(in lab,red,red)){.bg-gray-700\/50{background-color:color-mix(in oklab,var(--color-gray-700)50%,transparent)}}.bg-gray-800{background-color:var(--color-gray-800)}.bg-gray-800\/30{background-color:#1e29394d}@supports (color:color-mix(in lab,red,red)){.bg-gray-800\/30{background-color:color-mix(in oklab,var(--color-gray-800)30%,transparent)}}.bg-gray-800\/50{background-color:#1e293980}@supports (color:color-mix(in lab,red,red)){.bg-gray-800\/50{background-color:color-mix(in oklab,var(--color-gray-800)50%,transparent)}}.bg-gray-900{background-color:var(--color-gray-900)}.bg-gray-900\/50{background-color:#10182880}@supports (color:color-mix(in lab,red,red)){.bg-gray-900\/50{background-color:color-mix(in oklab,var(--color-gray-900)50%,transparent)}}.bg-gray-900\/95{background-color:#101828f2}@supports (color:color-mix(in lab,red,red)){.bg-gray-900\/95{background-color:color-mix(in oklab,var(--color-gray-900)95%,transparent)}}.bg-green-600{background-color:var(--color-green-600)}.bg-magenta-400{background-color:var(--color-magenta-400)}.bg-magenta-500{background-color:var(--color-magenta-500)}.bg-magenta-500\/30{background-color:#d946ef4d}@supports (color:color-mix(in lab,red,red)){.bg-magenta-500\/30{background-color:color-mix(in oklab,var(--color-magenta-500)30%,transparent)}}.bg-magenta-600{background-color:var(--color-magenta-600)}.bg-magenta-600\/10{background-color:#c026d31a}@supports (color:color-mix(in lab,red,red)){.bg-magenta-600\/10{background-color:color-mix(in oklab,var(--color-magenta-600)10%,transparent)}}.bg-magenta-600\/20{background-color:#c026d333}@supports (color:color-mix(in lab,red,red)){.bg-magenta-600\/20{background-color:color-mix(in oklab,var(--color-magenta-600)20%,transparent)}}.bg-magenta-600\/30{background-color:#c026d34d}@supports (color:color-mix(in lab,red,red)){.bg-magenta-600\/30{background-color:color-mix(in oklab,var(--color-magenta-600)30%,transparent)}}.bg-magenta-600\/40{background-color:#c026d366}@supports (color:color-mix(in lab,red,red)){.bg-magenta-600\/40{background-color:color-mix(in oklab,var(--color-magenta-600)40%,transparent)}}.bg-magenta-700{background-color:var(--color-magenta-700)}.bg-magenta-800\/30{background-color:#86198f4d}@supports (color:color-mix(in lab,red,red)){.bg-magenta-800\/30{background-color:color-mix(in oklab,var(--color-magenta-800)30%,transparent)}}.bg-magenta-800\/50{background-color:#86198f80}@supports (color:color-mix(in lab,red,red)){.bg-magenta-800\/50{background-color:color-mix(in oklab,var(--color-magenta-800)50%,transparent)}}.bg-magenta-900\/50{background-color:#701a7580}@supports (color:color-mix(in lab,red,red)){.bg-magenta-900\/50{background-color:color-mix(in oklab,var(--color-magenta-900)50%,transparent)}}.bg-magenta-950\/30{background-color:#4a044e4d}@supports (color:color-mix(in lab,red,red)){.bg-magenta-950\/30{background-color:color-mix(in oklab,var(--color-magenta-950)30%,transparent)}}.bg-magenta-950\/50{background-color:#4a044e80}@supports (color:color-mix(in lab,red,red)){.bg-magenta-950\/50{background-color:color-mix(in oklab,var(--color-magenta-950)50%,transparent)}}.bg-red-500{background-color:var(--color-red-500)}.bg-red-500\/10{background-color:#fb2c361a}@supports (color:color-mix(in lab,red,red)){.bg-red-500\/10{background-color:color-mix(in oklab,var(--color-red-500)10%,transparent)}}.bg-red-600{background-color:var(--color-red-600)}.bg-red-600\/50{background-color:#e4001480}@supports (color:color-mix(in lab,red,red)){.bg-red-600\/50{background-color:color-mix(in oklab,var(--color-red-600)50%,transparent)}}.bg-red-800{background-color:var(--color-red-800)}.bg-red-900{background-color:var(--color-red-900)}.bg-red-900\/20{background-color:#82181a33}@supports (color:color-mix(in lab,red,red)){.bg-red-900\/20{background-color:color-mix(in oklab,var(--color-red-900)20%,transparent)}}.bg-transparent{background-color:#0000}.bg-white\/5{background-color:#ffffff0d}@supports (color:color-mix(in lab,red,red)){.bg-white\/5{background-color:color-mix(in oklab,var(--color-white)5%,transparent)}}.bg-white\/10{background-color:#ffffff1a}@supports (color:color-mix(in lab,red,red)){.bg-white\/10{background-color:color-mix(in oklab,var(--color-white)10%,transparent)}}.bg-white\/20{background-color:#fff3}@supports (color:color-mix(in lab,red,red)){.bg-white\/20{background-color:color-mix(in oklab,var(--color-white)20%,transparent)}}.bg-gradient-to-br{--tw-gradient-position:to bottom right in oklab;background-image:linear-gradient(var(--tw-gradient-stops))}.bg-gradient-to-r{--tw-gradient-position:to right in oklab;background-image:linear-gradient(var(--tw-gradient-stops))}.bg-none{background-image:none}.from-gray-600{--tw-gradient-from:var(--color-gray-600);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.from-magenta-500{--tw-gradient-from:var(--color-magenta-500);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.from-magenta-800{--tw-gradient-from:var(--color-magenta-800);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.from-transparent{--tw-gradient-from:transparent;--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.to-gray-700{--tw-gradient-to:var(--color-gray-700);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.to-magenta-600{--tw-gradient-to:var(--color-magenta-600);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.to-magenta-900{--tw-gradient-to:var(--color-magenta-900);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.bg-cover{background-size:cover}.bg-top{background-position:top}.bg-no-repeat{background-repeat:no-repeat}.object-contain{object-fit:contain}.object-cover{object-fit:cover}.p-1{padding:calc(var(--spacing)*1)}.p-1\.5{padding:calc(var(--spacing)*1.5)}.p-2{padding:calc(var(--spacing)*2)}.p-3{padding:calc(var(--spacing)*3)}.p-4{padding:calc(var(--spacing)*4)}.p-6{padding:calc(var(--spacing)*6)}.p-8{padding:calc(var(--spacing)*8)}.p-12{padding:calc(var(--spacing)*12)}.p-20{padding:calc(var(--spacing)*20)}.px-1{padding-inline:calc(var(--spacing)*1)}.px-2{padding-inline:calc(var(--spacing)*2)}.px-3{padding-inline:calc(var(--spacing)*3)}.px-4{padding-inline:calc(var(--spacing)*4)}.px-6{padding-inline:calc(var(--spacing)*6)}.px-8{padding-inline:calc(var(--spacing)*8)}.py-0\.5{padding-block:calc(var(--spacing)*.5)}.py-1{padding-block:calc(var(--spacing)*1)}.py-1\.5{padding-block:calc(var(--spacing)*1.5)}.py-2{padding-block:calc(var(--spacing)*2)}.py-3{padding-block:calc(var(--spacing)*3)}.py-4{padding-block:calc(var(--spacing)*4)}.py-6{padding-block:calc(var(--spacing)*6)}.py-8{padding-block:calc(var(--spacing)*8)}.py-12{padding-block:calc(var(--spacing)*12)}.py-16{padding-block:calc(var(--spacing)*16)}.pt-4{padding-top:calc(var(--spacing)*4)}.pt-8{padding-top:calc(var(--spacing)*8)}.pr-3{padding-right:calc(var(--spacing)*3)}.pb-2{padding-bottom:calc(var(--spacing)*2)}.pb-6{padding-bottom:calc(var(--spacing)*6)}.pb-20{padding-bottom:calc(var(--spacing)*20)}.pl-10{padding-left:calc(var(--spacing)*10)}.text-center{text-align:center}.text-left{text-align:left}.text-right{text-align:right}.font-mono{font-family:var(--font-mono)}.font-sans{font-family:var(--font-sans)}.text-2xl{font-size:var(--text-2xl);line-height:var(--tw-leading,var(--text-2xl--line-height))}.text-3xl{font-size:var(--text-3xl);line-height:var(--tw-leading,var(--text-3xl--line-height))}.text-4xl{font-size:var(--text-4xl);line-height:var(--tw-leading,var(--text-4xl--line-height))}.text-6xl{font-size:var(--text-6xl);line-height:var(--tw-leading,var(--text-6xl--line-height))}.text-base{font-size:var(--text-base);line-height:var(--tw-leading,var(--text-base--line-height))}.text-lg{font-size:var(--text-lg);line-height:var(--tw-leading,var(--text-lg--line-height))}.text-sm{font-size:var(--text-sm);line-height:var(--tw-leading,var(--text-sm--line-height))}.text-xl{font-size:var(--text-xl);line-height:var(--tw-leading,var(--text-xl--line-height))}.text-xs{font-size:var(--text-xs);line-height:var(--tw-leading,var(--text-xs--line-height))}.text-\[10px\]{font-size:10px}.leading-relaxed{--tw-leading:var(--leading-relaxed);line-height:var(--leading-relaxed)}.font-bold{--tw-font-weight:var(--font-weight-bold);font-weight:var(--font-weight-bold)}.font-light{--tw-font-weight:var(--font-weight-light);font-weight:var(--font-weight-light)}.font-medium{--tw-font-weight:var(--font-weight-medium);font-weight:var(--font-weight-medium)}.font-normal{--tw-font-weight:var(--font-weight-normal);font-weight:var(--font-weight-normal)}.font-semibold{--tw-font-weight:var(--font-weight-semibold);font-weight:var(--font-weight-semibold)}.tracking-wide{--tw-tracking:var(--tracking-wide);letter-spacing:var(--tracking-wide)}.tracking-wider{--tw-tracking:var(--tracking-wider);letter-spacing:var(--tracking-wider)}.break-words{overflow-wrap:break-word}.break-all{word-break:break-all}.whitespace-nowrap{white-space:nowrap}.text-black{color:var(--color-black)}.text-fuchsia-400{color:var(--color-fuchsia-400)}.text-gray-200{color:var(--color-gray-200)}.text-gray-300{color:var(--color-gray-300)}.text-gray-400{color:var(--color-gray-400)}.text-gray-500{color:var(--color-gray-500)}.text-gray-600{color:var(--color-gray-600)}.text-magenta-100{color:var(--color-magenta-100)}.text-magenta-200{color:var(--color-magenta-200)}.text-magenta-300{color:var(--color-magenta-300)}.text-magenta-400{color:var(--color-magenta-400)}.text-magenta-500{color:var(--color-magenta-500)}.text-red-300{color:var(--color-red-300)}.text-red-400{color:var(--color-red-400)}.text-white{color:var(--color-white)}.text-white\/30{color:#ffffff4d}@supports (color:color-mix(in lab,red,red)){.text-white\/30{color:color-mix(in oklab,var(--color-white)30%,transparent)}}.text-white\/50{color:#ffffff80}@supports (color:color-mix(in lab,red,red)){.text-white\/50{color:color-mix(in oklab,var(--color-white)50%,transparent)}}.text-white\/60{color:#fff9}@supports (color:color-mix(in lab,red,red)){.text-white\/60{color:color-mix(in oklab,var(--color-white)60%,transparent)}}.text-white\/70{color:#ffffffb3}@supports (color:color-mix(in lab,red,red)){.text-white\/70{color:color-mix(in oklab,var(--color-white)70%,transparent)}}.text-white\/90{color:#ffffffe6}@supports (color:color-mix(in lab,red,red)){.text-white\/90{color:color-mix(in oklab,var(--color-white)90%,transparent)}}.lowercase{text-transform:lowercase}.uppercase{text-transform:uppercase}.italic{font-style:italic}.font-stretch-expanded{font-stretch:125%}.tabular-nums{--tw-numeric-spacing:tabular-nums;font-variant-numeric:var(--tw-ordinal,)var(--tw-slashed-zero,)var(--tw-numeric-figure,)var(--tw-numeric-spacing,)var(--tw-numeric-fraction,)}.placeholder-gray-400::placeholder{color:var(--color-gray-400)}.placeholder-gray-500::placeholder{color:var(--color-gray-500)}.opacity-0{opacity:0}.opacity-5{opacity:.05}.opacity-50{opacity:.5}.opacity-60{opacity:.6}.opacity-100{opacity:1}.shadow-2xl{--tw-shadow:0 25px 50px -12px var(--tw-shadow-color,#00000040);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.shadow-lg{--tw-shadow:0 10px 15px -3px var(--tw-shadow-color,#0000001a),0 4px 6px -4px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.shadow-xl{--tw-shadow:0 20px 25px -5px var(--tw-shadow-color,#0000001a),0 8px 10px -6px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.outline{outline-style:var(--tw-outline-style);outline-width:1px}.blur{--tw-blur:blur(8px);filter:var(--tw-blur,)var(--tw-brightness,)var(--tw-contrast,)var(--tw-grayscale,)var(--tw-hue-rotate,)var(--tw-invert,)var(--tw-saturate,)var(--tw-sepia,)var(--tw-drop-shadow,)}.filter{filter:var(--tw-blur,)var(--tw-brightness,)var(--tw-contrast,)var(--tw-grayscale,)var(--tw-hue-rotate,)var(--tw-invert,)var(--tw-saturate,)var(--tw-sepia,)var(--tw-drop-shadow,)}.backdrop-blur-sm{--tw-backdrop-blur:blur(var(--blur-sm));-webkit-backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,);backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,)}.backdrop-blur-xl{--tw-backdrop-blur:blur(var(--blur-xl));-webkit-backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,);backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,)}.backdrop-filter{-webkit-backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,);backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,)}.transition{transition-property:color,background-color,border-color,outline-color,text-decoration-color,fill,stroke,--tw-gradient-from,--tw-gradient-via,--tw-gradient-to,opacity,box-shadow,transform,translate,scale,rotate,filter,-webkit-backdrop-filter,backdrop-filter,display,visibility,content-visibility,overlay,pointer-events;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-all{transition-property:all;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-colors{transition-property:color,background-color,border-color,outline-color,text-decoration-color,fill,stroke,--tw-gradient-from,--tw-gradient-via,--tw-gradient-to;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-opacity{transition-property:opacity;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-transform{transition-property:transform,translate,scale,rotate;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.duration-100{--tw-duration:.1s;transition-duration:.1s}.duration-200{--tw-duration:.2s;transition-duration:.2s}.duration-300{--tw-duration:.3s;transition-duration:.3s}.duration-500{--tw-duration:.5s;transition-duration:.5s}.duration-600{--tw-duration:.6s;transition-duration:.6s}.duration-1000{--tw-duration:1s;transition-duration:1s}.ease-in-out{--tw-ease:var(--ease-in-out);transition-timing-function:var(--ease-in-out)}.ease-out{--tw-ease:var(--ease-out);transition-timing-function:var(--ease-out)}.outline-none{--tw-outline-style:none;outline-style:none}@media (hover:hover){.group-hover\:block:is(:where(.group):hover *){display:block}.group-hover\:hidden:is(:where(.group):hover *){display:none}.group-hover\:translate-x-0:is(:where(.group):hover *){--tw-translate-x:calc(var(--spacing)*0);translate:var(--tw-translate-x)var(--tw-translate-y)}.group-hover\:scale-105:is(:where(.group):hover *){--tw-scale-x:105%;--tw-scale-y:105%;--tw-scale-z:105%;scale:var(--tw-scale-x)var(--tw-scale-y)}.group-hover\:text-magenta-300:is(:where(.group):hover *){color:var(--color-magenta-300)}.group-hover\:text-transparent:is(:where(.group):hover *){color:#0000}.group-hover\:text-white:is(:where(.group):hover *){color:var(--color-white)}.group-hover\:opacity-100:is(:where(.group):hover *){opacity:1}}.last\:border-b-0:last-child{border-bottom-style:var(--tw-border-style);border-bottom-width:0}@media (hover:hover){.hover\:h-1\.5:hover{height:calc(var(--spacing)*1.5)}.hover\:h-2:hover{height:calc(var(--spacing)*2)}.hover\:w-2:hover{width:calc(var(--spacing)*2)}.hover\:scale-105:hover{--tw-scale-x:105%;--tw-scale-y:105%;--tw-scale-z:105%;scale:var(--tw-scale-x)var(--tw-scale-y)}.hover\:scale-110:hover{--tw-scale-x:110%;--tw-scale-y:110%;--tw-scale-z:110%;scale:var(--tw-scale-x)var(--tw-scale-y)}.hover\:border-gray-400:hover{border-color:var(--color-gray-400)}.hover\:border-magenta-400:hover{border-color:var(--color-magenta-400)}.hover\:border-red-400:hover{border-color:var(--color-red-400)}.hover\:border-red-600:hover{border-color:var(--color-red-600)}.hover\:bg-black\/70:hover{background-color:#000000b3}@supports (color:color-mix(in lab,red,red)){.hover\:bg-black\/70:hover{background-color:color-mix(in oklab,var(--color-black)70%,transparent)}}.hover\:bg-dark-200:hover{background-color:var(--color-dark-200)}.hover\:bg-dark-300:hover{background-color:var(--color-dark-300)}.hover\:bg-fuchsia-700:hover{background-color:var(--color-fuchsia-700)}.hover\:bg-gray-50:hover{background-color:var(--color-gray-50)}.hover\:bg-gray-100:hover{background-color:var(--color-gray-100)}.hover\:bg-gray-200:hover{background-color:var(--color-gray-200)}.hover\:bg-gray-600:hover{background-color:var(--color-gray-600)}.hover\:bg-gray-600\/70:hover{background-color:#4a5565b3}@supports (color:color-mix(in lab,red,red)){.hover\:bg-gray-600\/70:hover{background-color:color-mix(in oklab,var(--color-gray-600)70%,transparent)}}.hover\:bg-gray-700:hover{background-color:var(--color-gray-700)}.hover\:bg-gray-800:hover{background-color:var(--color-gray-800)}.hover\:bg-gray-900:hover{background-color:var(--color-gray-900)}.hover\:bg-green-700:hover{background-color:var(--color-green-700)}.hover\:bg-magenta-500:hover{background-color:var(--color-magenta-500)}.hover\:bg-magenta-600:hover{background-color:var(--color-magenta-600)}.hover\:bg-magenta-600\/20:hover{background-color:#c026d333}@supports (color:color-mix(in lab,red,red)){.hover\:bg-magenta-600\/20:hover{background-color:color-mix(in oklab,var(--color-magenta-600)20%,transparent)}}.hover\:bg-magenta-600\/30:hover{background-color:#c026d34d}@supports (color:color-mix(in lab,red,red)){.hover\:bg-magenta-600\/30:hover{background-color:color-mix(in oklab,var(--color-magenta-600)30%,transparent)}}.hover\:bg-magenta-600\/50:hover{background-color:#c026d380}@supports (color:color-mix(in lab,red,red)){.hover\:bg-magenta-600\/50:hover{background-color:color-mix(in oklab,var(--color-magenta-600)50%,transparent)}}.hover\:bg-magenta-700:hover{background-color:var(--color-magenta-700)}.hover\:bg-magenta-800:hover{background-color:var(--color-magenta-800)}.hover\:bg-red-500\/10:hover{background-color:#fb2c361a}@supports (color:color-mix(in lab,red,red)){.hover\:bg-red-500\/10:hover{background-color:color-mix(in oklab,var(--color-red-500)10%,transparent)}}.hover\:bg-red-500\/20:hover{background-color:#fb2c3633}@supports (color:color-mix(in lab,red,red)){.hover\:bg-red-500\/20:hover{background-color:color-mix(in oklab,var(--color-red-500)20%,transparent)}}.hover\:bg-red-500\/80:hover{background-color:#fb2c36cc}@supports (color:color-mix(in lab,red,red)){.hover\:bg-red-500\/80:hover{background-color:color-mix(in oklab,var(--color-red-500)80%,transparent)}}.hover\:bg-red-600:hover{background-color:var(--color-red-600)}.hover\:bg-red-600\/30:hover{background-color:#e400144d}@supports (color:color-mix(in lab,red,red)){.hover\:bg-red-600\/30:hover{background-color:color-mix(in oklab,var(--color-red-600)30%,transparent)}}.hover\:bg-red-600\/70:hover{background-color:#e40014b3}@supports (color:color-mix(in lab,red,red)){.hover\:bg-red-600\/70:hover{background-color:color-mix(in oklab,var(--color-red-600)70%,transparent)}}.hover\:bg-red-700:hover{background-color:var(--color-red-700)}.hover\:bg-red-900:hover{background-color:var(--color-red-900)}.hover\:bg-white\/10:hover{background-color:#ffffff1a}@supports (color:color-mix(in lab,red,red)){.hover\:bg-white\/10:hover{background-color:color-mix(in oklab,var(--color-white)10%,transparent)}}.hover\:bg-white\/20:hover{background-color:#fff3}@supports (color:color-mix(in lab,red,red)){.hover\:bg-white\/20:hover{background-color:color-mix(in oklab,var(--color-white)20%,transparent)}}.hover\:text-fuchsia-300:hover{color:var(--color-fuchsia-300)}.hover\:text-gray-200:hover{color:var(--color-gray-200)}.hover\:text-gray-300:hover{color:var(--color-gray-300)}.hover\:text-green-400:hover{color:var(--color-green-400)}.hover\:text-magenta-100:hover{color:var(--color-magenta-100)}.hover\:text-magenta-300:hover{color:var(--color-magenta-300)}.hover\:text-magenta-400:hover{color:var(--color-magenta-400)}.hover\:text-magenta-500:hover{color:var(--color-magenta-500)}.hover\:text-red-300:hover{color:var(--color-red-300)}.hover\:text-red-400:hover{color:var(--color-red-400)}.hover\:text-white:hover{color:var(--color-white)}.hover\:opacity-100:hover{opacity:1}.hover\:ring-2:hover{--tw-ring-shadow:var(--tw-ring-inset,)0 0 0 calc(2px + var(--tw-ring-offset-width))var(--tw-ring-color,currentcolor);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.hover\:ring-magenta-500:hover{--tw-ring-color:var(--color-magenta-500)}}.focus\:border-magenta-300:focus{border-color:var(--color-magenta-300)}.focus\:border-magenta-400:focus{border-color:var(--color-magenta-400)}.focus\:border-magenta-500:focus{border-color:var(--color-magenta-500)}.focus\:border-transparent:focus{border-color:#0000}.focus\:bg-gray-700:focus{background-color:var(--color-gray-700)}.focus\:bg-gray-800:focus{background-color:var(--color-gray-800)}.focus\:ring-1:focus{--tw-ring-shadow:var(--tw-ring-inset,)0 0 0 calc(1px + var(--tw-ring-offset-width))var(--tw-ring-color,currentcolor);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.focus\:ring-2:focus{--tw-ring-shadow:var(--tw-ring-inset,)0 0 0 calc(2px + var(--tw-ring-offset-width))var(--tw-ring-color,currentcolor);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.focus\:ring-fuchsia-500:focus{--tw-ring-color:var(--color-fuchsia-500)}.focus\:ring-gray-500:focus{--tw-ring-color:var(--color-gray-500)}.focus\:ring-magenta-500:focus{--tw-ring-color:var(--color-magenta-500)}.focus\:ring-offset-2:focus{--tw-ring-offset-width:2px;--tw-ring-offset-shadow:var(--tw-ring-inset,)0 0 0 var(--tw-ring-offset-width)var(--tw-ring-offset-color)}.focus\:outline-none:focus{--tw-outline-style:none;outline-style:none}.active\:cursor-grabbing:active{cursor:grabbing}.disabled\:cursor-not-allowed:disabled{cursor:not-allowed}.disabled\:bg-gray-400:disabled{background-color:var(--color-gray-400)}.disabled\:bg-gray-600:disabled{background-color:var(--color-gray-600)}.disabled\:bg-green-400:disabled{background-color:var(--color-green-400)}.disabled\:bg-magenta-400:disabled{background-color:var(--color-magenta-400)}.disabled\:bg-magenta-800:disabled{background-color:var(--color-magenta-800)}.disabled\:bg-red-400:disabled{background-color:var(--color-red-400)}.disabled\:text-gray-600:disabled{color:var(--color-gray-600)}.disabled\:opacity-40:disabled{opacity:.4}.disabled\:opacity-50:disabled{opacity:.5}@media (hover:hover){.disabled\:hover\:scale-100:disabled:hover{--tw-scale-x:100%;--tw-scale-y:100%;--tw-scale-z:100%;scale:var(--tw-scale-x)var(--tw-scale-y)}}@media (min-width:40rem){.sm\:inline{display:inline}}@media (min-width:48rem){.md\:block{display:block}.md\:flex{display:flex}.md\:grid{display:grid}.md\:hidden{display:none}.md\:grid-cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}.md\:p-4{padding:calc(var(--spacing)*4)}.md\:py-2{padding-block:calc(var(--spacing)*2)}}@media (min-width:64rem){.lg\:flex{display:flex}.lg\:hidden{display:none}.lg\:grid-cols-4{grid-template-columns:repeat(4,minmax(0,1fr))}}@media (min-width:80rem){.xl\:grid-cols-5{grid-template-columns:repeat(5,minmax(0,1fr))}}@media (min-width:96rem){.\32xl\:grid-cols-6{grid-template-columns:repeat(6,minmax(0,1fr))}}.\[\&\>\*\:nth-child\(1\)\]\:col-span-3>:first-child{grid-column:span 3/span 3}.\[\&\>\*\:nth-child\(1\)\]\:col-span-4>:first-child{grid-column:span 4/span 4}.\[\&\>\*\:nth-child\(2\)\]\:col-span-6>:nth-child(2){grid-column:span 6/span 6}.\[\&\>\*\:nth-child\(2\)\]\:col-span-8>:nth-child(2){grid-column:span 8/span 8}.\[\&\>\*\:nth-child\(2\)\]\:col-span-9>:nth-child(2){grid-column:span 9/span 9}.\[\&\>\*\:nth-child\(3\)\]\:col-span-3>:nth-child(3){grid-column:span 3/span 3}.no-select{-webkit-user-select:none;user-select:none}.focus-outline:focus{outline:none;box-shadow:0 0 0 2px #d946ef80}}.loading-shimmer{background:linear-gradient(90deg,#1a1a1a 25%,#2a2a2a,#1a1a1a 75%) 0 0/200% 100%;animation:1.5s infinite shimmer}@keyframes shimmer{0%{background-position:-200% 0}to{background-position:200% 0}}@media (max-width:900px){.mobile-full-width{width:100%!important}.mobile-hidden{display:none!important}.mobile-flex-col{flex-direction:column!important}.mobile-text-center{text-align:center!important}.mobile-gap-2{gap:.5rem!important}.mobile-p-4{padding:1rem!important}}.dynamic-background{will-change:background-image,filter;background-position:50%;background-repeat:no-repeat;background-size:cover;background-attachment:fixed;transition:all 1s cubic-bezier(.4,0,.2,1)}.dynamic-background:before{content:"";filter:blur(12px)saturate(1.2);z-index:-1;position:absolute;inset:-20px}.sidebar-collapse-enter{animation:.3s cubic-bezier(.4,0,.2,1) slideInLeft}.sidebar-collapse-exit{animation:.3s cubic-bezier(.4,0,.2,1) slideOutLeft}@keyframes slideInLeft{0%{opacity:0;transform:translate(-100%)}to{opacity:1;transform:translate(0)}}@keyframes slideOutLeft{0%{opacity:1;transform:translate(0)}to{opacity:0;transform:translate(-100%)}}.bg-fade-enter{animation:1s ease-out fadeIn}.bg-fade-exit{animation:.5s ease-out fadeOut}@keyframes fadeIn{0%{opacity:0;filter:blur(20px)brightness(.1)}to{opacity:.2;filter:blur(8px)brightness(.3)}}@keyframes fadeOut{0%{opacity:.2;filter:blur(8px)brightness(.3)}to{opacity:0;filter:blur(20px)brightness(.1)}}@media (max-width:900px){.touch-target{min-width:44px!important;min-height:44px!important}.mobile-text-lg{font-size:1.125rem!important}.mobile-text-base{font-size:1rem!important}.mobile-p-6{padding:1.5rem!important}.mobile-px-4{padding-left:1rem!important;padding-right:1rem!important}.mobile-overlay-buttons{-webkit-backdrop-filter:blur(8px)!important;backdrop-filter:blur(8px)!important;background:#000000e6!important;border-radius:12px!important;padding:8px!important}}.seek-slider::-webkit-slider-thumb{-webkit-appearance:none;cursor:pointer;background-color:#000;background-image:url("data:image/svg+xml,%3Csvg width='20' height='20' viewBox='0 0 500 500' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M250 405L125 155L375 155L303.611 340.714L250 405Z' fill='%23ec4899'/%3E%3C/svg%3E");background-position:50%;background-repeat:no-repeat;background-size:contain;border:none;border-radius:3px;outline:none;width:20px;height:20px}.seek-slider::-webkit-slider-thumb:hover{background-image:url("data:image/svg+xml,%3Csvg width='20' height='20' viewBox='0 0 500 500' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M250 405L125 155L375 155L303.611 340.714L250 405Z' fill='%23f472b6'/%3E%3C/svg%3E");transform:scale(1.1)}.seek-slider::-moz-range-thumb{cursor:pointer;background-color:#000;background-image:url("data:image/svg+xml,%3Csvg width='20' height='20' viewBox='0 0 500 500' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M250 405L125 155L375 155L303.611 340.714L250 405Z' fill='%23ec4899'/%3E%3C/svg%3E");background-position:50%;background-repeat:no-repeat;background-size:contain;border:none;border-radius:3px;outline:none;width:20px;height:20px}.seek-slider::-moz-range-thumb:hover{background-image:url("data:image/svg+xml,%3Csvg width='20' height='20' viewBox='0 0 500 500' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M250 405L125 155L375 155L303.611 340.714L250 405Z' fill='%23f472b6'/%3E%3C/svg%3E");transform:scale(1.1)}.seek-slider:focus{outline:none}.seek-slider:focus::-webkit-slider-thumb{outline:none}.seek-slider:focus::-moz-range-thumb{outline:none}@property --tw-translate-x{syntax:"*";inherits:false;initial-value:0}@property --tw-translate-y{syntax:"*";inherits:false;initial-value:0}@property --tw-translate-z{syntax:"*";inherits:false;initial-value:0}@property --tw-rotate-x{syntax:"*";inherits:false}@property --tw-rotate-y{syntax:"*";inherits:false}@property --tw-rotate-z{syntax:"*";inherits:false}@property --tw-skew-x{syntax:"*";inherits:false}@property --tw-skew-y{syntax:"*";inherits:false}@property --tw-space-y-reverse{syntax:"*";inherits:false;initial-value:0}@property --tw-space-x-reverse{syntax:"*";inherits:false;initial-value:0}@property --tw-border-style{syntax:"*";inherits:false;initial-value:solid}@property --tw-gradient-position{syntax:"*";inherits:false}@property --tw-gradient-from{syntax:"<color>";inherits:false;initial-value:#0000}@property --tw-gradient-via{syntax:"<color>";inherits:false;initial-value:#0000}@property --tw-gradient-to{syntax:"<color>";inherits:false;initial-value:#0000}@property --tw-gradient-stops{syntax:"*";inherits:false}@property --tw-gradient-via-stops{syntax:"*";inherits:false}@property --tw-gradient-from-position{syntax:"<length-percentage>";inherits:false;initial-value:0%}@property --tw-gradient-via-position{syntax:"<length-percentage>";inherits:false;initial-value:50%}@property --tw-gradient-to-position{syntax:"<length-percentage>";inherits:false;initial-value:100%}@property --tw-leading{syntax:"*";inherits:false}@property --tw-font-weight{syntax:"*";inherits:false}@property --tw-tracking{syntax:"*";inherits:false}@property --tw-ordinal{syntax:"*";inherits:false}@property --tw-slashed-zero{syntax:"*";inherits:false}@property --tw-numeric-figure{syntax:"*";inherits:false}@property --tw-numeric-spacing{syntax:"*";inherits:false}@property --tw-numeric-fraction{syntax:"*";inherits:false}@property --tw-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-shadow-color{syntax:"*";inherits:false}@property --tw-shadow-alpha{syntax:"<percentage>";inherits:false;initial-value:100%}@property --tw-inset-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-inset-shadow-color{syntax:"*";inherits:false}@property --tw-inset-shadow-alpha{syntax:"<percentage>";inherits:false;initial-value:100%}@property --tw-ring-color{syntax:"*";inherits:false}@property --tw-ring-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-inset-ring-color{syntax:"*";inherits:false}@property --tw-inset-ring-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-ring-inset{syntax:"*";inherits:false}@property --tw-ring-offset-width{syntax:"<length>";inherits:false;initial-value:0}@property --tw-ring-offset-color{syntax:"*";inherits:false;initial-value:#fff}@property --tw-ring-offset-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-outline-style{syntax:"*";inherits:false;initial-value:solid}@property --tw-blur{syntax:"*";inherits:false}@property --tw-brightness{syntax:"*";inherits:false}@property --tw-contrast{syntax:"*";inherits:false}@property --tw-grayscale{syntax:"*";inherits:false}@property --tw-hue-rotate{syntax:"*";inherits:false}@property --tw-invert{syntax:"*";inherits:false}@property --tw-opacity{syntax:"*";inherits:false}@property --tw-saturate{syntax:"*";inherits:false}@property --tw-sepia{syntax:"*";inherits:false}@property --tw-drop-shadow{syntax:"*";inherits:false}@property --tw-drop-shadow-color{syntax:"*";inherits:false}@property --tw-drop-shadow-alpha{syntax:"<percentage>";inherits:false;initial-value:100%}@property --tw-drop-shadow-size{syntax:"*";inherits:false}@property --tw-backdrop-blur{syntax:"*";inherits:false}@property --tw-backdrop-brightness{syntax:"*";inherits:false}@property --tw-backdrop-contrast{syntax:"*";inherits:false}@property --tw-backdrop-grayscale{syntax:"*";inherits:false}@property --tw-backdrop-hue-rotate{syntax:"*";inherits:false}@property --tw-backdrop-invert{syntax:"*";inherits:false}@property --tw-backdrop-opacity{syntax:"*";inherits:false}@property --tw-backdrop-saturate{syntax:"*";inherits:false}@property --tw-backdrop-sepia{syntax:"*";inherits:false}@property --tw-duration{syntax:"*";inherits:false}@property --tw-ease{syntax:"*";inherits:false}@property --tw-scale-x{syntax:"*";inherits:false;initial-value:1}@property --tw-scale-y{syntax:"*";inherits:false;initial-value:1}@property --tw-scale-z{syntax:"*";inherits:false;initial-value:1}@keyframes spin{to{transform:rotate(360deg)}}@keyframes pulse{50%{opacity:.5}}
/*$vite$:1*/
  </style>

    <!-- Open Graph meta tags for rich link previews -->
    <meta property="og:type" content="website" />
    <meta property="og:title" content="triphobia mixtape" />
    <meta property="og:description" content="+ ppl we know && <3" />
    <meta property="og:site_name" content="playlistz" />
    <meta property="og:image" content="/data/playlist-cover.jpg" />
    <meta property="og:image:width" content="512" />
    <meta property="og:image:height" content="512" />

    <!-- standard meta tags -->
    <meta name="description" content="+ ppl we know && <3" />

    <script type="application/json" id="playlist-data">
{
  "playlist": {
    "id": "379777bf-bf2f-4b2a-a35c-e9fe02305fe0",
    "title": "triphobia mixtape",
    "description": "+ ppl we know && <3",
    "createdAt": "2025-08-05T04:29:28.747Z",
    "updatedAt": "2025-08-12T02:16:28.760Z",
    "rev": 16,
    "songCount": 23,
    "totalDuration": 6851.413862,
    "imageExtension": ".jpg",
    "imageMimeType": "image/jpeg"
  },
  "songs": [
    {
      "id": "169725b1-c236-4dc3-b800-6896337bbdcb",
      "title": "we cannot all be responsible to the oracle at once",
      "artist": "triphobia",
      "album": "a side",
      "duration": 289.883764,
      "originalFilename": "01-we cannot all be responsible to the oracle at once.mp3",
      "safeFilename": "01-we cannot all be responsible to the oracle at once.mp3",
      "fileSize": 7691525,
      "mimeType": "audio/mpeg",
      "sha": "d3d27af9e04bff3fc0b25ae60478c618b450700edcb67fdbe7937d261b7b0371",
      "imageExtension": ".jpg",
      "imageMimeType": "image/jpeg"
    },
    {
      "id": "f3052eb1-fec3-4460-87a5-df3e8da0ff28",
      "title": "bonez",
      "artist": "triphobia",
      "album": "a side",
      "duration": 242.532608,
      "originalFilename": "02-bonez.mp3",
      "safeFilename": "02-bonez.mp3",
      "fileSize": 5958946,
      "mimeType": "audio/mpeg",
      "sha": "c67d1b3e036d5762935334fdce67c7990eb9438caef9bb91768d32f1e23ce311",
      "imageExtension": ".jpg",
      "imageMimeType": "image/jpeg"
    },
    {
      "id": "5196ad6d-61ce-4883-baa6-aa6d7352af06",
      "title": "paving brickz",
      "artist": "triphobia",
      "album": "a side",
      "duration": 468.496644,
      "originalFilename": "03-paving brickz.mp3",
      "safeFilename": "03-paving brickz.mp3",
      "fileSize": 10889956,
      "mimeType": "audio/mpeg",
      "sha": "7215ca753d7a15cd87d960d310da863ed91a586e319c8d8ae3a4134a62e5b391",
      "imageExtension": ".jpg",
      "imageMimeType": "image/jpeg"
    },
    {
      "id": "319f05bc-1eef-4258-979f-6b9778c08b24",
      "title": "i tried 2 tell u",
      "artist": "triphobia",
      "album": "a side",
      "duration": 801.759705,
      "originalFilename": "04-i tried 2 tell u.mp3",
      "safeFilename": "04-i tried 2 tell u.mp3",
      "fileSize": 20762634,
      "mimeType": "audio/mpeg",
      "sha": "2f469fe7c7fb5749865c0864d82d84a3ff563c4d5f8c69b8961ae3562b7b1ae9",
      "imageExtension": ".jpg",
      "imageMimeType": "image/jpeg"
    },
    {
      "id": "b4956bb8-f524-47e2-ad12-84b40c057933",
      "title": "that one time we sang every nirvana song at marsh",
      "artist": "triphobia",
      "album": "a side",
      "duration": 631.05322,
      "originalFilename": "05-that one time we sang every nirvana song at marsh.mp3",
      "safeFilename": "05-that one time we sang every nirvana song at marsh.mp3",
      "fileSize": 14422245,
      "mimeType": "audio/mpeg",
      "sha": "aeb5d3872abafb7112f0d62a01e5b92b55c0ed7dfb1194bca8df02820ad2229c",
      "imageExtension": ".jpg",
      "imageMimeType": "image/jpeg"
    },
    {
      "id": "9c9ccd75-36de-4954-9da7-a1e6ad036461",
      "title": "On the Cranial Nerves of Barbarians II: A Carp Sanctuary [carp tape 01]",
      "artist": "panoply performance laboratory",
      "album": "a side",
      "duration": 449.572812,
      "originalFilename": "06-On the Cranial Nerves of Barbarians II: A Carp Sanctuary [carp tape 01].mp3",
      "safeFilename": "06-On the Cranial Nerves of Barbarians II_ A Carp Sanctuary _LBRACKET_carp tape 01_RBRACKET_.mp3",
      "fileSize": 10266138,
      "mimeType": "audio/mpeg",
      "sha": "0bc2b6a5718e038ed641e1290cfcfea03f214f31d961158f720b44f908a7bbc2",
      "imageExtension": ".gif",
      "imageMimeType": "image/gif"
    },
    {
      "id": "c7a7a613-2950-469e-a859-83c741ae6bf5",
      "title": "5:21:25, 11.23 PM",
      "artist": "twon mozz",
      "album": "b side",
      "duration": 167.973152,
      "originalFilename": "Project 2 - 5:21:25, 11.23 PM.m4a",
      "safeFilename": "Project 2 - 5_21_25, 11.23 PM.m4a",
      "fileSize": 2671194,
      "mimeType": "audio/mp4",
      "sha": "edb4e13e7c3495d504756a788a9b2c6c4e57a9d46dd28dab1d8880165148d350",
      "imageExtension": ".jpg",
      "imageMimeType": "image/jpeg"
    },
    {
      "id": "837faf0c-9945-4f1f-a774-b7ba449ca3e4",
      "title": "Classes to Masses (Overlfow-110 remix)",
      "artist": "Lola Kumtus",
      "album": "b side",
      "duration": 267.358685,
      "originalFilename": "Lola Kumtus - Classes to Masses (Overlfow-110 remix).flac",
      "safeFilename": "Lola Kumtus - Classes to Masses _LPAREN_Overlfow-110 remix_RPAREN_.flac",
      "fileSize": 44253304,
      "mimeType": "audio/flac",
      "sha": "d0c95ef204db4168f1753cc4897beb1c34df338158b44985814acdd95cccd9df",
      "imageExtension": ".jpg",
      "imageMimeType": "image/jpeg"
    },
    {
      "id": "10d3b6ed-4466-44bb-ac88-84087e1982be",
      "title": "Rich (2023 live edit)",
      "artist": "Sto Desyat",
      "album": "b side",
      "duration": 226.56,
      "originalFilename": "Sto Desyat - Rich (2023 live edit).flac",
      "safeFilename": "Sto Desyat - Rich _LPAREN_2023 live edit_RPAREN_.flac",
      "fileSize": 23299315,
      "mimeType": "audio/flac",
      "sha": "ae64f9db0b9e29b160c5f6f5292f1b6dd0c9ca1057a216cc29f5fca80c629325",
      "imageExtension": ".jpg",
      "imageMimeType": "image/jpeg"
    },
    {
      "id": "3b175d3f-09ef-4899-9ac0-8ac45852b703",
      "title": "Maan Tapa (Сто Десять путь)",
      "artist": "Lindelltronics",
      "album": "b side",
      "duration": 188.852472,
      "originalFilename": "Lindelltronics - Maan Tapa (Сто Десять путь).flac",
      "safeFilename": "Lindelltronics - Maan Tapa _LPAREN_Сто Десять путь_RPAREN_.flac",
      "fileSize": 36493742,
      "mimeType": "audio/flac",
      "sha": "9342e49a82066b3344c6d210d6845c8d788509cb27ae40b1ce5a67c537cad999",
      "imageExtension": ".jpg",
      "imageMimeType": "image/jpeg"
    },
    {
      "id": "4e788ec2-72ae-4283-a46d-de64b9147504",
      "title": "05 2 poems 4 u",
      "artist": "Claire’s Lobotomy",
      "album": "b side",
      "duration": 372.053333,
      "originalFilename": "05 2 poems 4 u.m4a",
      "safeFilename": "05 2 poems 4 u.m4a",
      "fileSize": 11209520,
      "mimeType": "audio/mp4",
      "sha": "9745bfadb93f53ce26c603818451c407523fb7b46a65bc84e407797d3344844f",
      "imageExtension": ".jpg",
      "imageMimeType": "image/jpeg"
    },
    {
      "id": "b2f33dea-105c-4f10-8604-4dfe3404b7c9",
      "title": "so maybe",
      "artist": "sea witch",
      "album": "b side",
      "duration": 137.002667,
      "originalFilename": "sea witch - so maybe.m4a",
      "safeFilename": "sea witch - so maybe.m4a",
      "fileSize": 555270,
      "mimeType": "audio/mp4",
      "sha": "f1676ed3ee6090d4469206e56bf8e03f69f43be1a8519876e2e338f6be5566d1",
      "imageExtension": null,
      "imageMimeType": null
    },
    {
      "id": "8449a86d-dfbe-4884-9812-30e68acf40da",
      "title": "7:2:25, 12.21 AM -- c7e[j- 1",
      "artist": "twon mozz",
      "album": "b side",
      "duration": 230.29551,
      "originalFilename": "from twon -- c7e[j- 1 - 7:2:25, 12.21 AM.m4a",
      "safeFilename": "from twon -- c7e_LBRACKET_j- 1 - 7_2_25, 12.21 AM.m4a",
      "fileSize": 3307805,
      "mimeType": "audio/mp4",
      "sha": "2c52590dea12068189994b560060fdd07b88bfdd59399a0819b309bc1c3aefcb",
      "imageExtension": ".png",
      "imageMimeType": "image/png"
    },
    {
      "id": "0b46311e-f810-465a-ae0b-5a0bd1891b60",
      "title": "7:16:25, 10.56 PM feub8.4.17 2",
      "artist": "twon mozz",
      "album": "b side",
      "duration": 99.613605,
      "originalFilename": "feub8.4.17 2 - 7:16:25, 10.56 PM .m4a",
      "safeFilename": "feub8.4.17 2 - 7_16_25, 10.56 PM .m4a",
      "fileSize": 1460477,
      "mimeType": "audio/mp4",
      "sha": "21987d6127c48254e326f8c4ba99fa3bacbcc53d8949fe8540ce0977fc54ea51",
      "imageExtension": ".jpg",
      "imageMimeType": "image/jpeg"
    },
    {
      "id": "4688c207-426f-42a5-be9b-88dc35af6095",
      "title": "P 25 feub8.4.17 1",
      "artist": "twon mozz",
      "album": "b side",
      "duration": 29.767982,
      "originalFilename": "feub8.4.17 1 - P 25.m4a",
      "safeFilename": "feub8.4.17 1 - P 25.m4a",
      "fileSize": 455222,
      "mimeType": "audio/mp4",
      "sha": "988c0e2f0901ffe8b87631e86357cd17d4a423d730c05553580e2ad374046f3e",
      "imageExtension": ".jpg",
      "imageMimeType": "image/jpeg"
    },
    {
      "id": "6b6e6ed2-a747-49d6-a550-798a5339a0c0",
      "title": "7:13:25, 1.40 AM 427 1",
      "artist": "twon mozz",
      "album": "b side",
      "duration": 184.32,
      "originalFilename": "427 1 - 7:13:25, 1.40 AM.m4a",
      "safeFilename": "427 1 - 7_13_25, 1.40 AM.m4a",
      "fileSize": 2907108,
      "mimeType": "audio/mp4",
      "sha": "8a80bfaf4322b92e9b1282573341e77497286449c0cd5cd3db89d8caa016be8d",
      "imageExtension": ".jpg",
      "imageMimeType": "image/jpeg"
    },
    {
      "id": "76dff2fc-503f-4759-95f2-707fbc1484f9",
      "title": "VID_20250729_162220813",
      "artist": "rzr sharp",
      "album": "b side",
      "duration": 33.237333,
      "originalFilename": "VID_20250729_162220813.m4a",
      "safeFilename": "VID_20250729_162220813.m4a",
      "fileSize": 1057085,
      "mimeType": "audio/mp4",
      "sha": "0d046038b5eab282ed591c483ed7cf06e2e4b824ebc39b7f1974b12f9a7d3fc1",
      "imageExtension": ".webp",
      "imageMimeType": "image/webp"
    },
    {
      "id": "ec55bbc6-666c-4b8d-a675-40140194d704",
      "title": "VID_20250602_173522265",
      "artist": "rzr sharp",
      "album": "b side",
      "duration": 112.64,
      "originalFilename": "VID_20250602_173522265.m4a",
      "safeFilename": "VID_20250602_173522265.m4a",
      "fileSize": 3676211,
      "mimeType": "audio/mp4",
      "sha": "6834d14e0b315a38768bca204ef03da9803c45733ecee03b02e75359ccfe8e59",
      "imageExtension": ".webp",
      "imageMimeType": "image/webp"
    },
    {
      "id": "163716fd-fcfb-4f1d-9d82-f8480b891c81",
      "title": "3-Audio 0002 [2025-05-06 220207]",
      "artist": "futuredeath.agency",
      "album": "b side",
      "duration": 552.86712,
      "originalFilename": "3-Audio 0002 [2025-05-06 220207].m4a",
      "safeFilename": "3-Audio 0002 _LBRACKET_2025-05-06 220207_RBRACKET_.m4a",
      "fileSize": 9047444,
      "mimeType": "audio/mp4",
      "sha": "a2c8eb14581a39e8a3926ee019e25d31f3b44025f16c6a0b83ce0d3465fcfe8e",
      "imageExtension": ".jpg",
      "imageMimeType": "image/jpeg"
    },
    {
      "id": "5e489b47-432a-46c9-aa2f-6c7057b8dd75",
      "title": "Age of Love",
      "artist": "The Saltinas",
      "album": "b side",
      "duration": 179.513479,
      "originalFilename": "＂Age of Love＂ The Saltinas [w8DLjikhLf8].mp3",
      "safeFilename": "＂Age of Love＂ The Saltinas _LBRACKET_w8DLjikhLf8_RBRACKET_.mp3",
      "fileSize": 2559932,
      "mimeType": "audio/mpeg",
      "sha": "873a0a67c078b5a44e8f1e2d2d6ac6a514302dfada53d23740d065671cb5b6e5",
      "imageExtension": ".webp",
      "imageMimeType": "image/webp"
    },
    {
      "id": "9aeefb5b-450a-4fff-9a33-494b5859957e",
      "title": "Silver Ships",
      "artist": "The Saltinas",
      "album": "b side",
      "duration": 225.837292,
      "originalFilename": "＂Silver Ships＂ The Saltinas [yI1-wJhR7m8].mp3",
      "safeFilename": "＂Silver Ships＂ The Saltinas _LBRACKET_yI1-wJhR7m8_RBRACKET_.mp3",
      "fileSize": 2954396,
      "mimeType": "audio/mpeg",
      "sha": "517335e62f12932fb18f352ac6dcaf2743f5a1f812492db29c5d911b23badb38",
      "imageExtension": ".webp",
      "imageMimeType": "image/webp"
    },
    {
      "id": "b61af2fd-c300-48bc-803b-14000ac187fe",
      "title": "red stair mix",
      "artist": "TRACE",
      "album": "b side",
      "duration": 548.681146,
      "originalFilename": "red stair mix.mp3",
      "safeFilename": "red stair mix.mp3",
      "fileSize": 8779661,
      "mimeType": "audio/mpeg",
      "sha": "5fd73c51604ab4d94b101802fbc49d95c6ac35f6be5ea9cb4aed53c53e439631",
      "imageExtension": ".jpg",
      "imageMimeType": "image/jpeg"
    },
    {
      "id": "d5c8f270-a28d-4ff0-bbf2-3bbcea4a9353",
      "title": "520 Parkside Ave 23 isthisatuba streetsoundz",
      "artist": "futuredeath.agency",
      "album": "b side",
      "duration": 411.541333,
      "originalFilename": "520 Parkside Ave 23 isthisatuba streetsoundz.m4a",
      "safeFilename": "520 Parkside Ave 23 isthisatuba streetsoundz.m4a",
      "fileSize": 3417718,
      "mimeType": "audio/mp4",
      "sha": "e680a8a4443664a2f1b6584675c9506476bf6da90ca2c08a47f1772fa424c902",
      "imageExtension": ".jpg",
      "imageMimeType": "image/jpeg"
    }
  ]
}
    </script>

    <script>
      // Flag to indicate this is a standalone version
      window.STANDALONE_MODE = true;

      // Load playlist data from embedded JSON
      function loadPlaylistData() {
        try {
          const playlistElement = document.getElementById('playlist-data');
          if (!playlistElement) {
            throw new Error('Playlist data not found in document');
          }
          return JSON.parse(playlistElement.textContent);
        } catch (error) {
          console.error('Error loading embedded playlist data:', error);
          throw error;
        }
      }

      // Wait for the function to be available and then initialize
      async function waitForInitialization() {
        let attempts = 0;
        const maxAttempts = 50; // Wait up to 5 seconds

        while (attempts < maxAttempts) {
          if (window.initializeStandalonePlaylist) {
            try {
              // Load playlist data from embedded JSON
              const playlistData = loadPlaylistData();

              // Initialize playlist (this will show its own loading progress)
              window.initializeStandalonePlaylist(playlistData);
              return; // Success, exit
            } catch (error) {
              console.error('Failed to initialize playlist:', error);
              showError('Failed to initialize playlist: ' + error.message);
              return;
            }
          }

          // Wait 100ms before trying again
          await new Promise(resolve => setTimeout(resolve, 100));
          attempts++;
        }

        // Function never became available
        console.error('initializeStandalonePlaylist function not found after waiting');
        showError('Playlist initialization function not found. The app may not have loaded properly.');
      }

      // Start waiting after DOM is loaded
      window.addEventListener('DOMContentLoaded', waitForInitialization);

      // Show dismissable error message
      function showError(message) {
        const errorDiv = document.createElement('div');
        errorDiv.style.cssText = 'position: fixed; top: 20px; left: 50%; transform: translateX(-50%); background: rgba(220, 20, 60, 0.95); color: white; padding: 15px 25px; border-radius: 8px; z-index: 10000; text-align: center; max-width: 500px; box-shadow: 0 4px 12px rgba(0,0,0,0.3);';
        errorDiv.innerHTML = '<div style="margin-bottom: 10px;">' + message + '</div><button onclick="this.parentElement.remove()" style="background: rgba(255,255,255,0.2); color: white; border: none; padding: 5px 15px; border-radius: 4px; cursor: pointer;">Dismiss</button>';
        document.body.appendChild(errorDiv);
      }
    </script>
  
</head>
<body>
  <freqhole-playlistz ></freqhole-playlistz>
  <script type="module">
const Qr=(e,n)=>e===n,ei=Symbol("solid-track"),Wt={equals:Qr};let hr=yr;const tt=1,Zt=2,gr={owned:null,cleanups:null,context:null,owner:null},rn={};var Ie=null;let an=null,ti=null,Ae=null,Fe=null,Qe=null,Kt=0;function Mt(e,n){const t=Ae,l=Ie,o=e.length===0,i=n===void 0?l:n,a=o?gr:{owned:null,cleanups:null,context:i?i.context:null,owner:i},r=o?e:()=>e(()=>et(()=>Et(a)));Ie=a,Ae=null;try{return rt(r,!0)}finally{Ae=t,Ie=l}}function re(e,n){n=n?Object.assign({},Wt,n):Wt;const t={value:e,observers:null,observerSlots:null,comparator:n.equals||void 0},l=o=>(typeof o=="function"&&(o=o(t.value)),mr(t,o));return[pr.bind(t),l]}function ni(e,n,t){const l=Yt(e,n,!0,tt);wt(l)}function we(e,n,t){const l=Yt(e,n,!1,tt);wt(l)}function Ve(e,n,t){hr=ci;const l=Yt(e,n,!1,tt);l.user=!0,Qe?Qe.push(l):wt(l)}function yt(e,n,t){t=t?Object.assign({},Wt,t):Wt;const l=Yt(e,n,!0,0);return l.observers=null,l.observerSlots=null,l.comparator=t.equals||void 0,wt(l),pr.bind(l)}function ri(e){return e&&typeof e=="object"&&"then"in e}function ii(e,n,t){let l,o,i;typeof n=="function"?(l=e,o=n,i={}):(l=!0,o=e,i=n||{});let a=null,r=rn,c=!1,m="initialValue"in i,y=typeof l=="function"&&yt(l);const p=new Set,[_,u]=(i.storage||re)(i.initialValue),[w,f]=re(void 0),[h,g]=re(void 0,{equals:!1}),[b,S]=re(m?"ready":"unresolved");function I(A,D,V,k){return a===A&&(a=null,k!==void 0&&(m=!0),(A===r||D===r)&&i.onHydrated&&queueMicrotask(()=>i.onHydrated(k,{value:D})),r=rn,$(D,V)),D}function $(A,D){rt(()=>{D===void 0&&u(()=>A),S(D!==void 0?"errored":m?"ready":"unresolved"),f(D);for(const V of p.keys())V.decrement();p.clear()},!1)}function B(){const A=si,D=_(),V=w();if(V!==void 0&&!a)throw V;return Ae&&Ae.user,D}function z(A=!0){if(A!==!1&&c)return;c=!1;const D=y?y():l;if(D==null||D===!1){I(a,et(_));return}let V;const k=r!==rn?r:et(()=>{try{return o(D,{value:_(),refetching:A})}catch(P){V=P}});if(V!==void 0){I(a,void 0,jt(V),D);return}else if(!ri(k))return I(a,k,void 0,D),k;return a=k,"v"in k?(k.s===1?I(a,k.v,void 0,D):I(a,void 0,jt(k.v),D),k):(c=!0,queueMicrotask(()=>c=!1),rt(()=>{S(m?"refreshing":"pending"),g()},!1),k.then(P=>I(k,P,void 0,D),P=>I(k,void 0,jt(P),D)))}Object.defineProperties(B,{state:{get:()=>b()},error:{get:()=>w()},loading:{get(){const A=b();return A==="pending"||A==="refreshing"}},latest:{get(){if(!m)return B();const A=w();if(A&&!a)throw A;return _()}}});let M=Ie;return y?ni(()=>(M=Ie,z(!1))):z(!1),[B,{refetch:A=>ai(M,()=>z(A)),mutate:u}]}function et(e){if(Ae===null)return e();const n=Ae;Ae=null;try{return e()}finally{Ae=n}}function bt(e){Ve(()=>et(e))}function Ke(e){return Ie===null||(Ie.cleanups===null?Ie.cleanups=[e]:Ie.cleanups.push(e)),e}function ai(e,n){const t=Ie,l=Ae;Ie=e,Ae=null;try{return rt(n,!0)}catch(o){bn(o)}finally{Ie=t,Ae=l}}const[yo,vo]=re(!1);let si;function pr(){if(this.sources&&this.state)if(this.state===tt)wt(this);else{const e=Fe;Fe=null,rt(()=>Vt(this),!1),Fe=e}if(Ae){const e=this.observers?this.observers.length:0;Ae.sources?(Ae.sources.push(this),Ae.sourceSlots.push(e)):(Ae.sources=[this],Ae.sourceSlots=[e]),this.observers?(this.observers.push(Ae),this.observerSlots.push(Ae.sources.length-1)):(this.observers=[Ae],this.observerSlots=[Ae.sources.length-1])}return this.value}function mr(e,n,t){let l=e.value;return(!e.comparator||!e.comparator(l,n))&&(e.value=n,e.observers&&e.observers.length&&rt(()=>{for(let o=0;o<e.observers.length;o+=1){const i=e.observers[o],a=an&&an.running;a&&an.disposed.has(i),(a?!i.tState:!i.state)&&(i.pure?Fe.push(i):Qe.push(i),i.observers&&vr(i)),a||(i.state=tt)}if(Fe.length>1e6)throw Fe=[],new Error},!1)),n}function wt(e){if(!e.fn)return;Et(e);const n=Kt;oi(e,e.value,n)}function oi(e,n,t){let l;const o=Ie,i=Ae;Ae=Ie=e;try{l=e.fn(n)}catch(a){return e.pure&&(e.state=tt,e.owned&&e.owned.forEach(Et),e.owned=null),e.updatedAt=t+1,bn(a)}finally{Ae=i,Ie=o}(!e.updatedAt||e.updatedAt<=t)&&(e.updatedAt!=null&&"observers"in e?mr(e,l):e.value=l,e.updatedAt=t)}function Yt(e,n,t,l=tt,o){const i={fn:e,state:l,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:n,owner:Ie,context:Ie?Ie.context:null,pure:t};return Ie===null||Ie!==gr&&(Ie.owned?Ie.owned.push(i):Ie.owned=[i]),i}function Ht(e){if(e.state===0)return;if(e.state===Zt)return Vt(e);if(e.suspense&&et(e.suspense.inFallback))return e.suspense.effects.push(e);const n=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<Kt);)e.state&&n.push(e);for(let t=n.length-1;t>=0;t--)if(e=n[t],e.state===tt)wt(e);else if(e.state===Zt){const l=Fe;Fe=null,rt(()=>Vt(e,n[0]),!1),Fe=l}}function rt(e,n){if(Fe)return e();let t=!1;n||(Fe=[]),Qe?t=!0:Qe=[],Kt++;try{const l=e();return li(t),l}catch(l){t||(Qe=null),Fe=null,bn(l)}}function li(e){if(Fe&&(yr(Fe),Fe=null),e)return;const n=Qe;Qe=null,n.length&&rt(()=>hr(n),!1)}function yr(e){for(let n=0;n<e.length;n++)Ht(e[n])}function ci(e){let n,t=0;for(n=0;n<e.length;n++){const l=e[n];l.user?e[t++]=l:Ht(l)}for(n=0;n<t;n++)Ht(e[n])}function Vt(e,n){e.state=0;for(let t=0;t<e.sources.length;t+=1){const l=e.sources[t];if(l.sources){const o=l.state;o===tt?l!==n&&(!l.updatedAt||l.updatedAt<Kt)&&Ht(l):o===Zt&&Vt(l,n)}}}function vr(e){for(let n=0;n<e.observers.length;n+=1){const t=e.observers[n];t.state||(t.state=Zt,t.pure?Fe.push(t):Qe.push(t),t.observers&&vr(t))}}function Et(e){let n;if(e.sources)for(;e.sources.length;){const t=e.sources.pop(),l=e.sourceSlots.pop(),o=t.observers;if(o&&o.length){const i=o.pop(),a=t.observerSlots.pop();l<o.length&&(i.sourceSlots[a]=l,o[l]=i,t.observerSlots[l]=a)}}if(e.tOwned){for(n=e.tOwned.length-1;n>=0;n--)Et(e.tOwned[n]);delete e.tOwned}if(e.owned){for(n=e.owned.length-1;n>=0;n--)Et(e.owned[n]);e.owned=null}if(e.cleanups){for(n=e.cleanups.length-1;n>=0;n--)e.cleanups[n]();e.cleanups=null}e.state=0}function jt(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function bn(e,n=Ie){throw jt(e)}const di=Symbol("fallback");function Bn(e){for(let n=0;n<e.length;n++)e[n]()}function ui(e,n,t={}){let l=[],o=[],i=[],a=0,r=n.length>1?[]:null;return Ke(()=>Bn(i)),()=>{let c=e()||[],m=c.length,y,p;return c[ei],et(()=>{let u,w,f,h,g,b,S,I,$;if(m===0)a!==0&&(Bn(i),i=[],l=[],o=[],a=0,r&&(r=[])),t.fallback&&(l=[di],o[0]=Mt(B=>(i[0]=B,t.fallback())),a=1);else if(a===0){for(o=new Array(m),p=0;p<m;p++)l[p]=c[p],o[p]=Mt(_);a=m}else{for(f=new Array(m),h=new Array(m),r&&(g=new Array(m)),b=0,S=Math.min(a,m);b<S&&l[b]===c[b];b++);for(S=a-1,I=m-1;S>=b&&I>=b&&l[S]===c[I];S--,I--)f[I]=o[S],h[I]=i[S],r&&(g[I]=r[S]);for(u=new Map,w=new Array(I+1),p=I;p>=b;p--)$=c[p],y=u.get($),w[p]=y===void 0?-1:y,u.set($,p);for(y=b;y<=S;y++)$=l[y],p=u.get($),p!==void 0&&p!==-1?(f[p]=o[y],h[p]=i[y],r&&(g[p]=r[y]),p=w[p],u.set($,p)):i[y]();for(p=b;p<m;p++)p in f?(o[p]=f[p],i[p]=h[p],r&&(r[p]=g[p],r[p](p))):o[p]=Mt(_);o=o.slice(0,a=m),l=c.slice(0)}return o});function _(u){if(i[p]=u,r){const[w,f]=re(p);return r[p]=f,n(c[p],w)}return n(c[p])}}}function ie(e,n){return et(()=>e(n||{}))}const fi=e=>`Stale read from <${e}>.`;function br(e){const n="fallback"in e&&{fallback:()=>e.fallback};return yt(ui(()=>e.each,e.children,n||void 0))}function oe(e){const n=e.keyed,t=yt(()=>e.when,void 0,void 0),l=n?t:yt(t,void 0,{equals:(o,i)=>!o==!i});return yt(()=>{const o=l();if(o){const i=e.children;return typeof i=="function"&&i.length>0?et(()=>i(n?o:()=>{if(!et(l))throw fi("Show");return t()})):i}return e.fallback},void 0,void 0)}const We=e=>yt(()=>e());function hi(e,n,t){let l=t.length,o=n.length,i=l,a=0,r=0,c=n[o-1].nextSibling,m=null;for(;a<o||r<i;){if(n[a]===t[r]){a++,r++;continue}for(;n[o-1]===t[i-1];)o--,i--;if(o===a){const y=i<l?r?t[r-1].nextSibling:t[i-r]:c;for(;r<i;)e.insertBefore(t[r++],y)}else if(i===r)for(;a<o;)(!m||!m.has(n[a]))&&n[a].remove(),a++;else if(n[a]===t[i-1]&&t[r]===n[o-1]){const y=n[--o].nextSibling;e.insertBefore(t[r++],n[a++].nextSibling),e.insertBefore(t[--i],y),n[o]=t[i]}else{if(!m){m=new Map;let p=r;for(;p<i;)m.set(t[p],p++)}const y=m.get(n[a]);if(y!=null)if(r<y&&y<i){let p=a,_=1,u;for(;++p<o&&p<i&&!((u=m.get(n[p]))==null||u!==y+_);)_++;if(_>y-r){const w=n[a];for(;r<y;)e.insertBefore(t[r++],w)}else e.replaceChild(t[r++],n[a++])}else a++;else n[a++].remove()}}}const Rn="_$DX_DELEGATE";function gi(e,n,t,l={}){let o;return Mt(i=>{o=i,n===document?e():Z(n,e(),n.firstChild?null:void 0,t)},l.owner),()=>{o(),n.textContent=""}}function ee(e,n,t,l){let o;const i=()=>{const r=document.createElement("template");return r.innerHTML=e,r.content.firstChild},a=()=>(o||(o=i())).cloneNode(!0);return a.cloneNode=a,a}function _t(e,n=window.document){const t=n[Rn]||(n[Rn]=new Set);for(let l=0,o=e.length;l<o;l++){const i=e[l];t.has(i)||(t.add(i),n.addEventListener(i,pi))}}function Pe(e,n,t){t==null?e.removeAttribute(n):e.setAttribute(n,t)}function Se(e,n){n==null?e.removeAttribute("class"):e.className=n}function Mn(e,n,t,l){Array.isArray(t)?(e[`$$${n}`]=t[0],e[`$$${n}Data`]=t[1]):e[`$$${n}`]=t}function Z(e,n,t,l){if(t!==void 0&&!l&&(l=[]),typeof n!="function")return qt(e,n,l,t);we(o=>qt(e,n(),o,t),l)}function pi(e){let n=e.target;const t=`$$${e.type}`,l=e.target,o=e.currentTarget,i=c=>Object.defineProperty(e,"target",{configurable:!0,value:c}),a=()=>{const c=n[t];if(c&&!n.disabled){const m=n[`${t}Data`];if(m!==void 0?c.call(n,m,e):c.call(n,e),e.cancelBubble)return}return n.host&&typeof n.host!="string"&&!n.host._$host&&n.contains(e.target)&&i(n.host),!0},r=()=>{for(;a()&&(n=n._$host||n.parentNode||n.host););};if(Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return n||document}}),e.composedPath){const c=e.composedPath();i(c[0]);for(let m=0;m<c.length-2&&(n=c[m],!!a());m++){if(n._$host){n=n._$host,r();break}if(n.parentNode===o)break}}else r();i(l)}function qt(e,n,t,l,o){for(;typeof t=="function";)t=t();if(n===t)return t;const i=typeof n,a=l!==void 0;if(e=a&&t[0]&&t[0].parentNode||e,i==="string"||i==="number"){if(i==="number"&&(n=n.toString(),n===t))return t;if(a){let r=t[0];r&&r.nodeType===3?r.data!==n&&(r.data=n):r=document.createTextNode(n),t=ft(e,t,l,r)}else t!==""&&typeof t=="string"?t=e.firstChild.data=n:t=e.textContent=n}else if(n==null||i==="boolean")t=ft(e,t,l);else{if(i==="function")return we(()=>{let r=n();for(;typeof r=="function";)r=r();t=qt(e,r,t,l)}),()=>t;if(Array.isArray(n)){const r=[],c=t&&Array.isArray(t);if(hn(r,n,t,o))return we(()=>t=qt(e,r,t,l,!0)),()=>t;if(r.length===0){if(t=ft(e,t,l),a)return t}else c?t.length===0?jn(e,r,l):hi(e,t,r):(t&&ft(e),jn(e,r));t=r}else if(n.nodeType){if(Array.isArray(t)){if(a)return t=ft(e,t,l,n);ft(e,t,null,n)}else t==null||t===""||!e.firstChild?e.appendChild(n):e.replaceChild(n,e.firstChild);t=n}}return t}function hn(e,n,t,l){let o=!1;for(let i=0,a=n.length;i<a;i++){let r=n[i],c=t&&t[e.length],m;if(!(r==null||r===!0||r===!1))if((m=typeof r)=="object"&&r.nodeType)e.push(r);else if(Array.isArray(r))o=hn(e,r,c)||o;else if(m==="function")if(l){for(;typeof r=="function";)r=r();o=hn(e,Array.isArray(r)?r:[r],Array.isArray(c)?c:[c])||o}else e.push(r),o=!0;else{const y=String(r);c&&c.nodeType===3&&c.data===y?e.push(c):e.push(document.createTextNode(y))}}return o}function jn(e,n,t=null){for(let l=0,o=n.length;l<o;l++)e.insertBefore(n[l],t)}function ft(e,n,t,l){if(t===void 0)return e.textContent="";const o=l||document.createTextNode("");if(n.length){let i=!1;for(let a=n.length-1;a>=0;a--){const r=n[a];if(o!==r){const c=r.parentNode===e;!i&&!a?c?e.replaceChild(o,r):e.insertBefore(o,t):c&&r.remove()}else i=!0}}else e.insertBefore(o,t);return[o]}const gn=(e,n)=>n.some(t=>e instanceof t);let Nn,Wn;function mi(){return Nn||(Nn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function yi(){return Wn||(Wn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const pn=new WeakMap,sn=new WeakMap,Jt=new WeakMap;function vi(e){const n=new Promise((t,l)=>{const o=()=>{e.removeEventListener("success",i),e.removeEventListener("error",a)},i=()=>{t(ut(e.result)),o()},a=()=>{l(e.error),o()};e.addEventListener("success",i),e.addEventListener("error",a)});return Jt.set(n,e),n}function bi(e){if(pn.has(e))return;const n=new Promise((t,l)=>{const o=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=()=>{t(),o()},a=()=>{l(e.error||new DOMException("AbortError","AbortError")),o()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)});pn.set(e,n)}let mn={get(e,n,t){if(e instanceof IDBTransaction){if(n==="done")return pn.get(e);if(n==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ut(e[n])},set(e,n,t){return e[n]=t,!0},has(e,n){return e instanceof IDBTransaction&&(n==="done"||n==="store")?!0:n in e}};function wr(e){mn=e(mn)}function wi(e){return yi().includes(e)?function(...n){return e.apply(yn(this),n),ut(this.request)}:function(...n){return ut(e.apply(yn(this),n))}}function _i(e){return typeof e=="function"?wi(e):(e instanceof IDBTransaction&&bi(e),gn(e,mi())?new Proxy(e,mn):e)}function ut(e){if(e instanceof IDBRequest)return vi(e);if(sn.has(e))return sn.get(e);const n=_i(e);return n!==e&&(sn.set(e,n),Jt.set(n,e)),n}const yn=e=>Jt.get(e);function xi(e,n,{blocked:t,upgrade:l,blocking:o,terminated:i}={}){const a=indexedDB.open(e,n),r=ut(a);return l&&a.addEventListener("upgradeneeded",c=>{l(ut(a.result),c.oldVersion,c.newVersion,ut(a.transaction),c)}),t&&a.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),r.then(c=>{i&&c.addEventListener("close",()=>i()),o&&c.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),r}const ki=["get","getKey","getAll","getAllKeys","count"],Si=["put","add","delete","clear"],on=new Map;function Zn(e,n){if(!(e instanceof IDBDatabase&&!(n in e)&&typeof n=="string"))return;if(on.get(n))return on.get(n);const t=n.replace(/FromIndex$/,""),l=n!==t,o=Si.includes(t);if(!(t in(l?IDBIndex:IDBObjectStore).prototype)||!(o||ki.includes(t)))return;const i=async function(a,...r){const c=this.transaction(a,o?"readwrite":"readonly");let m=c.store;return l&&(m=m.index(r.shift())),(await Promise.all([m[t](...r),o&&c.done]))[0]};return on.set(n,i),i}wr(e=>({...e,get:(n,t,l)=>Zn(n,t)||e.get(n,t,l),has:(n,t)=>!!Zn(n,t)||e.has(n,t)}));const $i=["continue","continuePrimaryKey","advance"],Hn={},vn=new WeakMap,_r=new WeakMap,Ci={get(e,n){if(!$i.includes(n))return e[n];let t=Hn[n];return t||(t=Hn[n]=function(...l){vn.set(this,_r.get(this)[n](...l))}),t}};async function*Ei(...e){let n=this;if(n instanceof IDBCursor||(n=await n.openCursor(...e)),!n)return;n=n;const t=new Proxy(n,Ci);for(_r.set(t,n),Jt.set(t,yn(n));n;)yield t,n=await(vn.get(t)||n.continue()),vn.delete(t)}function Vn(e,n){return n===Symbol.asyncIterator&&gn(e,[IDBIndex,IDBObjectStore,IDBCursor])||n==="iterate"&&gn(e,[IDBIndex,IDBObjectStore])}wr(e=>({...e,get(n,t,l){return Vn(n,t)?Ei:e.get(n,t,l)},has(n,t){return Vn(n,t)||e.has(n,t)}}));const[xr,Ai]=re(0),At=new Map,vt=new Map;function kr(e){Ai(n=>n+1),e&&At.set(e,Date.now())}function Ii(){return xr()}function zi(e){vt.has(e)||vt.set(e,re(0));const[n]=vt.get(e);return n}function Ti(e){if(vt.has(e)){const[,n]=vt.get(e);n(t=>t+1)}At.set(e,Date.now())}function Di(){At.clear(),vt.clear()}function Pi(){return{totalUpdates:xr(),trackedSongs:At.size,recentUpdates:Array.from(At.entries()).sort(([,e],[,n])=>n-e).slice(0,10)}}function Xt(e){const{songId:n,specificOnly:t=!1}=e;n&&t?Ti(n):kr(n)}typeof globalThis<"u"&&globalThis.__DEV__&&(globalThis.__songReactivity={getSongUpdateTrigger:Ii,getUpdateStats:Pi,clearUpdateHistory:Di,triggerSongUpdate:kr});async function Sr(e){const n=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(n)).map(o=>o.toString(16).padStart(2,"0")).join("")}function Li(e){let n=e;const t=new Set;return{get:()=>n,set:l=>{n!==l&&(n=l,t.forEach(o=>o(n)))},subscribe:l=>(t.add(l),l(n),()=>t.delete(l))}}const De="musicPlaylistDB",Ui=3,Le="playlists",ke="songs";let Ot=null;async function Oe(){return Ot||(Ot=xi(De,Ui,{upgrade(e,n,t){e.objectStoreNames.contains(Le)||e.createObjectStore(Le,{keyPath:"id"}),e.objectStoreNames.contains(ke)||e.createObjectStore(ke,{keyPath:"id"}).createIndex("playlistId","playlistId",{unique:!1})}}),Ot)}function Oi(e,n){return e.length!==n.length?!0:e.some((t,l)=>typeof t=="object"&&t!==null&&n[l]!==null?JSON.stringify(t)!==JSON.stringify(n[l]):t!==n[l])}const kt=new Map;function $r({dbName:e,storeName:n,queryFn:t,fields:l=[],limit:o=null}){const i=Li([]),a=new BroadcastChannel(`${e}-changes`);let r=[];async function c(){try{let u=await(await Oe()).getAll(n);t&&(u=u.filter(t)),o&&(u=u.slice(0,o));const w=u.map(f=>{if(l.length===0)return f;const h={id:f.id};for(const g of l)h[g]=f[g];return h});Oi(r,w)&&(r=w,i.set(w))}catch(_){console.error("error in fetchAndUpdate:",_)}}const m=`${e}-${n}`;kt.has(m)||kt.set(m,new Set);const y=kt.get(m);y.add(c),a.onmessage=_=>{_.data?.type==="mutation"&&_.data.store===n&&c()},c();const p=i;return{...p,subscribe:_=>{const u=p.subscribe(_);return()=>{u(),y.delete(c),y.size===0&&kt.delete(m),a.close()}}}}async function Ue({dbName:e,storeName:n,key:t,updateFn:l}){const i=(await Oe()).transaction(n,"readwrite"),a=i.objectStore(n),r=await a.get(t),c=await l(r||{id:t});await a.put(c),await i.done;const m=`${e}-${n}`,y=kt.get(m);if(y)for(const _ of Array.from(y))try{_()}catch(u){console.error("error in direct query update:",u)}const p=new BroadcastChannel(`${e}-changes`);try{const _={type:"mutation",store:n,id:t};p.postMessage(_)}finally{p.close()}}async function ln(e){const n=crypto.randomUUID(),t=Date.now(),l={id:n,createdAt:t,updatedAt:t,...e,rev:e.rev??0,songIds:e.songIds||[]};return await Ue({dbName:De,storeName:Le,key:n,updateFn:()=>l}),l}async function wn(e,n){await Ue({dbName:De,storeName:Le,key:e,updateFn:t=>({...t,...n,updatedAt:Date.now()})})}async function Cr(e){const n=await Oe(),t=n.transaction(ke,"readwrite");let i=await t.objectStore(ke).index("playlistId").openCursor(IDBKeyRange.only(e));for(;i;)await i.delete(),i=await i.continue();await t.done;const a=n.transaction(Le,"readwrite");await a.objectStore(Le).delete(e),await a.done;const r=new BroadcastChannel(`${De}-changes`);try{r.postMessage({type:"mutation",store:Le,id:e}),r.postMessage({type:"mutation",store:ke,id:e})}finally{r.close()}}async function qn(e,n,t={}){const l=crypto.randomUUID(),o=Date.now(),i=await n.arrayBuffer(),a=await Sr(i),r={id:l,file:n,mimeType:n.type,originalFilename:n.name,title:t.title||n.name.replace(/\.[^/.]+$/,""),artist:t.artist||"Unknown Artist",album:t.album||"Unknown Album",duration:t.duration||0,position:t.position||0,playlistId:e,createdAt:o,updatedAt:o,sha:a,...t},c={...r,file:void 0,audioData:i,mimeType:n.type};return await Ue({dbName:De,storeName:ke,key:l,updateFn:()=>c}),await Ue({dbName:De,storeName:Le,key:e,updateFn:m=>({...m,songIds:[...m.songIds||[],l],updatedAt:o})}),Xt({songId:r.id,metadata:{title:r.title}}),r}async function Er(e,n){await Ue({dbName:De,storeName:ke,key:e,updateFn:t=>({...t,...n,updatedAt:Date.now()})}),Xt({songId:e})}async function Fi(e,n,t){await Ue({dbName:De,storeName:Le,key:e,updateFn:m=>{const y=[...m.songIds||[]],[p]=y.splice(n,1);return y.splice(t,0,p),{...m,songIds:y,updatedAt:Date.now()}}});const o=(await Oe()).transaction(ke,"readwrite"),a=o.objectStore(ke).index("playlistId"),r=[];let c=await a.openCursor(IDBKeyRange.only(e));for(;c;){const m=c.value;r.push(Ue({dbName:De,storeName:ke,key:m.id,updateFn:y=>({...y,position:0,updatedAt:Date.now()})})),c=await c.continue()}await o.done}function Bi(){return $r({dbName:De,storeName:Le,fields:["title","description","imageData","thumbnailData","imageType","createdAt","updatedAt","songIds","rev"]})}function Ri(e){return $r({dbName:De,storeName:ke,queryFn:n=>n.playlistId===e,fields:["title","artist","album","duration","position","imageData","thumbnailData","imageType","createdAt","updatedAt","playlistId"]})}async function Mi(e){try{const t=await(await Oe()).get(ke,e);return t?{...t,audioData:void 0}:null}catch(n){return console.error(`error fetching song ${e}:`,n),null}}async function Ar(e){try{const t=await(await Oe()).get(ke,e);if(!t||!t.audioData||!t.mimeType)return null;const l=new Blob([t.audioData],{type:t.mimeType});return URL.createObjectURL(l)}catch(n){return console.error(`Error loading audio data for song ${e}:`,n),null}}async function Gt(){try{return(await(await Oe()).getAll(ke)).map(t=>({...t,audioData:void 0}))||[]}catch(e){return console.error("error fetching all songs:",e),[]}}async function ji(e){try{const n=await Oe(),t=[];for(const l of e){const o=await n.get(ke,l);o&&t.push(o)}return t.sort((l,o)=>{const i=e.indexOf(l.id),a=e.indexOf(o.id);return i-a})}catch(n){return console.error("error getting songs with audio data:",n),[]}}async function Gn(){try{return await(await Oe()).getAll(Le)}catch(e){return console.error("error fetching all playlists:",e),[]}}async function Ni(e,n){const t=await Oe();await Ue({dbName:De,storeName:Le,key:e,updateFn:a=>!a||!a.songIds?(console.warn(`Playlist ${e} not found or has no songIds`),a):{...a,songIds:a.songIds.filter(r=>r!==n),updatedAt:Date.now()}});const l=t.transaction(ke,"readwrite");await l.objectStore(ke).delete(n),await l.done;const i=new BroadcastChannel(`${De}-changes`);try{i.postMessage({type:"mutation",store:ke,id:n})}finally{i.close()}Xt({songId:n})}async function Wi(e,n,t){try{const l=n,o=Ir(e,n,t);return{blobUrl:l,downloadPromise:o}}catch(l){throw console.error("Error in streamAudioWithCaching:",l),l}}async function Ir(e,n,t){try{const o=await(await Oe()).get(ke,e.id);if(o?.audioData&&o.audioData.byteLength>0)return!0;const i=await fetch(n);if(!i.ok)throw new Error(`Failed to fetch: ${i.status} ${i.statusText}`);const a=i.headers.get("content-length"),r=a?parseInt(a,10):0;let c=0;const m=i.body?.getReader();if(!m)throw new Error("Response body is not readable");const y=[];for(;;){const{done:g,value:b}=await m.read();if(g)break;b&&(c+=b.length,y.push(b),t&&r>0&&t({loaded:c,total:r,percentage:Math.round(c/r*100)}))}const p=y.reduce((g,b)=>g+b.length,0),_=new ArrayBuffer(p),u=new Uint8Array(_);let w=0;for(const g of y)u.set(g,w),w+=g.length;const f=e.mimeType||i.headers.get("content-type")||"audio/mpeg",h={...e,audioData:_,mimeType:f,updatedAt:Date.now()};return await Ue({dbName:De,storeName:ke,key:e.id,updateFn:()=>h}),!0}catch(l){return console.error(`Error downloading and caching audio for ${e.id}:`,l),!1}}const Nt=new Map;function Zi(e){return Nt.has(e)}async function zr(e,n,t){const l=Nt.get(e.id);if(l)return l;try{const a=await(await Oe()).get(ke,e.id);if(a?.audioData&&a.audioData.byteLength>0)return!0}catch(i){console.error("Error checking cache status:",i)}const o=Ir(e,n,t);return Nt.set(e.id,o),o.finally(()=>{Nt.delete(e.id)}),o}const[_n,Tr]=re(null),[Tt,xn]=re(null),[it,kn]=re([]),[Sn,ct]=re(!1),[Hi,$n]=re(0),[Vi,Cn]=re(0),[Dt,at]=re(-1),[Dr,bo]=re(1),[En,ht]=re(!1),[Pr,Ye]=re(new Set),[Lr,Qt]=re(null),[An,St]=re(null);let cn=!1;const[In,qi]=re("none"),[Gi,Ki]=re(!1),[Ur,gt]=re(new Map),[Or,pt]=re(new Set);let Te=null;function Yi(){return Te||(Te=new Audio,Te.volume=Dr(),Te.preload="metadata",Te.addEventListener("loadstart",()=>{ht(!0)}),Te.addEventListener("canplay",()=>{ht(!1)}),Te.addEventListener("loadedmetadata",()=>{const e=Te?.duration||0;Cn(e),ht(!1),$t()}),Te.addEventListener("timeupdate",()=>{const e=Te?.currentTime||0;$n(e);const n=Te?.duration||0;n>0&&e/n>=.5&&!cn&&(cn=!0,ia())}),Te.addEventListener("play",()=>{ct(!0),cn=!1,En()||$t()}),Te.addEventListener("pause",()=>{ct(!1),$t()}),Te.addEventListener("ended",()=>{ct(!1),ea()}),Te.addEventListener("error",e=>{console.error("Audio error:",e),ct(!1),ht(!1),Ye(new Set),en()}),Te)}function Ji(e){return URL.createObjectURL(e)}function Fr(e){URL.revokeObjectURL(e)}function en(){const e=_n();e?document.title=`${e.title} - ${e.artist||"Unknown Artist"} | PLAYLISTZ`:document.title="P L A Y L I S T Z"}async function $t(){if(!("mediaSession"in navigator))return;const e=_n(),n=Tt(),t=En();if(e){const l=await Xi(e,n);navigator.mediaSession.metadata=null,navigator.mediaSession.metadata=new MediaMetadata({title:t?`loading... ${e.title}`:e.title,artist:e.artist||"unknown artist",album:e.album||n?.title||"unknown album",artwork:l}),navigator.mediaSession.playbackState=t?"paused":Sn()?"playing":"paused",navigator.mediaSession.setActionHandler("play",()=>{zt()}),navigator.mediaSession.setActionHandler("pause",()=>{zt()}),navigator.mediaSession.setActionHandler("previoustrack",()=>{ta()}),navigator.mediaSession.setActionHandler("nexttrack",()=>{Rr()}),navigator.mediaSession.setActionHandler("seekto",a=>{a.seekTime!==void 0&&!t&&Mr(a.seekTime)});const o=Ee.duration(),i=Ee.currentTime();if(o>0&&!t)navigator.mediaSession.setPositionState({duration:o,playbackRate:1,position:i});else if(t)try{navigator.mediaSession.setPositionState({duration:0,playbackRate:1,position:0})}catch{}}else navigator.mediaSession.metadata=null,navigator.mediaSession.playbackState="none";en()}async function Kn(e,n){return e.byteLength<5e5?e:new Promise(t=>{const l=new Blob([e],{type:n}),o=new Image,i=document.createElement("canvas"),a=i.getContext("2d");o.onload=()=>{let{width:c,height:m}=o;if(c>300||m>300){const y=Math.min(300/c,300/m);c*=y,m*=y}i.width=c,i.height=m,a?(a.drawImage(o,0,0,c,m),i.toBlob(y=>{y?y.arrayBuffer().then(t):t(e)},n,.8)):t(e)},o.onerror=()=>{t(e)},o.src=URL.createObjectURL(l)})}async function Xi(e,n){const t=[],l=e.thumbnailData||e.imageData;if(l&&e.imageType){const o=await Kn(l,e.imageType),i=new Blob([o],{type:e.imageType}),a=URL.createObjectURL(i);t.push({src:a,sizes:"512x512",type:e.imageType}),t.push({src:a,sizes:"256x256",type:e.imageType}),t.push({src:a,sizes:"96x96",type:e.imageType})}else{const o=n?.thumbnailData||n?.imageData;if(o&&n?.imageType){const i=await Kn(o,n.imageType),a=new Blob([i],{type:n.imageType}),r=URL.createObjectURL(a);t.push({src:r,sizes:"512x512",type:n.imageType}),t.push({src:r,sizes:"256x256",type:n.imageType}),t.push({src:r,sizes:"96x96",type:n.imageType})}}return t}async function Br(e){try{const t=(await Gt()).filter(l=>e.songIds.includes(l.id)).sort((l,o)=>e.songIds.indexOf(l.id)-e.songIds.indexOf(o.id));kn(t),xn(e),at(-1)}catch(n){throw console.error("Error loading playlist queue:",n),n}}async function Yn(e){try{const n=Ee.currentSong(),l=(await Gt()).filter(o=>e.songIds.includes(o.id)).sort((o,i)=>e.songIds.indexOf(o.id)-e.songIds.indexOf(i.id));if(kn(l),xn(e),n){const o=l.findIndex(i=>i.id===n.id);at(o>=0?o:-1)}}catch(n){throw console.error("Error refreshing playlist queue:",n),n}}function Qi(){const e=it(),n=Dt();if(e.length===0)return null;const t=In();if(t==="one")return n>=0&&e[n]||null;const l=n+1;return l<e.length?e[l]||null:t==="all"&&e[0]||null}async function ea(){Qi()?await Rr():(ct(!1),$t())}async function It(e,n){const t=Yi();try{if(Qt(e.id),Ye(o=>new Set(Array.from(o).concat([e.id]))),An()===e.id&&St(null),t.src&&t.src.startsWith("blob:")&&Fr(t.src),$n(0),Cn(0),t.currentTime=0,ht(!0),Tr(e),await $t(),"mediaSession"in navigator){navigator.mediaSession.playbackState="paused";try{navigator.mediaSession.setPositionState({duration:0,playbackRate:1,position:0})}catch{}}if(n){const o=Tt();(!o||o.id!==n.id||it().length===0)&&await Br(n);const a=it().findIndex(r=>r.id===e.id);at(a>=0?a:0)}let l=e.blobUrl;if(!l&&e.file&&(l=Ji(e.file)),!l)if(window.location.protocol==="file:"&&e.standaloneFilePath){const o=e.standaloneFilePath;l=new URL(o,window.location.href).href;const i=document.createElement("audio");i.src=l,i.addEventListener("error",a=>{console.error("audio file test failed:",a),console.error("audio error:",i.error)}),i.load()}else{let o=await Ar(e.id);if(o)l=o;else if(e.standaloneFilePath){const i=e.standaloneFilePath;if(window.location.protocol==="file:")l=new URL(i,window.location.href).href;else try{const{blobUrl:a,downloadPromise:r}=await Wi(e,i,c=>{gt(m=>{const y=new Map(m);return y.set(e.id,c.percentage),y})});pt(c=>new Set(Array.from(c).concat([e.id]))),l=a,r.then(c=>{c?console.debug(`successfully cached ${e.title}`):console.warn(`failed to cache ${e.title}`)}).catch(c=>{console.error(`error caching ${e.title}:`,c)}).finally(()=>{gt(c=>{const m=new Map(c);return m.delete(e.id),m}),pt(c=>{const m=new Set(c);return m.delete(e.id),m})})}catch(a){console.error("streaming approach failed, using direct url:",a),l=i,pt(r=>new Set(Array.from(r).concat([e.id]))),zr(e,i,r=>{gt(c=>{const m=new Map(c);return m.set(e.id,r.percentage),m})}).finally(()=>{gt(r=>{const c=new Map(r);return c.delete(e.id),c}),pt(r=>{const c=new Set(r);return c.delete(e.id),c})})}}}if(!l)throw new Error(`no audio source available for song: ${e.title}. check that audio files are accessible.`);if(Lr()!==e.id){Ye(o=>{const i=new Set(o);return i.delete(e.id),i});return}t.src=l,t.addEventListener("error",o=>{console.error("audio loading error:",o),console.error("audio error details:",t.error)},{once:!0}),await t.play(),Ye(o=>{const i=new Set(o);return i.delete(e.id),i})}catch(l){throw console.error("error playing song:",l),ht(!1),Ye(o=>{const i=new Set(o);return i.delete(e.id),i}),en(),l}}async function Rr(){const e=it(),n=Dt();if(e.length===0)return;const t=In();let l;if(t==="one")l=n;else if(n+1<e.length)l=n+1;else if(t==="all")l=0;else return;const o=e[l];o&&(at(l),Qt(o.id),await It(o,Tt()||void 0))}async function ta(){const e=it(),n=Dt();if(e.length===0||n<=0)return;const t=n-1,l=e[t];l&&(at(t),Qt(l.id),await It(l,Tt()||void 0))}async function zt(){const e=Te;if(e)try{Sn()?e.pause():await e.play()}catch(n){console.error("Error toggling playback:",n)}}function na(){const e=Te;e&&(e.pause(),e.currentTime=0,e.src&&e.src.startsWith("blob:")&&Fr(e.src),e.src=""),Tr(null),xn(null),ct(!1),$n(0),Cn(0),at(0),en()}function Mr(e){const n=Te;n&&!isNaN(n.duration)&&(n.currentTime=Math.max(0,Math.min(e,n.duration)))}async function Jn(e){const n=it();if(e>=n.length)return;const t=n[e];t&&(at(e),await It(t))}const Ee={currentSong:_n,currentPlaylist:Tt,playlistQueue:it,isPlaying:Sn,currentTime:Hi,duration:Vi,currentIndex:Dt,volume:Dr,isLoading:En,loadingSongIds:Pr,selectedSongId:Lr,preloadingSongId:An,repeatMode:In,isShuffled:Gi,downloadProgress:Ur,cachingSongIds:Or};function ra(){na();const e=Te;e&&(e.removeEventListener("loadstart",()=>{}),e.removeEventListener("canplay",()=>{}),e.removeEventListener("loadedmetadata",()=>{}),e.removeEventListener("timeupdate",()=>{}),e.removeEventListener("play",()=>{}),e.removeEventListener("pause",()=>{}),e.removeEventListener("ended",()=>{}),e.removeEventListener("error",()=>{})),Te=null,kn([]),at(-1),qi("none"),Ki(!1)}async function ia(){const e=it(),n=Dt();if(e.length===0||n<0)return;const t=n+1;if(t>=e.length)return;const l=e[t];if(l&&!(Pr().has(l.id)||An()===l.id)){St(l.id),Ye(o=>new Set(Array.from(o).concat([l.id])));try{if(await Ar(l.id)){Ye(i=>{const a=new Set(i);return a.delete(l.id),a}),St(null);return}if(Zi(l.id)){Ye(i=>{const a=new Set(i);return a.delete(l.id),a}),St(null);return}l.standaloneFilePath&&(pt(i=>new Set(Array.from(i).concat([l.id]))),zr(l,l.standaloneFilePath,i=>{gt(a=>{const r=new Map(a);return r.set(l.id,i.percentage),r})}).then(i=>{i?console.debug(`successfully preloaded ${l.title}`):console.warn(`failed to preload ${l.title}`)}).catch(i=>{console.error(`error preloading ${l.title}:`,i)}).finally(()=>{gt(i=>{const a=new Map(i);return a.delete(l.id),a}),pt(i=>{const a=new Set(i);return a.delete(l.id),a})}))}catch{}finally{Ye(o=>{const i=new Set(o);return i.delete(l.id),i}),St(null)}}}function aa(e){const n=Te;n&&(n.pause(),ct(!1)),Qt(e)}function sa(e){return Ur().get(e)||0}function oa(e){return Or().has(e)}async function la(e){try{const n=await e.arrayBuffer(),t=new DataView(n);if(n.byteLength<10)return{success:!1,error:"File too small to contain ID3 tags"};if(String.fromCharCode(t.getUint8(0),t.getUint8(1),t.getUint8(2))!=="ID3")return{success:!1,error:"No ID3v2 tag found"};const o=t.getUint8(3),i=(t.getUint8(6)&127)<<21|(t.getUint8(7)&127)<<14|(t.getUint8(8)&127)<<7|t.getUint8(9)&127;let a=10;const r=Math.min(10+i,n.byteLength);for(;a<r-10;){if(String.fromCharCode(t.getUint8(a),t.getUint8(a+1),t.getUint8(a+2),t.getUint8(a+3))==="APIC"){const y=o===4?(t.getUint8(a+4)&127)<<21|(t.getUint8(a+5)&127)<<14|(t.getUint8(a+6)&127)<<7|t.getUint8(a+7)&127:t.getUint8(a+4)<<24|t.getUint8(a+5)<<16|t.getUint8(a+6)<<8|t.getUint8(a+7);let p=a+10;p++;let _="";for(;p<r&&t.getUint8(p)!==0;)_+=String.fromCharCode(t.getUint8(p)),p++;for(p++,p++;p<r&&t.getUint8(p)!==0;)p++;p++;const u=y-(p-a-10);if(u>0&&p+u<=n.byteLength){const w=n.slice(p,p+u),f=new Blob([w],{type:_});return{success:!0,albumArt:URL.createObjectURL(f)}}}const m=o===4?(t.getUint8(a+4)&127)<<21|(t.getUint8(a+5)&127)<<14|(t.getUint8(a+6)&127)<<7|t.getUint8(a+7)&127:t.getUint8(a+4)<<24|t.getUint8(a+5)<<16|t.getUint8(a+6)<<8|t.getUint8(a+7);a+=10+m}return{success:!1,error:"No album art found in ID3 tags"}}catch(n){return console.error("Error extracting album art:",n),{success:!1,error:n instanceof Error?n.message:"Unknown error"}}}async function zn(e){try{if(!e.type.startsWith("image/"))return{success:!1,error:"File is not an image"};const n=10*1024*1024;if(e.size>n)return{success:!1,error:"Image file too large (max 10MB)"};const t=await e.arrayBuffer(),l=new Image,o=URL.createObjectURL(e);return new Promise(i=>{l.onload=async()=>{try{const a={width:l.width,height:l.height,format:e.type,size:e.size},r=await ca(l,300,300,e.type);URL.revokeObjectURL(o),i({success:!0,imageData:t,thumbnailData:r,metadata:a})}catch(a){URL.revokeObjectURL(o),i({success:!1,error:a instanceof Error?a.message:"Processing failed"})}},l.onerror=()=>{URL.revokeObjectURL(o),i({success:!1,error:"Invalid image file"})},l.src=o})}catch(n){return console.error("Error processing playlist cover:",n),{success:!1,error:n instanceof Error?n.message:"Unknown error"}}}async function ca(e,n,t,l="image/jpeg"){const o=document.createElement("canvas"),i=o.getContext("2d");if(!i)throw new Error("Cannot create canvas context");let{width:a,height:r}=e;if(a>n||r>t){const c=Math.min(n/a,t/r);a*=c,r*=c}return o.width=a,o.height=r,i.drawImage(e,0,0,a,r),new Promise((c,m)=>{o.toBlob(async y=>{if(y){const p=await y.arrayBuffer();c(p)}else m(new Error("Failed to create thumbnail data"))},l,.8)})}function jr(e){return["image/jpeg","image/png","image/gif","image/webp"].includes(e.type)?e.size>10485760?{valid:!1,error:"Image file too large. Maximum size is 10MB."}:{valid:!0}:{valid:!1,error:"Unsupported image format. Use JPEG, PNG, GIF, or WebP."}}function Je(e,n="image/jpeg"){const t=new Blob([e],{type:n});return URL.createObjectURL(t)}function Ge(e,n="thumbnail"){if(!e?.imageType)return null;const{thumbnailData:t,imageData:l,imageType:o,imageFilePath:i}=e;if(n==="background"||n==="modal"){if(l)return Je(l,o);if(t)return Je(t,o)}return t?Je(t,o):l?Je(l,o):window.STANDALONE_MODE&&window.location.protocol==="file:"&&i?i:null}function Nr(e){return e.type.startsWith("audio/")}function da(e,n=100){const t=n*1024*1024;return e.size<=t}function ua(e){const n=e.replace(/\.[^/.]+$/,""),t=n.split(" - ");return t.length===2?{artist:t[0]?.trim(),title:t[1]?.trim()}:t.length===3?{artist:t[0]?.trim(),album:t[1]?.trim(),title:t[2]?.trim()}:{title:n.trim()}}async function fa(e){return new Promise(n=>{try{const t=new Audio,l=URL.createObjectURL(e);t.addEventListener("loadedmetadata",()=>{URL.revokeObjectURL(l),n(t.duration||0)}),t.addEventListener("error",o=>{URL.revokeObjectURL(l),console.warn("Could not extract duration from audio file:",o),n(0)}),t.src=l}catch(t){console.warn("Failed to create blob URL for duration extraction:",t),n(0)}})}async function ha(e){try{const n=await la(e);if(n.success&&n.albumArt){const l=await(await fetch(n.albumArt)).arrayBuffer(),o=new Blob([l],{type:"image/jpeg"}),i=new File([o],"albumart.jpg",{type:"image/jpeg"});URL.revokeObjectURL(n.albumArt);const a=await zn(i);return a.success&&a.imageData&&a.thumbnailData?{fullSizeData:a.imageData,thumbnailData:a.thumbnailData,type:a.metadata?.format||"image/jpeg"}:{fullSizeData:l,thumbnailData:l,type:"image/jpeg"}}return}catch(n){console.warn(`⚠️ Could not extract album art from ${e.name}:`,n);return}}async function ga(e){const n=ua(e.name);try{const t=await fa(e),l=await ha(e);return{title:n.title||"Unknown Title",artist:n.artist||"Unknown Artist",album:n.album||"Unknown Album",duration:t,coverArtData:l?.fullSizeData,coverArtThumbnailData:l?.thumbnailData,coverArtType:l?.type}}catch(t){return console.error("Error extracting metadata:",t),{title:n.title||"Unknown Title",artist:n.artist||"Unknown Artist",album:n.album||"Unknown Album",duration:0}}}async function pa(e){try{if(!Nr(e))return{success:!1,error:`Unsupported file type: ${e.type}. Please upload an audio file.`};if(!da(e))return{success:!1,error:`File too large: ${Math.round(e.size/1024/1024)}MB. Maximum size is 100MB.`};const n=await ga(e);let t;try{t=URL.createObjectURL(e)}catch(l){console.warn("Failed to create blob URL for file:",e.name,l)}return{success:!0,song:{id:"",file:e,blobUrl:t,title:n.title||"Unknown Title",artist:n.artist||"Unknown Artist",album:n.album||"Unknown Album",duration:n.duration||0,position:0,imageData:n.coverArtData,thumbnailData:n.coverArtThumbnailData,imageType:n.coverArtType,fileSize:e.size,createdAt:Date.now(),updatedAt:Date.now(),playlistId:""}}}catch(n){return console.error("Error processing audio file:",n),{success:!1,error:`Error processing file: ${n instanceof Error?n.message:"Unknown error"}`}}}async function ma(e){const n=Array.from(e),t=[],l=3;for(let o=0;o<n.length;o+=l){const i=n.slice(o,o+l),a=await Promise.all(i.map(r=>pa(r)));t.push(...a)}return t}function ya(e){return Array.from(e).filter(Nr)}const mt=new Set;let Ct=null;function va(){Ct||(Ct=window.setInterval(()=>{mt.forEach(e=>e())},6e4))}function Wr(){Ct&&(window.clearInterval(Ct),Ct=null)}function Zr(e){const[n,t]=re("");function l(){const a=Date.now()-e;let r;if(a<6e4)r="just now";else if(a<36e5){const c=Math.floor(a/6e4);r=`${c} ${c===1?"minute":"minutes"} ago`}else if(a<864e5){const c=Math.floor(a/36e5);r=`${c} ${c===1?"hour":"hours"} ago`}else if(a<6048e5){const c=Math.floor(a/864e5);r=`${c} ${c===1?"day":"days"} ago`}else if(a<2629746e3){const c=Math.floor(a/6048e5);r=`${c} ${c===1?"week":"weeks"} ago`}else if(a<31556952e3){const c=Math.floor(a/2629746e3);r=`${c} ${c===1?"month":"months"} ago`}else{const c=Math.floor(a/31556952e3);r=`${c} ${c===1?"year":"years"} ago`}t(r)}return l(),mt.add(l),mt.size===1&&va(),{signal:n,destroy:()=>{mt.delete(l),mt.size===0&&Wr()},update:l}}function ba(){mt.clear(),Wr()}var Ft=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function wa(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Bt(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var dn={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var Xn;function _a(){return Xn||(Xn=1,function(e,n){(function(t){e.exports=t()})(function(){return function t(l,o,i){function a(m,y){if(!o[m]){if(!l[m]){var p=typeof Bt=="function"&&Bt;if(!y&&p)return p(m,!0);if(r)return r(m,!0);var _=new Error("Cannot find module '"+m+"'");throw _.code="MODULE_NOT_FOUND",_}var u=o[m]={exports:{}};l[m][0].call(u.exports,function(w){var f=l[m][1][w];return a(f||w)},u,u.exports,t,l,o,i)}return o[m].exports}for(var r=typeof Bt=="function"&&Bt,c=0;c<i.length;c++)a(i[c]);return a}({1:[function(t,l,o){var i=t("./utils"),a=t("./support"),r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";o.encode=function(c){for(var m,y,p,_,u,w,f,h=[],g=0,b=c.length,S=b,I=i.getTypeOf(c)!=="string";g<c.length;)S=b-g,p=I?(m=c[g++],y=g<b?c[g++]:0,g<b?c[g++]:0):(m=c.charCodeAt(g++),y=g<b?c.charCodeAt(g++):0,g<b?c.charCodeAt(g++):0),_=m>>2,u=(3&m)<<4|y>>4,w=1<S?(15&y)<<2|p>>6:64,f=2<S?63&p:64,h.push(r.charAt(_)+r.charAt(u)+r.charAt(w)+r.charAt(f));return h.join("")},o.decode=function(c){var m,y,p,_,u,w,f=0,h=0,g="data:";if(c.substr(0,g.length)===g)throw new Error("Invalid base64 input, it looks like a data url.");var b,S=3*(c=c.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(c.charAt(c.length-1)===r.charAt(64)&&S--,c.charAt(c.length-2)===r.charAt(64)&&S--,S%1!=0)throw new Error("Invalid base64 input, bad content length.");for(b=a.uint8array?new Uint8Array(0|S):new Array(0|S);f<c.length;)m=r.indexOf(c.charAt(f++))<<2|(_=r.indexOf(c.charAt(f++)))>>4,y=(15&_)<<4|(u=r.indexOf(c.charAt(f++)))>>2,p=(3&u)<<6|(w=r.indexOf(c.charAt(f++))),b[h++]=m,u!==64&&(b[h++]=y),w!==64&&(b[h++]=p);return b}},{"./support":30,"./utils":32}],2:[function(t,l,o){var i=t("./external"),a=t("./stream/DataWorker"),r=t("./stream/Crc32Probe"),c=t("./stream/DataLengthProbe");function m(y,p,_,u,w){this.compressedSize=y,this.uncompressedSize=p,this.crc32=_,this.compression=u,this.compressedContent=w}m.prototype={getContentWorker:function(){var y=new a(i.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new c("data_length")),p=this;return y.on("end",function(){if(this.streamInfo.data_length!==p.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),y},getCompressedWorker:function(){return new a(i.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},m.createWorkerFrom=function(y,p,_){return y.pipe(new r).pipe(new c("uncompressedSize")).pipe(p.compressWorker(_)).pipe(new c("compressedSize")).withStreamInfo("compression",p)},l.exports=m},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,l,o){var i=t("./stream/GenericWorker");o.STORE={magic:"\0\0",compressWorker:function(){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},o.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,l,o){var i=t("./utils"),a=function(){for(var r,c=[],m=0;m<256;m++){r=m;for(var y=0;y<8;y++)r=1&r?3988292384^r>>>1:r>>>1;c[m]=r}return c}();l.exports=function(r,c){return r!==void 0&&r.length?i.getTypeOf(r)!=="string"?function(m,y,p,_){var u=a,w=_+p;m^=-1;for(var f=_;f<w;f++)m=m>>>8^u[255&(m^y[f])];return-1^m}(0|c,r,r.length,0):function(m,y,p,_){var u=a,w=_+p;m^=-1;for(var f=_;f<w;f++)m=m>>>8^u[255&(m^y.charCodeAt(f))];return-1^m}(0|c,r,r.length,0):0}},{"./utils":32}],5:[function(t,l,o){o.base64=!1,o.binary=!1,o.dir=!1,o.createFolders=!0,o.date=null,o.compression=null,o.compressionOptions=null,o.comment=null,o.unixPermissions=null,o.dosPermissions=null},{}],6:[function(t,l,o){var i=null;i=typeof Promise<"u"?Promise:t("lie"),l.exports={Promise:i}},{lie:37}],7:[function(t,l,o){var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",a=t("pako"),r=t("./utils"),c=t("./stream/GenericWorker"),m=i?"uint8array":"array";function y(p,_){c.call(this,"FlateWorker/"+p),this._pako=null,this._pakoAction=p,this._pakoOptions=_,this.meta={}}o.magic="\b\0",r.inherits(y,c),y.prototype.processChunk=function(p){this.meta=p.meta,this._pako===null&&this._createPako(),this._pako.push(r.transformTo(m,p.data),!1)},y.prototype.flush=function(){c.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},y.prototype.cleanUp=function(){c.prototype.cleanUp.call(this),this._pako=null},y.prototype._createPako=function(){this._pako=new a[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var p=this;this._pako.onData=function(_){p.push({data:_,meta:p.meta})}},o.compressWorker=function(p){return new y("Deflate",p)},o.uncompressWorker=function(){return new y("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,l,o){function i(u,w){var f,h="";for(f=0;f<w;f++)h+=String.fromCharCode(255&u),u>>>=8;return h}function a(u,w,f,h,g,b){var S,I,$=u.file,B=u.compression,z=b!==m.utf8encode,M=r.transformTo("string",b($.name)),A=r.transformTo("string",m.utf8encode($.name)),D=$.comment,V=r.transformTo("string",b(D)),k=r.transformTo("string",m.utf8encode(D)),P=A.length!==$.name.length,d=k.length!==D.length,j="",se="",W="",de=$.dir,G=$.date,ae={crc32:0,compressedSize:0,uncompressedSize:0};w&&!f||(ae.crc32=u.crc32,ae.compressedSize=u.compressedSize,ae.uncompressedSize=u.uncompressedSize);var F=0;w&&(F|=8),z||!P&&!d||(F|=2048);var O=0,J=0;de&&(O|=16),g==="UNIX"?(J=798,O|=function(Y,ge){var pe=Y;return Y||(pe=ge?16893:33204),(65535&pe)<<16}($.unixPermissions,de)):(J=20,O|=function(Y){return 63&(Y||0)}($.dosPermissions)),S=G.getUTCHours(),S<<=6,S|=G.getUTCMinutes(),S<<=5,S|=G.getUTCSeconds()/2,I=G.getUTCFullYear()-1980,I<<=4,I|=G.getUTCMonth()+1,I<<=5,I|=G.getUTCDate(),P&&(se=i(1,1)+i(y(M),4)+A,j+="up"+i(se.length,2)+se),d&&(W=i(1,1)+i(y(V),4)+k,j+="uc"+i(W.length,2)+W);var X="";return X+=`
\0`,X+=i(F,2),X+=B.magic,X+=i(S,2),X+=i(I,2),X+=i(ae.crc32,4),X+=i(ae.compressedSize,4),X+=i(ae.uncompressedSize,4),X+=i(M.length,2),X+=i(j.length,2),{fileRecord:p.LOCAL_FILE_HEADER+X+M+j,dirRecord:p.CENTRAL_FILE_HEADER+i(J,2)+X+i(V.length,2)+"\0\0\0\0"+i(O,4)+i(h,4)+M+j+V}}var r=t("../utils"),c=t("../stream/GenericWorker"),m=t("../utf8"),y=t("../crc32"),p=t("../signature");function _(u,w,f,h){c.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=w,this.zipPlatform=f,this.encodeFileName=h,this.streamFiles=u,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}r.inherits(_,c),_.prototype.push=function(u){var w=u.meta.percent||0,f=this.entriesCount,h=this._sources.length;this.accumulate?this.contentBuffer.push(u):(this.bytesWritten+=u.data.length,c.prototype.push.call(this,{data:u.data,meta:{currentFile:this.currentFile,percent:f?(w+100*(f-h-1))/f:100}}))},_.prototype.openedSource=function(u){this.currentSourceOffset=this.bytesWritten,this.currentFile=u.file.name;var w=this.streamFiles&&!u.file.dir;if(w){var f=a(u,w,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:f.fileRecord,meta:{percent:0}})}else this.accumulate=!0},_.prototype.closedSource=function(u){this.accumulate=!1;var w=this.streamFiles&&!u.file.dir,f=a(u,w,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(f.dirRecord),w)this.push({data:function(h){return p.DATA_DESCRIPTOR+i(h.crc32,4)+i(h.compressedSize,4)+i(h.uncompressedSize,4)}(u),meta:{percent:100}});else for(this.push({data:f.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},_.prototype.flush=function(){for(var u=this.bytesWritten,w=0;w<this.dirRecords.length;w++)this.push({data:this.dirRecords[w],meta:{percent:100}});var f=this.bytesWritten-u,h=function(g,b,S,I,$){var B=r.transformTo("string",$(I));return p.CENTRAL_DIRECTORY_END+"\0\0\0\0"+i(g,2)+i(g,2)+i(b,4)+i(S,4)+i(B.length,2)+B}(this.dirRecords.length,f,u,this.zipComment,this.encodeFileName);this.push({data:h,meta:{percent:100}})},_.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},_.prototype.registerPrevious=function(u){this._sources.push(u);var w=this;return u.on("data",function(f){w.processChunk(f)}),u.on("end",function(){w.closedSource(w.previous.streamInfo),w._sources.length?w.prepareNextSource():w.end()}),u.on("error",function(f){w.error(f)}),this},_.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},_.prototype.error=function(u){var w=this._sources;if(!c.prototype.error.call(this,u))return!1;for(var f=0;f<w.length;f++)try{w[f].error(u)}catch{}return!0},_.prototype.lock=function(){c.prototype.lock.call(this);for(var u=this._sources,w=0;w<u.length;w++)u[w].lock()},l.exports=_},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,l,o){var i=t("../compressions"),a=t("./ZipFileWorker");o.generateWorker=function(r,c,m){var y=new a(c.streamFiles,m,c.platform,c.encodeFileName),p=0;try{r.forEach(function(_,u){p++;var w=function(b,S){var I=b||S,$=i[I];if(!$)throw new Error(I+" is not a valid compression method !");return $}(u.options.compression,c.compression),f=u.options.compressionOptions||c.compressionOptions||{},h=u.dir,g=u.date;u._compressWorker(w,f).withStreamInfo("file",{name:_,dir:h,date:g,comment:u.comment||"",unixPermissions:u.unixPermissions,dosPermissions:u.dosPermissions}).pipe(y)}),y.entriesCount=p}catch(_){y.error(_)}return y}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,l,o){function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var a=new i;for(var r in this)typeof this[r]!="function"&&(a[r]=this[r]);return a}}(i.prototype=t("./object")).loadAsync=t("./load"),i.support=t("./support"),i.defaults=t("./defaults"),i.version="3.10.1",i.loadAsync=function(a,r){return new i().loadAsync(a,r)},i.external=t("./external"),l.exports=i},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,l,o){var i=t("./utils"),a=t("./external"),r=t("./utf8"),c=t("./zipEntries"),m=t("./stream/Crc32Probe"),y=t("./nodejsUtils");function p(_){return new a.Promise(function(u,w){var f=_.decompressed.getContentWorker().pipe(new m);f.on("error",function(h){w(h)}).on("end",function(){f.streamInfo.crc32!==_.decompressed.crc32?w(new Error("Corrupted zip : CRC32 mismatch")):u()}).resume()})}l.exports=function(_,u){var w=this;return u=i.extend(u||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:r.utf8decode}),y.isNode&&y.isStream(_)?a.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):i.prepareContent("the loaded zip file",_,!0,u.optimizedBinaryString,u.base64).then(function(f){var h=new c(u);return h.load(f),h}).then(function(f){var h=[a.Promise.resolve(f)],g=f.files;if(u.checkCRC32)for(var b=0;b<g.length;b++)h.push(p(g[b]));return a.Promise.all(h)}).then(function(f){for(var h=f.shift(),g=h.files,b=0;b<g.length;b++){var S=g[b],I=S.fileNameStr,$=i.resolve(S.fileNameStr);w.file($,S.decompressed,{binary:!0,optimizedBinaryString:!0,date:S.date,dir:S.dir,comment:S.fileCommentStr.length?S.fileCommentStr:null,unixPermissions:S.unixPermissions,dosPermissions:S.dosPermissions,createFolders:u.createFolders}),S.dir||(w.file($).unsafeOriginalName=I)}return h.zipComment.length&&(w.comment=h.zipComment),w})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,l,o){var i=t("../utils"),a=t("../stream/GenericWorker");function r(c,m){a.call(this,"Nodejs stream input adapter for "+c),this._upstreamEnded=!1,this._bindStream(m)}i.inherits(r,a),r.prototype._bindStream=function(c){var m=this;(this._stream=c).pause(),c.on("data",function(y){m.push({data:y,meta:{percent:0}})}).on("error",function(y){m.isPaused?this.generatedError=y:m.error(y)}).on("end",function(){m.isPaused?m._upstreamEnded=!0:m.end()})},r.prototype.pause=function(){return!!a.prototype.pause.call(this)&&(this._stream.pause(),!0)},r.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},l.exports=r},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,l,o){var i=t("readable-stream").Readable;function a(r,c,m){i.call(this,c),this._helper=r;var y=this;r.on("data",function(p,_){y.push(p)||y._helper.pause(),m&&m(_)}).on("error",function(p){y.emit("error",p)}).on("end",function(){y.push(null)})}t("../utils").inherits(a,i),a.prototype._read=function(){this._helper.resume()},l.exports=a},{"../utils":32,"readable-stream":16}],14:[function(t,l,o){l.exports={isNode:typeof Buffer<"u",newBufferFrom:function(i,a){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(i,a);if(typeof i=="number")throw new Error('The "data" argument must not be a number');return new Buffer(i,a)},allocBuffer:function(i){if(Buffer.alloc)return Buffer.alloc(i);var a=new Buffer(i);return a.fill(0),a},isBuffer:function(i){return Buffer.isBuffer(i)},isStream:function(i){return i&&typeof i.on=="function"&&typeof i.pause=="function"&&typeof i.resume=="function"}}},{}],15:[function(t,l,o){function i($,B,z){var M,A=r.getTypeOf(B),D=r.extend(z||{},y);D.date=D.date||new Date,D.compression!==null&&(D.compression=D.compression.toUpperCase()),typeof D.unixPermissions=="string"&&(D.unixPermissions=parseInt(D.unixPermissions,8)),D.unixPermissions&&16384&D.unixPermissions&&(D.dir=!0),D.dosPermissions&&16&D.dosPermissions&&(D.dir=!0),D.dir&&($=g($)),D.createFolders&&(M=h($))&&b.call(this,M,!0);var V=A==="string"&&D.binary===!1&&D.base64===!1;z&&z.binary!==void 0||(D.binary=!V),(B instanceof p&&B.uncompressedSize===0||D.dir||!B||B.length===0)&&(D.base64=!1,D.binary=!0,B="",D.compression="STORE",A="string");var k=null;k=B instanceof p||B instanceof c?B:w.isNode&&w.isStream(B)?new f($,B):r.prepareContent($,B,D.binary,D.optimizedBinaryString,D.base64);var P=new _($,k,D);this.files[$]=P}var a=t("./utf8"),r=t("./utils"),c=t("./stream/GenericWorker"),m=t("./stream/StreamHelper"),y=t("./defaults"),p=t("./compressedObject"),_=t("./zipObject"),u=t("./generate"),w=t("./nodejsUtils"),f=t("./nodejs/NodejsStreamInputAdapter"),h=function($){$.slice(-1)==="/"&&($=$.substring(0,$.length-1));var B=$.lastIndexOf("/");return 0<B?$.substring(0,B):""},g=function($){return $.slice(-1)!=="/"&&($+="/"),$},b=function($,B){return B=B!==void 0?B:y.createFolders,$=g($),this.files[$]||i.call(this,$,null,{dir:!0,createFolders:B}),this.files[$]};function S($){return Object.prototype.toString.call($)==="[object RegExp]"}var I={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function($){var B,z,M;for(B in this.files)M=this.files[B],(z=B.slice(this.root.length,B.length))&&B.slice(0,this.root.length)===this.root&&$(z,M)},filter:function($){var B=[];return this.forEach(function(z,M){$(z,M)&&B.push(M)}),B},file:function($,B,z){if(arguments.length!==1)return $=this.root+$,i.call(this,$,B,z),this;if(S($)){var M=$;return this.filter(function(D,V){return!V.dir&&M.test(D)})}var A=this.files[this.root+$];return A&&!A.dir?A:null},folder:function($){if(!$)return this;if(S($))return this.filter(function(A,D){return D.dir&&$.test(A)});var B=this.root+$,z=b.call(this,B),M=this.clone();return M.root=z.name,M},remove:function($){$=this.root+$;var B=this.files[$];if(B||($.slice(-1)!=="/"&&($+="/"),B=this.files[$]),B&&!B.dir)delete this.files[$];else for(var z=this.filter(function(A,D){return D.name.slice(0,$.length)===$}),M=0;M<z.length;M++)delete this.files[z[M].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function($){var B,z={};try{if((z=r.extend($||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:a.utf8encode})).type=z.type.toLowerCase(),z.compression=z.compression.toUpperCase(),z.type==="binarystring"&&(z.type="string"),!z.type)throw new Error("No output type specified.");r.checkSupport(z.type),z.platform!=="darwin"&&z.platform!=="freebsd"&&z.platform!=="linux"&&z.platform!=="sunos"||(z.platform="UNIX"),z.platform==="win32"&&(z.platform="DOS");var M=z.comment||this.comment||"";B=u.generateWorker(this,z,M)}catch(A){(B=new c("error")).error(A)}return new m(B,z.type||"string",z.mimeType)},generateAsync:function($,B){return this.generateInternalStream($).accumulate(B)},generateNodeStream:function($,B){return($=$||{}).type||($.type="nodebuffer"),this.generateInternalStream($).toNodejsStream(B)}};l.exports=I},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,l,o){l.exports=t("stream")},{stream:void 0}],17:[function(t,l,o){var i=t("./DataReader");function a(r){i.call(this,r);for(var c=0;c<this.data.length;c++)r[c]=255&r[c]}t("../utils").inherits(a,i),a.prototype.byteAt=function(r){return this.data[this.zero+r]},a.prototype.lastIndexOfSignature=function(r){for(var c=r.charCodeAt(0),m=r.charCodeAt(1),y=r.charCodeAt(2),p=r.charCodeAt(3),_=this.length-4;0<=_;--_)if(this.data[_]===c&&this.data[_+1]===m&&this.data[_+2]===y&&this.data[_+3]===p)return _-this.zero;return-1},a.prototype.readAndCheckSignature=function(r){var c=r.charCodeAt(0),m=r.charCodeAt(1),y=r.charCodeAt(2),p=r.charCodeAt(3),_=this.readData(4);return c===_[0]&&m===_[1]&&y===_[2]&&p===_[3]},a.prototype.readData=function(r){if(this.checkOffset(r),r===0)return[];var c=this.data.slice(this.zero+this.index,this.zero+this.index+r);return this.index+=r,c},l.exports=a},{"../utils":32,"./DataReader":18}],18:[function(t,l,o){var i=t("../utils");function a(r){this.data=r,this.length=r.length,this.index=0,this.zero=0}a.prototype={checkOffset:function(r){this.checkIndex(this.index+r)},checkIndex:function(r){if(this.length<this.zero+r||r<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+r+"). Corrupted zip ?")},setIndex:function(r){this.checkIndex(r),this.index=r},skip:function(r){this.setIndex(this.index+r)},byteAt:function(){},readInt:function(r){var c,m=0;for(this.checkOffset(r),c=this.index+r-1;c>=this.index;c--)m=(m<<8)+this.byteAt(c);return this.index+=r,m},readString:function(r){return i.transformTo("string",this.readData(r))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var r=this.readInt(4);return new Date(Date.UTC(1980+(r>>25&127),(r>>21&15)-1,r>>16&31,r>>11&31,r>>5&63,(31&r)<<1))}},l.exports=a},{"../utils":32}],19:[function(t,l,o){var i=t("./Uint8ArrayReader");function a(r){i.call(this,r)}t("../utils").inherits(a,i),a.prototype.readData=function(r){this.checkOffset(r);var c=this.data.slice(this.zero+this.index,this.zero+this.index+r);return this.index+=r,c},l.exports=a},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,l,o){var i=t("./DataReader");function a(r){i.call(this,r)}t("../utils").inherits(a,i),a.prototype.byteAt=function(r){return this.data.charCodeAt(this.zero+r)},a.prototype.lastIndexOfSignature=function(r){return this.data.lastIndexOf(r)-this.zero},a.prototype.readAndCheckSignature=function(r){return r===this.readData(4)},a.prototype.readData=function(r){this.checkOffset(r);var c=this.data.slice(this.zero+this.index,this.zero+this.index+r);return this.index+=r,c},l.exports=a},{"../utils":32,"./DataReader":18}],21:[function(t,l,o){var i=t("./ArrayReader");function a(r){i.call(this,r)}t("../utils").inherits(a,i),a.prototype.readData=function(r){if(this.checkOffset(r),r===0)return new Uint8Array(0);var c=this.data.subarray(this.zero+this.index,this.zero+this.index+r);return this.index+=r,c},l.exports=a},{"../utils":32,"./ArrayReader":17}],22:[function(t,l,o){var i=t("../utils"),a=t("../support"),r=t("./ArrayReader"),c=t("./StringReader"),m=t("./NodeBufferReader"),y=t("./Uint8ArrayReader");l.exports=function(p){var _=i.getTypeOf(p);return i.checkSupport(_),_!=="string"||a.uint8array?_==="nodebuffer"?new m(p):a.uint8array?new y(i.transformTo("uint8array",p)):new r(i.transformTo("array",p)):new c(p)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,l,o){o.LOCAL_FILE_HEADER="PK",o.CENTRAL_FILE_HEADER="PK",o.CENTRAL_DIRECTORY_END="PK",o.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",o.ZIP64_CENTRAL_DIRECTORY_END="PK",o.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(t,l,o){var i=t("./GenericWorker"),a=t("../utils");function r(c){i.call(this,"ConvertWorker to "+c),this.destType=c}a.inherits(r,i),r.prototype.processChunk=function(c){this.push({data:a.transformTo(this.destType,c.data),meta:c.meta})},l.exports=r},{"../utils":32,"./GenericWorker":28}],25:[function(t,l,o){var i=t("./GenericWorker"),a=t("../crc32");function r(){i.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}t("../utils").inherits(r,i),r.prototype.processChunk=function(c){this.streamInfo.crc32=a(c.data,this.streamInfo.crc32||0),this.push(c)},l.exports=r},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,l,o){var i=t("../utils"),a=t("./GenericWorker");function r(c){a.call(this,"DataLengthProbe for "+c),this.propName=c,this.withStreamInfo(c,0)}i.inherits(r,a),r.prototype.processChunk=function(c){if(c){var m=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=m+c.data.length}a.prototype.processChunk.call(this,c)},l.exports=r},{"../utils":32,"./GenericWorker":28}],27:[function(t,l,o){var i=t("../utils"),a=t("./GenericWorker");function r(c){a.call(this,"DataWorker");var m=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,c.then(function(y){m.dataIsReady=!0,m.data=y,m.max=y&&y.length||0,m.type=i.getTypeOf(y),m.isPaused||m._tickAndRepeat()},function(y){m.error(y)})}i.inherits(r,a),r.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this.data=null},r.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,i.delay(this._tickAndRepeat,[],this)),!0)},r.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(i.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},r.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var c=null,m=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":c=this.data.substring(this.index,m);break;case"uint8array":c=this.data.subarray(this.index,m);break;case"array":case"nodebuffer":c=this.data.slice(this.index,m)}return this.index=m,this.push({data:c,meta:{percent:this.max?this.index/this.max*100:0}})},l.exports=r},{"../utils":32,"./GenericWorker":28}],28:[function(t,l,o){function i(a){this.name=a||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}i.prototype={push:function(a){this.emit("data",a)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(a){this.emit("error",a)}return!0},error:function(a){return!this.isFinished&&(this.isPaused?this.generatedError=a:(this.isFinished=!0,this.emit("error",a),this.previous&&this.previous.error(a),this.cleanUp()),!0)},on:function(a,r){return this._listeners[a].push(r),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(a,r){if(this._listeners[a])for(var c=0;c<this._listeners[a].length;c++)this._listeners[a][c].call(this,r)},pipe:function(a){return a.registerPrevious(this)},registerPrevious:function(a){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=a.streamInfo,this.mergeStreamInfo(),this.previous=a;var r=this;return a.on("data",function(c){r.processChunk(c)}),a.on("end",function(){r.end()}),a.on("error",function(c){r.error(c)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var a=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),a=!0),this.previous&&this.previous.resume(),!a},flush:function(){},processChunk:function(a){this.push(a)},withStreamInfo:function(a,r){return this.extraStreamInfo[a]=r,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var a in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,a)&&(this.streamInfo[a]=this.extraStreamInfo[a])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var a="Worker "+this.name;return this.previous?this.previous+" -> "+a:a}},l.exports=i},{}],29:[function(t,l,o){var i=t("../utils"),a=t("./ConvertWorker"),r=t("./GenericWorker"),c=t("../base64"),m=t("../support"),y=t("../external"),p=null;if(m.nodestream)try{p=t("../nodejs/NodejsStreamOutputAdapter")}catch{}function _(w,f){return new y.Promise(function(h,g){var b=[],S=w._internalType,I=w._outputType,$=w._mimeType;w.on("data",function(B,z){b.push(B),f&&f(z)}).on("error",function(B){b=[],g(B)}).on("end",function(){try{var B=function(z,M,A){switch(z){case"blob":return i.newBlob(i.transformTo("arraybuffer",M),A);case"base64":return c.encode(M);default:return i.transformTo(z,M)}}(I,function(z,M){var A,D=0,V=null,k=0;for(A=0;A<M.length;A++)k+=M[A].length;switch(z){case"string":return M.join("");case"array":return Array.prototype.concat.apply([],M);case"uint8array":for(V=new Uint8Array(k),A=0;A<M.length;A++)V.set(M[A],D),D+=M[A].length;return V;case"nodebuffer":return Buffer.concat(M);default:throw new Error("concat : unsupported type '"+z+"'")}}(S,b),$);h(B)}catch(z){g(z)}b=[]}).resume()})}function u(w,f,h){var g=f;switch(f){case"blob":case"arraybuffer":g="uint8array";break;case"base64":g="string"}try{this._internalType=g,this._outputType=f,this._mimeType=h,i.checkSupport(g),this._worker=w.pipe(new a(g)),w.lock()}catch(b){this._worker=new r("error"),this._worker.error(b)}}u.prototype={accumulate:function(w){return _(this,w)},on:function(w,f){var h=this;return w==="data"?this._worker.on(w,function(g){f.call(h,g.data,g.meta)}):this._worker.on(w,function(){i.delay(f,arguments,h)}),this},resume:function(){return i.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(w){if(i.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new p(this,{objectMode:this._outputType!=="nodebuffer"},w)}},l.exports=u},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,l,o){if(o.base64=!0,o.array=!0,o.string=!0,o.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",o.nodebuffer=typeof Buffer<"u",o.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")o.blob=!1;else{var i=new ArrayBuffer(0);try{o.blob=new Blob([i],{type:"application/zip"}).size===0}catch{try{var a=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);a.append(i),o.blob=a.getBlob("application/zip").size===0}catch{o.blob=!1}}}try{o.nodestream=!!t("readable-stream").Readable}catch{o.nodestream=!1}},{"readable-stream":16}],31:[function(t,l,o){for(var i=t("./utils"),a=t("./support"),r=t("./nodejsUtils"),c=t("./stream/GenericWorker"),m=new Array(256),y=0;y<256;y++)m[y]=252<=y?6:248<=y?5:240<=y?4:224<=y?3:192<=y?2:1;m[254]=m[254]=1;function p(){c.call(this,"utf-8 decode"),this.leftOver=null}function _(){c.call(this,"utf-8 encode")}o.utf8encode=function(u){return a.nodebuffer?r.newBufferFrom(u,"utf-8"):function(w){var f,h,g,b,S,I=w.length,$=0;for(b=0;b<I;b++)(64512&(h=w.charCodeAt(b)))==55296&&b+1<I&&(64512&(g=w.charCodeAt(b+1)))==56320&&(h=65536+(h-55296<<10)+(g-56320),b++),$+=h<128?1:h<2048?2:h<65536?3:4;for(f=a.uint8array?new Uint8Array($):new Array($),b=S=0;S<$;b++)(64512&(h=w.charCodeAt(b)))==55296&&b+1<I&&(64512&(g=w.charCodeAt(b+1)))==56320&&(h=65536+(h-55296<<10)+(g-56320),b++),h<128?f[S++]=h:(h<2048?f[S++]=192|h>>>6:(h<65536?f[S++]=224|h>>>12:(f[S++]=240|h>>>18,f[S++]=128|h>>>12&63),f[S++]=128|h>>>6&63),f[S++]=128|63&h);return f}(u)},o.utf8decode=function(u){return a.nodebuffer?i.transformTo("nodebuffer",u).toString("utf-8"):function(w){var f,h,g,b,S=w.length,I=new Array(2*S);for(f=h=0;f<S;)if((g=w[f++])<128)I[h++]=g;else if(4<(b=m[g]))I[h++]=65533,f+=b-1;else{for(g&=b===2?31:b===3?15:7;1<b&&f<S;)g=g<<6|63&w[f++],b--;1<b?I[h++]=65533:g<65536?I[h++]=g:(g-=65536,I[h++]=55296|g>>10&1023,I[h++]=56320|1023&g)}return I.length!==h&&(I.subarray?I=I.subarray(0,h):I.length=h),i.applyFromCharCode(I)}(u=i.transformTo(a.uint8array?"uint8array":"array",u))},i.inherits(p,c),p.prototype.processChunk=function(u){var w=i.transformTo(a.uint8array?"uint8array":"array",u.data);if(this.leftOver&&this.leftOver.length){if(a.uint8array){var f=w;(w=new Uint8Array(f.length+this.leftOver.length)).set(this.leftOver,0),w.set(f,this.leftOver.length)}else w=this.leftOver.concat(w);this.leftOver=null}var h=function(b,S){var I;for((S=S||b.length)>b.length&&(S=b.length),I=S-1;0<=I&&(192&b[I])==128;)I--;return I<0||I===0?S:I+m[b[I]]>S?I:S}(w),g=w;h!==w.length&&(a.uint8array?(g=w.subarray(0,h),this.leftOver=w.subarray(h,w.length)):(g=w.slice(0,h),this.leftOver=w.slice(h,w.length))),this.push({data:o.utf8decode(g),meta:u.meta})},p.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:o.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},o.Utf8DecodeWorker=p,i.inherits(_,c),_.prototype.processChunk=function(u){this.push({data:o.utf8encode(u.data),meta:u.meta})},o.Utf8EncodeWorker=_},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,l,o){var i=t("./support"),a=t("./base64"),r=t("./nodejsUtils"),c=t("./external");function m(f){return f}function y(f,h){for(var g=0;g<f.length;++g)h[g]=255&f.charCodeAt(g);return h}t("setimmediate"),o.newBlob=function(f,h){o.checkSupport("blob");try{return new Blob([f],{type:h})}catch{try{var g=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return g.append(f),g.getBlob(h)}catch{throw new Error("Bug : can't construct the Blob.")}}};var p={stringifyByChunk:function(f,h,g){var b=[],S=0,I=f.length;if(I<=g)return String.fromCharCode.apply(null,f);for(;S<I;)h==="array"||h==="nodebuffer"?b.push(String.fromCharCode.apply(null,f.slice(S,Math.min(S+g,I)))):b.push(String.fromCharCode.apply(null,f.subarray(S,Math.min(S+g,I)))),S+=g;return b.join("")},stringifyByChar:function(f){for(var h="",g=0;g<f.length;g++)h+=String.fromCharCode(f[g]);return h},applyCanBeUsed:{uint8array:function(){try{return i.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return i.nodebuffer&&String.fromCharCode.apply(null,r.allocBuffer(1)).length===1}catch{return!1}}()}};function _(f){var h=65536,g=o.getTypeOf(f),b=!0;if(g==="uint8array"?b=p.applyCanBeUsed.uint8array:g==="nodebuffer"&&(b=p.applyCanBeUsed.nodebuffer),b)for(;1<h;)try{return p.stringifyByChunk(f,g,h)}catch{h=Math.floor(h/2)}return p.stringifyByChar(f)}function u(f,h){for(var g=0;g<f.length;g++)h[g]=f[g];return h}o.applyFromCharCode=_;var w={};w.string={string:m,array:function(f){return y(f,new Array(f.length))},arraybuffer:function(f){return w.string.uint8array(f).buffer},uint8array:function(f){return y(f,new Uint8Array(f.length))},nodebuffer:function(f){return y(f,r.allocBuffer(f.length))}},w.array={string:_,array:m,arraybuffer:function(f){return new Uint8Array(f).buffer},uint8array:function(f){return new Uint8Array(f)},nodebuffer:function(f){return r.newBufferFrom(f)}},w.arraybuffer={string:function(f){return _(new Uint8Array(f))},array:function(f){return u(new Uint8Array(f),new Array(f.byteLength))},arraybuffer:m,uint8array:function(f){return new Uint8Array(f)},nodebuffer:function(f){return r.newBufferFrom(new Uint8Array(f))}},w.uint8array={string:_,array:function(f){return u(f,new Array(f.length))},arraybuffer:function(f){return f.buffer},uint8array:m,nodebuffer:function(f){return r.newBufferFrom(f)}},w.nodebuffer={string:_,array:function(f){return u(f,new Array(f.length))},arraybuffer:function(f){return w.nodebuffer.uint8array(f).buffer},uint8array:function(f){return u(f,new Uint8Array(f.length))},nodebuffer:m},o.transformTo=function(f,h){if(h=h||"",!f)return h;o.checkSupport(f);var g=o.getTypeOf(h);return w[g][f](h)},o.resolve=function(f){for(var h=f.split("/"),g=[],b=0;b<h.length;b++){var S=h[b];S==="."||S===""&&b!==0&&b!==h.length-1||(S===".."?g.pop():g.push(S))}return g.join("/")},o.getTypeOf=function(f){return typeof f=="string"?"string":Object.prototype.toString.call(f)==="[object Array]"?"array":i.nodebuffer&&r.isBuffer(f)?"nodebuffer":i.uint8array&&f instanceof Uint8Array?"uint8array":i.arraybuffer&&f instanceof ArrayBuffer?"arraybuffer":void 0},o.checkSupport=function(f){if(!i[f.toLowerCase()])throw new Error(f+" is not supported by this platform")},o.MAX_VALUE_16BITS=65535,o.MAX_VALUE_32BITS=-1,o.pretty=function(f){var h,g,b="";for(g=0;g<(f||"").length;g++)b+="\\x"+((h=f.charCodeAt(g))<16?"0":"")+h.toString(16).toUpperCase();return b},o.delay=function(f,h,g){setImmediate(function(){f.apply(g||null,h||[])})},o.inherits=function(f,h){function g(){}g.prototype=h.prototype,f.prototype=new g},o.extend=function(){var f,h,g={};for(f=0;f<arguments.length;f++)for(h in arguments[f])Object.prototype.hasOwnProperty.call(arguments[f],h)&&g[h]===void 0&&(g[h]=arguments[f][h]);return g},o.prepareContent=function(f,h,g,b,S){return c.Promise.resolve(h).then(function(I){return i.blob&&(I instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(I))!==-1)&&typeof FileReader<"u"?new c.Promise(function($,B){var z=new FileReader;z.onload=function(M){$(M.target.result)},z.onerror=function(M){B(M.target.error)},z.readAsArrayBuffer(I)}):I}).then(function(I){var $=o.getTypeOf(I);return $?($==="arraybuffer"?I=o.transformTo("uint8array",I):$==="string"&&(S?I=a.decode(I):g&&b!==!0&&(I=function(B){return y(B,i.uint8array?new Uint8Array(B.length):new Array(B.length))}(I))),I):c.Promise.reject(new Error("Can't read the data of '"+f+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(t,l,o){var i=t("./reader/readerFor"),a=t("./utils"),r=t("./signature"),c=t("./zipEntry"),m=t("./support");function y(p){this.files=[],this.loadOptions=p}y.prototype={checkSignature:function(p){if(!this.reader.readAndCheckSignature(p)){this.reader.index-=4;var _=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+a.pretty(_)+", expected "+a.pretty(p)+")")}},isSignature:function(p,_){var u=this.reader.index;this.reader.setIndex(p);var w=this.reader.readString(4)===_;return this.reader.setIndex(u),w},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var p=this.reader.readData(this.zipCommentLength),_=m.uint8array?"uint8array":"array",u=a.transformTo(_,p);this.zipComment=this.loadOptions.decodeFileName(u)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var p,_,u,w=this.zip64EndOfCentralSize-44;0<w;)p=this.reader.readInt(2),_=this.reader.readInt(4),u=this.reader.readData(_),this.zip64ExtensibleData[p]={id:p,length:_,value:u}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var p,_;for(p=0;p<this.files.length;p++)_=this.files[p],this.reader.setIndex(_.localHeaderOffset),this.checkSignature(r.LOCAL_FILE_HEADER),_.readLocalPart(this.reader),_.handleUTF8(),_.processAttributes()},readCentralDir:function(){var p;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(r.CENTRAL_FILE_HEADER);)(p=new c({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(p);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var p=this.reader.lastIndexOfSignature(r.CENTRAL_DIRECTORY_END);if(p<0)throw this.isSignature(0,r.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(p);var _=p;if(this.checkSignature(r.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===a.MAX_VALUE_16BITS||this.diskWithCentralDirStart===a.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===a.MAX_VALUE_16BITS||this.centralDirRecords===a.MAX_VALUE_16BITS||this.centralDirSize===a.MAX_VALUE_32BITS||this.centralDirOffset===a.MAX_VALUE_32BITS){if(this.zip64=!0,(p=this.reader.lastIndexOfSignature(r.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(p),this.checkSignature(r.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,r.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(r.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(r.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var u=this.centralDirOffset+this.centralDirSize;this.zip64&&(u+=20,u+=12+this.zip64EndOfCentralSize);var w=_-u;if(0<w)this.isSignature(_,r.CENTRAL_FILE_HEADER)||(this.reader.zero=w);else if(w<0)throw new Error("Corrupted zip: missing "+Math.abs(w)+" bytes.")},prepareReader:function(p){this.reader=i(p)},load:function(p){this.prepareReader(p),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},l.exports=y},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(t,l,o){var i=t("./reader/readerFor"),a=t("./utils"),r=t("./compressedObject"),c=t("./crc32"),m=t("./utf8"),y=t("./compressions"),p=t("./support");function _(u,w){this.options=u,this.loadOptions=w}_.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(u){var w,f;if(u.skip(22),this.fileNameLength=u.readInt(2),f=u.readInt(2),this.fileName=u.readData(this.fileNameLength),u.skip(f),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((w=function(h){for(var g in y)if(Object.prototype.hasOwnProperty.call(y,g)&&y[g].magic===h)return y[g];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+a.pretty(this.compressionMethod)+" unknown (inner file : "+a.transformTo("string",this.fileName)+")");this.decompressed=new r(this.compressedSize,this.uncompressedSize,this.crc32,w,u.readData(this.compressedSize))},readCentralPart:function(u){this.versionMadeBy=u.readInt(2),u.skip(2),this.bitFlag=u.readInt(2),this.compressionMethod=u.readString(2),this.date=u.readDate(),this.crc32=u.readInt(4),this.compressedSize=u.readInt(4),this.uncompressedSize=u.readInt(4);var w=u.readInt(2);if(this.extraFieldsLength=u.readInt(2),this.fileCommentLength=u.readInt(2),this.diskNumberStart=u.readInt(2),this.internalFileAttributes=u.readInt(2),this.externalFileAttributes=u.readInt(4),this.localHeaderOffset=u.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");u.skip(w),this.readExtraFields(u),this.parseZIP64ExtraField(u),this.fileComment=u.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var u=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),u==0&&(this.dosPermissions=63&this.externalFileAttributes),u==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var u=i(this.extraFields[1].value);this.uncompressedSize===a.MAX_VALUE_32BITS&&(this.uncompressedSize=u.readInt(8)),this.compressedSize===a.MAX_VALUE_32BITS&&(this.compressedSize=u.readInt(8)),this.localHeaderOffset===a.MAX_VALUE_32BITS&&(this.localHeaderOffset=u.readInt(8)),this.diskNumberStart===a.MAX_VALUE_32BITS&&(this.diskNumberStart=u.readInt(4))}},readExtraFields:function(u){var w,f,h,g=u.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});u.index+4<g;)w=u.readInt(2),f=u.readInt(2),h=u.readData(f),this.extraFields[w]={id:w,length:f,value:h};u.setIndex(g)},handleUTF8:function(){var u=p.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=m.utf8decode(this.fileName),this.fileCommentStr=m.utf8decode(this.fileComment);else{var w=this.findExtraFieldUnicodePath();if(w!==null)this.fileNameStr=w;else{var f=a.transformTo(u,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(f)}var h=this.findExtraFieldUnicodeComment();if(h!==null)this.fileCommentStr=h;else{var g=a.transformTo(u,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(g)}}},findExtraFieldUnicodePath:function(){var u=this.extraFields[28789];if(u){var w=i(u.value);return w.readInt(1)!==1||c(this.fileName)!==w.readInt(4)?null:m.utf8decode(w.readData(u.length-5))}return null},findExtraFieldUnicodeComment:function(){var u=this.extraFields[25461];if(u){var w=i(u.value);return w.readInt(1)!==1||c(this.fileComment)!==w.readInt(4)?null:m.utf8decode(w.readData(u.length-5))}return null}},l.exports=_},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,l,o){function i(w,f,h){this.name=w,this.dir=h.dir,this.date=h.date,this.comment=h.comment,this.unixPermissions=h.unixPermissions,this.dosPermissions=h.dosPermissions,this._data=f,this._dataBinary=h.binary,this.options={compression:h.compression,compressionOptions:h.compressionOptions}}var a=t("./stream/StreamHelper"),r=t("./stream/DataWorker"),c=t("./utf8"),m=t("./compressedObject"),y=t("./stream/GenericWorker");i.prototype={internalStream:function(w){var f=null,h="string";try{if(!w)throw new Error("No output type specified.");var g=(h=w.toLowerCase())==="string"||h==="text";h!=="binarystring"&&h!=="text"||(h="string"),f=this._decompressWorker();var b=!this._dataBinary;b&&!g&&(f=f.pipe(new c.Utf8EncodeWorker)),!b&&g&&(f=f.pipe(new c.Utf8DecodeWorker))}catch(S){(f=new y("error")).error(S)}return new a(f,h,"")},async:function(w,f){return this.internalStream(w).accumulate(f)},nodeStream:function(w,f){return this.internalStream(w||"nodebuffer").toNodejsStream(f)},_compressWorker:function(w,f){if(this._data instanceof m&&this._data.compression.magic===w.magic)return this._data.getCompressedWorker();var h=this._decompressWorker();return this._dataBinary||(h=h.pipe(new c.Utf8EncodeWorker)),m.createWorkerFrom(h,w,f)},_decompressWorker:function(){return this._data instanceof m?this._data.getContentWorker():this._data instanceof y?this._data:new r(this._data)}};for(var p=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],_=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},u=0;u<p.length;u++)i.prototype[p[u]]=_;l.exports=i},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,l,o){(function(i){var a,r,c=i.MutationObserver||i.WebKitMutationObserver;if(c){var m=0,y=new c(w),p=i.document.createTextNode("");y.observe(p,{characterData:!0}),a=function(){p.data=m=++m%2}}else if(i.setImmediate||i.MessageChannel===void 0)a="document"in i&&"onreadystatechange"in i.document.createElement("script")?function(){var f=i.document.createElement("script");f.onreadystatechange=function(){w(),f.onreadystatechange=null,f.parentNode.removeChild(f),f=null},i.document.documentElement.appendChild(f)}:function(){setTimeout(w,0)};else{var _=new i.MessageChannel;_.port1.onmessage=w,a=function(){_.port2.postMessage(0)}}var u=[];function w(){var f,h;r=!0;for(var g=u.length;g;){for(h=u,u=[],f=-1;++f<g;)h[f]();g=u.length}r=!1}l.exports=function(f){u.push(f)!==1||r||a()}}).call(this,typeof Ft<"u"?Ft:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(t,l,o){var i=t("immediate");function a(){}var r={},c=["REJECTED"],m=["FULFILLED"],y=["PENDING"];function p(g){if(typeof g!="function")throw new TypeError("resolver must be a function");this.state=y,this.queue=[],this.outcome=void 0,g!==a&&f(this,g)}function _(g,b,S){this.promise=g,typeof b=="function"&&(this.onFulfilled=b,this.callFulfilled=this.otherCallFulfilled),typeof S=="function"&&(this.onRejected=S,this.callRejected=this.otherCallRejected)}function u(g,b,S){i(function(){var I;try{I=b(S)}catch($){return r.reject(g,$)}I===g?r.reject(g,new TypeError("Cannot resolve promise with itself")):r.resolve(g,I)})}function w(g){var b=g&&g.then;if(g&&(typeof g=="object"||typeof g=="function")&&typeof b=="function")return function(){b.apply(g,arguments)}}function f(g,b){var S=!1;function I(z){S||(S=!0,r.reject(g,z))}function $(z){S||(S=!0,r.resolve(g,z))}var B=h(function(){b($,I)});B.status==="error"&&I(B.value)}function h(g,b){var S={};try{S.value=g(b),S.status="success"}catch(I){S.status="error",S.value=I}return S}(l.exports=p).prototype.finally=function(g){if(typeof g!="function")return this;var b=this.constructor;return this.then(function(S){return b.resolve(g()).then(function(){return S})},function(S){return b.resolve(g()).then(function(){throw S})})},p.prototype.catch=function(g){return this.then(null,g)},p.prototype.then=function(g,b){if(typeof g!="function"&&this.state===m||typeof b!="function"&&this.state===c)return this;var S=new this.constructor(a);return this.state!==y?u(S,this.state===m?g:b,this.outcome):this.queue.push(new _(S,g,b)),S},_.prototype.callFulfilled=function(g){r.resolve(this.promise,g)},_.prototype.otherCallFulfilled=function(g){u(this.promise,this.onFulfilled,g)},_.prototype.callRejected=function(g){r.reject(this.promise,g)},_.prototype.otherCallRejected=function(g){u(this.promise,this.onRejected,g)},r.resolve=function(g,b){var S=h(w,b);if(S.status==="error")return r.reject(g,S.value);var I=S.value;if(I)f(g,I);else{g.state=m,g.outcome=b;for(var $=-1,B=g.queue.length;++$<B;)g.queue[$].callFulfilled(b)}return g},r.reject=function(g,b){g.state=c,g.outcome=b;for(var S=-1,I=g.queue.length;++S<I;)g.queue[S].callRejected(b);return g},p.resolve=function(g){return g instanceof this?g:r.resolve(new this(a),g)},p.reject=function(g){var b=new this(a);return r.reject(b,g)},p.all=function(g){var b=this;if(Object.prototype.toString.call(g)!=="[object Array]")return this.reject(new TypeError("must be an array"));var S=g.length,I=!1;if(!S)return this.resolve([]);for(var $=new Array(S),B=0,z=-1,M=new this(a);++z<S;)A(g[z],z);return M;function A(D,V){b.resolve(D).then(function(k){$[V]=k,++B!==S||I||(I=!0,r.resolve(M,$))},function(k){I||(I=!0,r.reject(M,k))})}},p.race=function(g){var b=this;if(Object.prototype.toString.call(g)!=="[object Array]")return this.reject(new TypeError("must be an array"));var S=g.length,I=!1;if(!S)return this.resolve([]);for(var $=-1,B=new this(a);++$<S;)z=g[$],b.resolve(z).then(function(M){I||(I=!0,r.resolve(B,M))},function(M){I||(I=!0,r.reject(B,M))});var z;return B}},{immediate:36}],38:[function(t,l,o){var i={};(0,t("./lib/utils/common").assign)(i,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),l.exports=i},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,l,o){var i=t("./zlib/deflate"),a=t("./utils/common"),r=t("./utils/strings"),c=t("./zlib/messages"),m=t("./zlib/zstream"),y=Object.prototype.toString,p=0,_=-1,u=0,w=8;function f(g){if(!(this instanceof f))return new f(g);this.options=a.assign({level:_,method:w,chunkSize:16384,windowBits:15,memLevel:8,strategy:u,to:""},g||{});var b=this.options;b.raw&&0<b.windowBits?b.windowBits=-b.windowBits:b.gzip&&0<b.windowBits&&b.windowBits<16&&(b.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new m,this.strm.avail_out=0;var S=i.deflateInit2(this.strm,b.level,b.method,b.windowBits,b.memLevel,b.strategy);if(S!==p)throw new Error(c[S]);if(b.header&&i.deflateSetHeader(this.strm,b.header),b.dictionary){var I;if(I=typeof b.dictionary=="string"?r.string2buf(b.dictionary):y.call(b.dictionary)==="[object ArrayBuffer]"?new Uint8Array(b.dictionary):b.dictionary,(S=i.deflateSetDictionary(this.strm,I))!==p)throw new Error(c[S]);this._dict_set=!0}}function h(g,b){var S=new f(b);if(S.push(g,!0),S.err)throw S.msg||c[S.err];return S.result}f.prototype.push=function(g,b){var S,I,$=this.strm,B=this.options.chunkSize;if(this.ended)return!1;I=b===~~b?b:b===!0?4:0,typeof g=="string"?$.input=r.string2buf(g):y.call(g)==="[object ArrayBuffer]"?$.input=new Uint8Array(g):$.input=g,$.next_in=0,$.avail_in=$.input.length;do{if($.avail_out===0&&($.output=new a.Buf8(B),$.next_out=0,$.avail_out=B),(S=i.deflate($,I))!==1&&S!==p)return this.onEnd(S),!(this.ended=!0);$.avail_out!==0&&($.avail_in!==0||I!==4&&I!==2)||(this.options.to==="string"?this.onData(r.buf2binstring(a.shrinkBuf($.output,$.next_out))):this.onData(a.shrinkBuf($.output,$.next_out)))}while((0<$.avail_in||$.avail_out===0)&&S!==1);return I===4?(S=i.deflateEnd(this.strm),this.onEnd(S),this.ended=!0,S===p):I!==2||(this.onEnd(p),!($.avail_out=0))},f.prototype.onData=function(g){this.chunks.push(g)},f.prototype.onEnd=function(g){g===p&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=g,this.msg=this.strm.msg},o.Deflate=f,o.deflate=h,o.deflateRaw=function(g,b){return(b=b||{}).raw=!0,h(g,b)},o.gzip=function(g,b){return(b=b||{}).gzip=!0,h(g,b)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,l,o){var i=t("./zlib/inflate"),a=t("./utils/common"),r=t("./utils/strings"),c=t("./zlib/constants"),m=t("./zlib/messages"),y=t("./zlib/zstream"),p=t("./zlib/gzheader"),_=Object.prototype.toString;function u(f){if(!(this instanceof u))return new u(f);this.options=a.assign({chunkSize:16384,windowBits:0,to:""},f||{});var h=this.options;h.raw&&0<=h.windowBits&&h.windowBits<16&&(h.windowBits=-h.windowBits,h.windowBits===0&&(h.windowBits=-15)),!(0<=h.windowBits&&h.windowBits<16)||f&&f.windowBits||(h.windowBits+=32),15<h.windowBits&&h.windowBits<48&&(15&h.windowBits)==0&&(h.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new y,this.strm.avail_out=0;var g=i.inflateInit2(this.strm,h.windowBits);if(g!==c.Z_OK)throw new Error(m[g]);this.header=new p,i.inflateGetHeader(this.strm,this.header)}function w(f,h){var g=new u(h);if(g.push(f,!0),g.err)throw g.msg||m[g.err];return g.result}u.prototype.push=function(f,h){var g,b,S,I,$,B,z=this.strm,M=this.options.chunkSize,A=this.options.dictionary,D=!1;if(this.ended)return!1;b=h===~~h?h:h===!0?c.Z_FINISH:c.Z_NO_FLUSH,typeof f=="string"?z.input=r.binstring2buf(f):_.call(f)==="[object ArrayBuffer]"?z.input=new Uint8Array(f):z.input=f,z.next_in=0,z.avail_in=z.input.length;do{if(z.avail_out===0&&(z.output=new a.Buf8(M),z.next_out=0,z.avail_out=M),(g=i.inflate(z,c.Z_NO_FLUSH))===c.Z_NEED_DICT&&A&&(B=typeof A=="string"?r.string2buf(A):_.call(A)==="[object ArrayBuffer]"?new Uint8Array(A):A,g=i.inflateSetDictionary(this.strm,B)),g===c.Z_BUF_ERROR&&D===!0&&(g=c.Z_OK,D=!1),g!==c.Z_STREAM_END&&g!==c.Z_OK)return this.onEnd(g),!(this.ended=!0);z.next_out&&(z.avail_out!==0&&g!==c.Z_STREAM_END&&(z.avail_in!==0||b!==c.Z_FINISH&&b!==c.Z_SYNC_FLUSH)||(this.options.to==="string"?(S=r.utf8border(z.output,z.next_out),I=z.next_out-S,$=r.buf2string(z.output,S),z.next_out=I,z.avail_out=M-I,I&&a.arraySet(z.output,z.output,S,I,0),this.onData($)):this.onData(a.shrinkBuf(z.output,z.next_out)))),z.avail_in===0&&z.avail_out===0&&(D=!0)}while((0<z.avail_in||z.avail_out===0)&&g!==c.Z_STREAM_END);return g===c.Z_STREAM_END&&(b=c.Z_FINISH),b===c.Z_FINISH?(g=i.inflateEnd(this.strm),this.onEnd(g),this.ended=!0,g===c.Z_OK):b!==c.Z_SYNC_FLUSH||(this.onEnd(c.Z_OK),!(z.avail_out=0))},u.prototype.onData=function(f){this.chunks.push(f)},u.prototype.onEnd=function(f){f===c.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=f,this.msg=this.strm.msg},o.Inflate=u,o.inflate=w,o.inflateRaw=function(f,h){return(h=h||{}).raw=!0,w(f,h)},o.ungzip=w},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,l,o){var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";o.assign=function(c){for(var m=Array.prototype.slice.call(arguments,1);m.length;){var y=m.shift();if(y){if(typeof y!="object")throw new TypeError(y+"must be non-object");for(var p in y)y.hasOwnProperty(p)&&(c[p]=y[p])}}return c},o.shrinkBuf=function(c,m){return c.length===m?c:c.subarray?c.subarray(0,m):(c.length=m,c)};var a={arraySet:function(c,m,y,p,_){if(m.subarray&&c.subarray)c.set(m.subarray(y,y+p),_);else for(var u=0;u<p;u++)c[_+u]=m[y+u]},flattenChunks:function(c){var m,y,p,_,u,w;for(m=p=0,y=c.length;m<y;m++)p+=c[m].length;for(w=new Uint8Array(p),m=_=0,y=c.length;m<y;m++)u=c[m],w.set(u,_),_+=u.length;return w}},r={arraySet:function(c,m,y,p,_){for(var u=0;u<p;u++)c[_+u]=m[y+u]},flattenChunks:function(c){return[].concat.apply([],c)}};o.setTyped=function(c){c?(o.Buf8=Uint8Array,o.Buf16=Uint16Array,o.Buf32=Int32Array,o.assign(o,a)):(o.Buf8=Array,o.Buf16=Array,o.Buf32=Array,o.assign(o,r))},o.setTyped(i)},{}],42:[function(t,l,o){var i=t("./common"),a=!0,r=!0;try{String.fromCharCode.apply(null,[0])}catch{a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{r=!1}for(var c=new i.Buf8(256),m=0;m<256;m++)c[m]=252<=m?6:248<=m?5:240<=m?4:224<=m?3:192<=m?2:1;function y(p,_){if(_<65537&&(p.subarray&&r||!p.subarray&&a))return String.fromCharCode.apply(null,i.shrinkBuf(p,_));for(var u="",w=0;w<_;w++)u+=String.fromCharCode(p[w]);return u}c[254]=c[254]=1,o.string2buf=function(p){var _,u,w,f,h,g=p.length,b=0;for(f=0;f<g;f++)(64512&(u=p.charCodeAt(f)))==55296&&f+1<g&&(64512&(w=p.charCodeAt(f+1)))==56320&&(u=65536+(u-55296<<10)+(w-56320),f++),b+=u<128?1:u<2048?2:u<65536?3:4;for(_=new i.Buf8(b),f=h=0;h<b;f++)(64512&(u=p.charCodeAt(f)))==55296&&f+1<g&&(64512&(w=p.charCodeAt(f+1)))==56320&&(u=65536+(u-55296<<10)+(w-56320),f++),u<128?_[h++]=u:(u<2048?_[h++]=192|u>>>6:(u<65536?_[h++]=224|u>>>12:(_[h++]=240|u>>>18,_[h++]=128|u>>>12&63),_[h++]=128|u>>>6&63),_[h++]=128|63&u);return _},o.buf2binstring=function(p){return y(p,p.length)},o.binstring2buf=function(p){for(var _=new i.Buf8(p.length),u=0,w=_.length;u<w;u++)_[u]=p.charCodeAt(u);return _},o.buf2string=function(p,_){var u,w,f,h,g=_||p.length,b=new Array(2*g);for(u=w=0;u<g;)if((f=p[u++])<128)b[w++]=f;else if(4<(h=c[f]))b[w++]=65533,u+=h-1;else{for(f&=h===2?31:h===3?15:7;1<h&&u<g;)f=f<<6|63&p[u++],h--;1<h?b[w++]=65533:f<65536?b[w++]=f:(f-=65536,b[w++]=55296|f>>10&1023,b[w++]=56320|1023&f)}return y(b,w)},o.utf8border=function(p,_){var u;for((_=_||p.length)>p.length&&(_=p.length),u=_-1;0<=u&&(192&p[u])==128;)u--;return u<0||u===0?_:u+c[p[u]]>_?u:_}},{"./common":41}],43:[function(t,l,o){l.exports=function(i,a,r,c){for(var m=65535&i|0,y=i>>>16&65535|0,p=0;r!==0;){for(r-=p=2e3<r?2e3:r;y=y+(m=m+a[c++]|0)|0,--p;);m%=65521,y%=65521}return m|y<<16|0}},{}],44:[function(t,l,o){l.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,l,o){var i=function(){for(var a,r=[],c=0;c<256;c++){a=c;for(var m=0;m<8;m++)a=1&a?3988292384^a>>>1:a>>>1;r[c]=a}return r}();l.exports=function(a,r,c,m){var y=i,p=m+c;a^=-1;for(var _=m;_<p;_++)a=a>>>8^y[255&(a^r[_])];return-1^a}},{}],46:[function(t,l,o){var i,a=t("../utils/common"),r=t("./trees"),c=t("./adler32"),m=t("./crc32"),y=t("./messages"),p=0,_=4,u=0,w=-2,f=-1,h=4,g=2,b=8,S=9,I=286,$=30,B=19,z=2*I+1,M=15,A=3,D=258,V=D+A+1,k=42,P=113,d=1,j=2,se=3,W=4;function de(s,R){return s.msg=y[R],R}function G(s){return(s<<1)-(4<s?9:0)}function ae(s){for(var R=s.length;0<=--R;)s[R]=0}function F(s){var R=s.state,E=R.pending;E>s.avail_out&&(E=s.avail_out),E!==0&&(a.arraySet(s.output,R.pending_buf,R.pending_out,E,s.next_out),s.next_out+=E,R.pending_out+=E,s.total_out+=E,s.avail_out-=E,R.pending-=E,R.pending===0&&(R.pending_out=0))}function O(s,R){r._tr_flush_block(s,0<=s.block_start?s.block_start:-1,s.strstart-s.block_start,R),s.block_start=s.strstart,F(s.strm)}function J(s,R){s.pending_buf[s.pending++]=R}function X(s,R){s.pending_buf[s.pending++]=R>>>8&255,s.pending_buf[s.pending++]=255&R}function Y(s,R){var E,x,v=s.max_chain_length,T=s.strstart,q=s.prev_length,K=s.nice_match,U=s.strstart>s.w_size-V?s.strstart-(s.w_size-V):0,Q=s.window,C=s.w_mask,L=s.prev,H=s.strstart+D,ne=Q[T+q-1],N=Q[T+q];s.prev_length>=s.good_match&&(v>>=2),K>s.lookahead&&(K=s.lookahead);do if(Q[(E=R)+q]===N&&Q[E+q-1]===ne&&Q[E]===Q[T]&&Q[++E]===Q[T+1]){T+=2,E++;do;while(Q[++T]===Q[++E]&&Q[++T]===Q[++E]&&Q[++T]===Q[++E]&&Q[++T]===Q[++E]&&Q[++T]===Q[++E]&&Q[++T]===Q[++E]&&Q[++T]===Q[++E]&&Q[++T]===Q[++E]&&T<H);if(x=D-(H-T),T=H-D,q<x){if(s.match_start=R,K<=(q=x))break;ne=Q[T+q-1],N=Q[T+q]}}while((R=L[R&C])>U&&--v!=0);return q<=s.lookahead?q:s.lookahead}function ge(s){var R,E,x,v,T,q,K,U,Q,C,L=s.w_size;do{if(v=s.window_size-s.lookahead-s.strstart,s.strstart>=L+(L-V)){for(a.arraySet(s.window,s.window,L,L,0),s.match_start-=L,s.strstart-=L,s.block_start-=L,R=E=s.hash_size;x=s.head[--R],s.head[R]=L<=x?x-L:0,--E;);for(R=E=L;x=s.prev[--R],s.prev[R]=L<=x?x-L:0,--E;);v+=L}if(s.strm.avail_in===0)break;if(q=s.strm,K=s.window,U=s.strstart+s.lookahead,Q=v,C=void 0,C=q.avail_in,Q<C&&(C=Q),E=C===0?0:(q.avail_in-=C,a.arraySet(K,q.input,q.next_in,C,U),q.state.wrap===1?q.adler=c(q.adler,K,C,U):q.state.wrap===2&&(q.adler=m(q.adler,K,C,U)),q.next_in+=C,q.total_in+=C,C),s.lookahead+=E,s.lookahead+s.insert>=A)for(T=s.strstart-s.insert,s.ins_h=s.window[T],s.ins_h=(s.ins_h<<s.hash_shift^s.window[T+1])&s.hash_mask;s.insert&&(s.ins_h=(s.ins_h<<s.hash_shift^s.window[T+A-1])&s.hash_mask,s.prev[T&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=T,T++,s.insert--,!(s.lookahead+s.insert<A)););}while(s.lookahead<V&&s.strm.avail_in!==0)}function pe(s,R){for(var E,x;;){if(s.lookahead<V){if(ge(s),s.lookahead<V&&R===p)return d;if(s.lookahead===0)break}if(E=0,s.lookahead>=A&&(s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+A-1])&s.hash_mask,E=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=s.strstart),E!==0&&s.strstart-E<=s.w_size-V&&(s.match_length=Y(s,E)),s.match_length>=A)if(x=r._tr_tally(s,s.strstart-s.match_start,s.match_length-A),s.lookahead-=s.match_length,s.match_length<=s.max_lazy_match&&s.lookahead>=A){for(s.match_length--;s.strstart++,s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+A-1])&s.hash_mask,E=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=s.strstart,--s.match_length!=0;);s.strstart++}else s.strstart+=s.match_length,s.match_length=0,s.ins_h=s.window[s.strstart],s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+1])&s.hash_mask;else x=r._tr_tally(s,0,s.window[s.strstart]),s.lookahead--,s.strstart++;if(x&&(O(s,!1),s.strm.avail_out===0))return d}return s.insert=s.strstart<A-1?s.strstart:A-1,R===_?(O(s,!0),s.strm.avail_out===0?se:W):s.last_lit&&(O(s,!1),s.strm.avail_out===0)?d:j}function fe(s,R){for(var E,x,v;;){if(s.lookahead<V){if(ge(s),s.lookahead<V&&R===p)return d;if(s.lookahead===0)break}if(E=0,s.lookahead>=A&&(s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+A-1])&s.hash_mask,E=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=s.strstart),s.prev_length=s.match_length,s.prev_match=s.match_start,s.match_length=A-1,E!==0&&s.prev_length<s.max_lazy_match&&s.strstart-E<=s.w_size-V&&(s.match_length=Y(s,E),s.match_length<=5&&(s.strategy===1||s.match_length===A&&4096<s.strstart-s.match_start)&&(s.match_length=A-1)),s.prev_length>=A&&s.match_length<=s.prev_length){for(v=s.strstart+s.lookahead-A,x=r._tr_tally(s,s.strstart-1-s.prev_match,s.prev_length-A),s.lookahead-=s.prev_length-1,s.prev_length-=2;++s.strstart<=v&&(s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+A-1])&s.hash_mask,E=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=s.strstart),--s.prev_length!=0;);if(s.match_available=0,s.match_length=A-1,s.strstart++,x&&(O(s,!1),s.strm.avail_out===0))return d}else if(s.match_available){if((x=r._tr_tally(s,0,s.window[s.strstart-1]))&&O(s,!1),s.strstart++,s.lookahead--,s.strm.avail_out===0)return d}else s.match_available=1,s.strstart++,s.lookahead--}return s.match_available&&(x=r._tr_tally(s,0,s.window[s.strstart-1]),s.match_available=0),s.insert=s.strstart<A-1?s.strstart:A-1,R===_?(O(s,!0),s.strm.avail_out===0?se:W):s.last_lit&&(O(s,!1),s.strm.avail_out===0)?d:j}function me(s,R,E,x,v){this.good_length=s,this.max_lazy=R,this.nice_length=E,this.max_chain=x,this.func=v}function xe(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=b,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new a.Buf16(2*z),this.dyn_dtree=new a.Buf16(2*(2*$+1)),this.bl_tree=new a.Buf16(2*(2*B+1)),ae(this.dyn_ltree),ae(this.dyn_dtree),ae(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new a.Buf16(M+1),this.heap=new a.Buf16(2*I+1),ae(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new a.Buf16(2*I+1),ae(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function _e(s){var R;return s&&s.state?(s.total_in=s.total_out=0,s.data_type=g,(R=s.state).pending=0,R.pending_out=0,R.wrap<0&&(R.wrap=-R.wrap),R.status=R.wrap?k:P,s.adler=R.wrap===2?0:1,R.last_flush=p,r._tr_init(R),u):de(s,w)}function le(s){var R=_e(s);return R===u&&function(E){E.window_size=2*E.w_size,ae(E.head),E.max_lazy_match=i[E.level].max_lazy,E.good_match=i[E.level].good_length,E.nice_match=i[E.level].nice_length,E.max_chain_length=i[E.level].max_chain,E.strstart=0,E.block_start=0,E.lookahead=0,E.insert=0,E.match_length=E.prev_length=A-1,E.match_available=0,E.ins_h=0}(s.state),R}function $e(s,R,E,x,v,T){if(!s)return w;var q=1;if(R===f&&(R=6),x<0?(q=0,x=-x):15<x&&(q=2,x-=16),v<1||S<v||E!==b||x<8||15<x||R<0||9<R||T<0||h<T)return de(s,w);x===8&&(x=9);var K=new xe;return(s.state=K).strm=s,K.wrap=q,K.gzhead=null,K.w_bits=x,K.w_size=1<<K.w_bits,K.w_mask=K.w_size-1,K.hash_bits=v+7,K.hash_size=1<<K.hash_bits,K.hash_mask=K.hash_size-1,K.hash_shift=~~((K.hash_bits+A-1)/A),K.window=new a.Buf8(2*K.w_size),K.head=new a.Buf16(K.hash_size),K.prev=new a.Buf16(K.w_size),K.lit_bufsize=1<<v+6,K.pending_buf_size=4*K.lit_bufsize,K.pending_buf=new a.Buf8(K.pending_buf_size),K.d_buf=1*K.lit_bufsize,K.l_buf=3*K.lit_bufsize,K.level=R,K.strategy=T,K.method=E,le(s)}i=[new me(0,0,0,0,function(s,R){var E=65535;for(E>s.pending_buf_size-5&&(E=s.pending_buf_size-5);;){if(s.lookahead<=1){if(ge(s),s.lookahead===0&&R===p)return d;if(s.lookahead===0)break}s.strstart+=s.lookahead,s.lookahead=0;var x=s.block_start+E;if((s.strstart===0||s.strstart>=x)&&(s.lookahead=s.strstart-x,s.strstart=x,O(s,!1),s.strm.avail_out===0)||s.strstart-s.block_start>=s.w_size-V&&(O(s,!1),s.strm.avail_out===0))return d}return s.insert=0,R===_?(O(s,!0),s.strm.avail_out===0?se:W):(s.strstart>s.block_start&&(O(s,!1),s.strm.avail_out),d)}),new me(4,4,8,4,pe),new me(4,5,16,8,pe),new me(4,6,32,32,pe),new me(4,4,16,16,fe),new me(8,16,32,32,fe),new me(8,16,128,128,fe),new me(8,32,128,256,fe),new me(32,128,258,1024,fe),new me(32,258,258,4096,fe)],o.deflateInit=function(s,R){return $e(s,R,b,15,8,0)},o.deflateInit2=$e,o.deflateReset=le,o.deflateResetKeep=_e,o.deflateSetHeader=function(s,R){return s&&s.state?s.state.wrap!==2?w:(s.state.gzhead=R,u):w},o.deflate=function(s,R){var E,x,v,T;if(!s||!s.state||5<R||R<0)return s?de(s,w):w;if(x=s.state,!s.output||!s.input&&s.avail_in!==0||x.status===666&&R!==_)return de(s,s.avail_out===0?-5:w);if(x.strm=s,E=x.last_flush,x.last_flush=R,x.status===k)if(x.wrap===2)s.adler=0,J(x,31),J(x,139),J(x,8),x.gzhead?(J(x,(x.gzhead.text?1:0)+(x.gzhead.hcrc?2:0)+(x.gzhead.extra?4:0)+(x.gzhead.name?8:0)+(x.gzhead.comment?16:0)),J(x,255&x.gzhead.time),J(x,x.gzhead.time>>8&255),J(x,x.gzhead.time>>16&255),J(x,x.gzhead.time>>24&255),J(x,x.level===9?2:2<=x.strategy||x.level<2?4:0),J(x,255&x.gzhead.os),x.gzhead.extra&&x.gzhead.extra.length&&(J(x,255&x.gzhead.extra.length),J(x,x.gzhead.extra.length>>8&255)),x.gzhead.hcrc&&(s.adler=m(s.adler,x.pending_buf,x.pending,0)),x.gzindex=0,x.status=69):(J(x,0),J(x,0),J(x,0),J(x,0),J(x,0),J(x,x.level===9?2:2<=x.strategy||x.level<2?4:0),J(x,3),x.status=P);else{var q=b+(x.w_bits-8<<4)<<8;q|=(2<=x.strategy||x.level<2?0:x.level<6?1:x.level===6?2:3)<<6,x.strstart!==0&&(q|=32),q+=31-q%31,x.status=P,X(x,q),x.strstart!==0&&(X(x,s.adler>>>16),X(x,65535&s.adler)),s.adler=1}if(x.status===69)if(x.gzhead.extra){for(v=x.pending;x.gzindex<(65535&x.gzhead.extra.length)&&(x.pending!==x.pending_buf_size||(x.gzhead.hcrc&&x.pending>v&&(s.adler=m(s.adler,x.pending_buf,x.pending-v,v)),F(s),v=x.pending,x.pending!==x.pending_buf_size));)J(x,255&x.gzhead.extra[x.gzindex]),x.gzindex++;x.gzhead.hcrc&&x.pending>v&&(s.adler=m(s.adler,x.pending_buf,x.pending-v,v)),x.gzindex===x.gzhead.extra.length&&(x.gzindex=0,x.status=73)}else x.status=73;if(x.status===73)if(x.gzhead.name){v=x.pending;do{if(x.pending===x.pending_buf_size&&(x.gzhead.hcrc&&x.pending>v&&(s.adler=m(s.adler,x.pending_buf,x.pending-v,v)),F(s),v=x.pending,x.pending===x.pending_buf_size)){T=1;break}T=x.gzindex<x.gzhead.name.length?255&x.gzhead.name.charCodeAt(x.gzindex++):0,J(x,T)}while(T!==0);x.gzhead.hcrc&&x.pending>v&&(s.adler=m(s.adler,x.pending_buf,x.pending-v,v)),T===0&&(x.gzindex=0,x.status=91)}else x.status=91;if(x.status===91)if(x.gzhead.comment){v=x.pending;do{if(x.pending===x.pending_buf_size&&(x.gzhead.hcrc&&x.pending>v&&(s.adler=m(s.adler,x.pending_buf,x.pending-v,v)),F(s),v=x.pending,x.pending===x.pending_buf_size)){T=1;break}T=x.gzindex<x.gzhead.comment.length?255&x.gzhead.comment.charCodeAt(x.gzindex++):0,J(x,T)}while(T!==0);x.gzhead.hcrc&&x.pending>v&&(s.adler=m(s.adler,x.pending_buf,x.pending-v,v)),T===0&&(x.status=103)}else x.status=103;if(x.status===103&&(x.gzhead.hcrc?(x.pending+2>x.pending_buf_size&&F(s),x.pending+2<=x.pending_buf_size&&(J(x,255&s.adler),J(x,s.adler>>8&255),s.adler=0,x.status=P)):x.status=P),x.pending!==0){if(F(s),s.avail_out===0)return x.last_flush=-1,u}else if(s.avail_in===0&&G(R)<=G(E)&&R!==_)return de(s,-5);if(x.status===666&&s.avail_in!==0)return de(s,-5);if(s.avail_in!==0||x.lookahead!==0||R!==p&&x.status!==666){var K=x.strategy===2?function(U,Q){for(var C;;){if(U.lookahead===0&&(ge(U),U.lookahead===0)){if(Q===p)return d;break}if(U.match_length=0,C=r._tr_tally(U,0,U.window[U.strstart]),U.lookahead--,U.strstart++,C&&(O(U,!1),U.strm.avail_out===0))return d}return U.insert=0,Q===_?(O(U,!0),U.strm.avail_out===0?se:W):U.last_lit&&(O(U,!1),U.strm.avail_out===0)?d:j}(x,R):x.strategy===3?function(U,Q){for(var C,L,H,ne,N=U.window;;){if(U.lookahead<=D){if(ge(U),U.lookahead<=D&&Q===p)return d;if(U.lookahead===0)break}if(U.match_length=0,U.lookahead>=A&&0<U.strstart&&(L=N[H=U.strstart-1])===N[++H]&&L===N[++H]&&L===N[++H]){ne=U.strstart+D;do;while(L===N[++H]&&L===N[++H]&&L===N[++H]&&L===N[++H]&&L===N[++H]&&L===N[++H]&&L===N[++H]&&L===N[++H]&&H<ne);U.match_length=D-(ne-H),U.match_length>U.lookahead&&(U.match_length=U.lookahead)}if(U.match_length>=A?(C=r._tr_tally(U,1,U.match_length-A),U.lookahead-=U.match_length,U.strstart+=U.match_length,U.match_length=0):(C=r._tr_tally(U,0,U.window[U.strstart]),U.lookahead--,U.strstart++),C&&(O(U,!1),U.strm.avail_out===0))return d}return U.insert=0,Q===_?(O(U,!0),U.strm.avail_out===0?se:W):U.last_lit&&(O(U,!1),U.strm.avail_out===0)?d:j}(x,R):i[x.level].func(x,R);if(K!==se&&K!==W||(x.status=666),K===d||K===se)return s.avail_out===0&&(x.last_flush=-1),u;if(K===j&&(R===1?r._tr_align(x):R!==5&&(r._tr_stored_block(x,0,0,!1),R===3&&(ae(x.head),x.lookahead===0&&(x.strstart=0,x.block_start=0,x.insert=0))),F(s),s.avail_out===0))return x.last_flush=-1,u}return R!==_?u:x.wrap<=0?1:(x.wrap===2?(J(x,255&s.adler),J(x,s.adler>>8&255),J(x,s.adler>>16&255),J(x,s.adler>>24&255),J(x,255&s.total_in),J(x,s.total_in>>8&255),J(x,s.total_in>>16&255),J(x,s.total_in>>24&255)):(X(x,s.adler>>>16),X(x,65535&s.adler)),F(s),0<x.wrap&&(x.wrap=-x.wrap),x.pending!==0?u:1)},o.deflateEnd=function(s){var R;return s&&s.state?(R=s.state.status)!==k&&R!==69&&R!==73&&R!==91&&R!==103&&R!==P&&R!==666?de(s,w):(s.state=null,R===P?de(s,-3):u):w},o.deflateSetDictionary=function(s,R){var E,x,v,T,q,K,U,Q,C=R.length;if(!s||!s.state||(T=(E=s.state).wrap)===2||T===1&&E.status!==k||E.lookahead)return w;for(T===1&&(s.adler=c(s.adler,R,C,0)),E.wrap=0,C>=E.w_size&&(T===0&&(ae(E.head),E.strstart=0,E.block_start=0,E.insert=0),Q=new a.Buf8(E.w_size),a.arraySet(Q,R,C-E.w_size,E.w_size,0),R=Q,C=E.w_size),q=s.avail_in,K=s.next_in,U=s.input,s.avail_in=C,s.next_in=0,s.input=R,ge(E);E.lookahead>=A;){for(x=E.strstart,v=E.lookahead-(A-1);E.ins_h=(E.ins_h<<E.hash_shift^E.window[x+A-1])&E.hash_mask,E.prev[x&E.w_mask]=E.head[E.ins_h],E.head[E.ins_h]=x,x++,--v;);E.strstart=x,E.lookahead=A-1,ge(E)}return E.strstart+=E.lookahead,E.block_start=E.strstart,E.insert=E.lookahead,E.lookahead=0,E.match_length=E.prev_length=A-1,E.match_available=0,s.next_in=K,s.input=U,s.avail_in=q,E.wrap=T,u},o.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,l,o){l.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(t,l,o){l.exports=function(i,a){var r,c,m,y,p,_,u,w,f,h,g,b,S,I,$,B,z,M,A,D,V,k,P,d,j;r=i.state,c=i.next_in,d=i.input,m=c+(i.avail_in-5),y=i.next_out,j=i.output,p=y-(a-i.avail_out),_=y+(i.avail_out-257),u=r.dmax,w=r.wsize,f=r.whave,h=r.wnext,g=r.window,b=r.hold,S=r.bits,I=r.lencode,$=r.distcode,B=(1<<r.lenbits)-1,z=(1<<r.distbits)-1;e:do{S<15&&(b+=d[c++]<<S,S+=8,b+=d[c++]<<S,S+=8),M=I[b&B];t:for(;;){if(b>>>=A=M>>>24,S-=A,(A=M>>>16&255)===0)j[y++]=65535&M;else{if(!(16&A)){if((64&A)==0){M=I[(65535&M)+(b&(1<<A)-1)];continue t}if(32&A){r.mode=12;break e}i.msg="invalid literal/length code",r.mode=30;break e}D=65535&M,(A&=15)&&(S<A&&(b+=d[c++]<<S,S+=8),D+=b&(1<<A)-1,b>>>=A,S-=A),S<15&&(b+=d[c++]<<S,S+=8,b+=d[c++]<<S,S+=8),M=$[b&z];n:for(;;){if(b>>>=A=M>>>24,S-=A,!(16&(A=M>>>16&255))){if((64&A)==0){M=$[(65535&M)+(b&(1<<A)-1)];continue n}i.msg="invalid distance code",r.mode=30;break e}if(V=65535&M,S<(A&=15)&&(b+=d[c++]<<S,(S+=8)<A&&(b+=d[c++]<<S,S+=8)),u<(V+=b&(1<<A)-1)){i.msg="invalid distance too far back",r.mode=30;break e}if(b>>>=A,S-=A,(A=y-p)<V){if(f<(A=V-A)&&r.sane){i.msg="invalid distance too far back",r.mode=30;break e}if(P=g,(k=0)===h){if(k+=w-A,A<D){for(D-=A;j[y++]=g[k++],--A;);k=y-V,P=j}}else if(h<A){if(k+=w+h-A,(A-=h)<D){for(D-=A;j[y++]=g[k++],--A;);if(k=0,h<D){for(D-=A=h;j[y++]=g[k++],--A;);k=y-V,P=j}}}else if(k+=h-A,A<D){for(D-=A;j[y++]=g[k++],--A;);k=y-V,P=j}for(;2<D;)j[y++]=P[k++],j[y++]=P[k++],j[y++]=P[k++],D-=3;D&&(j[y++]=P[k++],1<D&&(j[y++]=P[k++]))}else{for(k=y-V;j[y++]=j[k++],j[y++]=j[k++],j[y++]=j[k++],2<(D-=3););D&&(j[y++]=j[k++],1<D&&(j[y++]=j[k++]))}break}}break}}while(c<m&&y<_);c-=D=S>>3,b&=(1<<(S-=D<<3))-1,i.next_in=c,i.next_out=y,i.avail_in=c<m?m-c+5:5-(c-m),i.avail_out=y<_?_-y+257:257-(y-_),r.hold=b,r.bits=S}},{}],49:[function(t,l,o){var i=t("../utils/common"),a=t("./adler32"),r=t("./crc32"),c=t("./inffast"),m=t("./inftrees"),y=1,p=2,_=0,u=-2,w=1,f=852,h=592;function g(k){return(k>>>24&255)+(k>>>8&65280)+((65280&k)<<8)+((255&k)<<24)}function b(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function S(k){var P;return k&&k.state?(P=k.state,k.total_in=k.total_out=P.total=0,k.msg="",P.wrap&&(k.adler=1&P.wrap),P.mode=w,P.last=0,P.havedict=0,P.dmax=32768,P.head=null,P.hold=0,P.bits=0,P.lencode=P.lendyn=new i.Buf32(f),P.distcode=P.distdyn=new i.Buf32(h),P.sane=1,P.back=-1,_):u}function I(k){var P;return k&&k.state?((P=k.state).wsize=0,P.whave=0,P.wnext=0,S(k)):u}function $(k,P){var d,j;return k&&k.state?(j=k.state,P<0?(d=0,P=-P):(d=1+(P>>4),P<48&&(P&=15)),P&&(P<8||15<P)?u:(j.window!==null&&j.wbits!==P&&(j.window=null),j.wrap=d,j.wbits=P,I(k))):u}function B(k,P){var d,j;return k?(j=new b,(k.state=j).window=null,(d=$(k,P))!==_&&(k.state=null),d):u}var z,M,A=!0;function D(k){if(A){var P;for(z=new i.Buf32(512),M=new i.Buf32(32),P=0;P<144;)k.lens[P++]=8;for(;P<256;)k.lens[P++]=9;for(;P<280;)k.lens[P++]=7;for(;P<288;)k.lens[P++]=8;for(m(y,k.lens,0,288,z,0,k.work,{bits:9}),P=0;P<32;)k.lens[P++]=5;m(p,k.lens,0,32,M,0,k.work,{bits:5}),A=!1}k.lencode=z,k.lenbits=9,k.distcode=M,k.distbits=5}function V(k,P,d,j){var se,W=k.state;return W.window===null&&(W.wsize=1<<W.wbits,W.wnext=0,W.whave=0,W.window=new i.Buf8(W.wsize)),j>=W.wsize?(i.arraySet(W.window,P,d-W.wsize,W.wsize,0),W.wnext=0,W.whave=W.wsize):(j<(se=W.wsize-W.wnext)&&(se=j),i.arraySet(W.window,P,d-j,se,W.wnext),(j-=se)?(i.arraySet(W.window,P,d-j,j,0),W.wnext=j,W.whave=W.wsize):(W.wnext+=se,W.wnext===W.wsize&&(W.wnext=0),W.whave<W.wsize&&(W.whave+=se))),0}o.inflateReset=I,o.inflateReset2=$,o.inflateResetKeep=S,o.inflateInit=function(k){return B(k,15)},o.inflateInit2=B,o.inflate=function(k,P){var d,j,se,W,de,G,ae,F,O,J,X,Y,ge,pe,fe,me,xe,_e,le,$e,s,R,E,x,v=0,T=new i.Buf8(4),q=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!k||!k.state||!k.output||!k.input&&k.avail_in!==0)return u;(d=k.state).mode===12&&(d.mode=13),de=k.next_out,se=k.output,ae=k.avail_out,W=k.next_in,j=k.input,G=k.avail_in,F=d.hold,O=d.bits,J=G,X=ae,R=_;e:for(;;)switch(d.mode){case w:if(d.wrap===0){d.mode=13;break}for(;O<16;){if(G===0)break e;G--,F+=j[W++]<<O,O+=8}if(2&d.wrap&&F===35615){T[d.check=0]=255&F,T[1]=F>>>8&255,d.check=r(d.check,T,2,0),O=F=0,d.mode=2;break}if(d.flags=0,d.head&&(d.head.done=!1),!(1&d.wrap)||(((255&F)<<8)+(F>>8))%31){k.msg="incorrect header check",d.mode=30;break}if((15&F)!=8){k.msg="unknown compression method",d.mode=30;break}if(O-=4,s=8+(15&(F>>>=4)),d.wbits===0)d.wbits=s;else if(s>d.wbits){k.msg="invalid window size",d.mode=30;break}d.dmax=1<<s,k.adler=d.check=1,d.mode=512&F?10:12,O=F=0;break;case 2:for(;O<16;){if(G===0)break e;G--,F+=j[W++]<<O,O+=8}if(d.flags=F,(255&d.flags)!=8){k.msg="unknown compression method",d.mode=30;break}if(57344&d.flags){k.msg="unknown header flags set",d.mode=30;break}d.head&&(d.head.text=F>>8&1),512&d.flags&&(T[0]=255&F,T[1]=F>>>8&255,d.check=r(d.check,T,2,0)),O=F=0,d.mode=3;case 3:for(;O<32;){if(G===0)break e;G--,F+=j[W++]<<O,O+=8}d.head&&(d.head.time=F),512&d.flags&&(T[0]=255&F,T[1]=F>>>8&255,T[2]=F>>>16&255,T[3]=F>>>24&255,d.check=r(d.check,T,4,0)),O=F=0,d.mode=4;case 4:for(;O<16;){if(G===0)break e;G--,F+=j[W++]<<O,O+=8}d.head&&(d.head.xflags=255&F,d.head.os=F>>8),512&d.flags&&(T[0]=255&F,T[1]=F>>>8&255,d.check=r(d.check,T,2,0)),O=F=0,d.mode=5;case 5:if(1024&d.flags){for(;O<16;){if(G===0)break e;G--,F+=j[W++]<<O,O+=8}d.length=F,d.head&&(d.head.extra_len=F),512&d.flags&&(T[0]=255&F,T[1]=F>>>8&255,d.check=r(d.check,T,2,0)),O=F=0}else d.head&&(d.head.extra=null);d.mode=6;case 6:if(1024&d.flags&&(G<(Y=d.length)&&(Y=G),Y&&(d.head&&(s=d.head.extra_len-d.length,d.head.extra||(d.head.extra=new Array(d.head.extra_len)),i.arraySet(d.head.extra,j,W,Y,s)),512&d.flags&&(d.check=r(d.check,j,Y,W)),G-=Y,W+=Y,d.length-=Y),d.length))break e;d.length=0,d.mode=7;case 7:if(2048&d.flags){if(G===0)break e;for(Y=0;s=j[W+Y++],d.head&&s&&d.length<65536&&(d.head.name+=String.fromCharCode(s)),s&&Y<G;);if(512&d.flags&&(d.check=r(d.check,j,Y,W)),G-=Y,W+=Y,s)break e}else d.head&&(d.head.name=null);d.length=0,d.mode=8;case 8:if(4096&d.flags){if(G===0)break e;for(Y=0;s=j[W+Y++],d.head&&s&&d.length<65536&&(d.head.comment+=String.fromCharCode(s)),s&&Y<G;);if(512&d.flags&&(d.check=r(d.check,j,Y,W)),G-=Y,W+=Y,s)break e}else d.head&&(d.head.comment=null);d.mode=9;case 9:if(512&d.flags){for(;O<16;){if(G===0)break e;G--,F+=j[W++]<<O,O+=8}if(F!==(65535&d.check)){k.msg="header crc mismatch",d.mode=30;break}O=F=0}d.head&&(d.head.hcrc=d.flags>>9&1,d.head.done=!0),k.adler=d.check=0,d.mode=12;break;case 10:for(;O<32;){if(G===0)break e;G--,F+=j[W++]<<O,O+=8}k.adler=d.check=g(F),O=F=0,d.mode=11;case 11:if(d.havedict===0)return k.next_out=de,k.avail_out=ae,k.next_in=W,k.avail_in=G,d.hold=F,d.bits=O,2;k.adler=d.check=1,d.mode=12;case 12:if(P===5||P===6)break e;case 13:if(d.last){F>>>=7&O,O-=7&O,d.mode=27;break}for(;O<3;){if(G===0)break e;G--,F+=j[W++]<<O,O+=8}switch(d.last=1&F,O-=1,3&(F>>>=1)){case 0:d.mode=14;break;case 1:if(D(d),d.mode=20,P!==6)break;F>>>=2,O-=2;break e;case 2:d.mode=17;break;case 3:k.msg="invalid block type",d.mode=30}F>>>=2,O-=2;break;case 14:for(F>>>=7&O,O-=7&O;O<32;){if(G===0)break e;G--,F+=j[W++]<<O,O+=8}if((65535&F)!=(F>>>16^65535)){k.msg="invalid stored block lengths",d.mode=30;break}if(d.length=65535&F,O=F=0,d.mode=15,P===6)break e;case 15:d.mode=16;case 16:if(Y=d.length){if(G<Y&&(Y=G),ae<Y&&(Y=ae),Y===0)break e;i.arraySet(se,j,W,Y,de),G-=Y,W+=Y,ae-=Y,de+=Y,d.length-=Y;break}d.mode=12;break;case 17:for(;O<14;){if(G===0)break e;G--,F+=j[W++]<<O,O+=8}if(d.nlen=257+(31&F),F>>>=5,O-=5,d.ndist=1+(31&F),F>>>=5,O-=5,d.ncode=4+(15&F),F>>>=4,O-=4,286<d.nlen||30<d.ndist){k.msg="too many length or distance symbols",d.mode=30;break}d.have=0,d.mode=18;case 18:for(;d.have<d.ncode;){for(;O<3;){if(G===0)break e;G--,F+=j[W++]<<O,O+=8}d.lens[q[d.have++]]=7&F,F>>>=3,O-=3}for(;d.have<19;)d.lens[q[d.have++]]=0;if(d.lencode=d.lendyn,d.lenbits=7,E={bits:d.lenbits},R=m(0,d.lens,0,19,d.lencode,0,d.work,E),d.lenbits=E.bits,R){k.msg="invalid code lengths set",d.mode=30;break}d.have=0,d.mode=19;case 19:for(;d.have<d.nlen+d.ndist;){for(;me=(v=d.lencode[F&(1<<d.lenbits)-1])>>>16&255,xe=65535&v,!((fe=v>>>24)<=O);){if(G===0)break e;G--,F+=j[W++]<<O,O+=8}if(xe<16)F>>>=fe,O-=fe,d.lens[d.have++]=xe;else{if(xe===16){for(x=fe+2;O<x;){if(G===0)break e;G--,F+=j[W++]<<O,O+=8}if(F>>>=fe,O-=fe,d.have===0){k.msg="invalid bit length repeat",d.mode=30;break}s=d.lens[d.have-1],Y=3+(3&F),F>>>=2,O-=2}else if(xe===17){for(x=fe+3;O<x;){if(G===0)break e;G--,F+=j[W++]<<O,O+=8}O-=fe,s=0,Y=3+(7&(F>>>=fe)),F>>>=3,O-=3}else{for(x=fe+7;O<x;){if(G===0)break e;G--,F+=j[W++]<<O,O+=8}O-=fe,s=0,Y=11+(127&(F>>>=fe)),F>>>=7,O-=7}if(d.have+Y>d.nlen+d.ndist){k.msg="invalid bit length repeat",d.mode=30;break}for(;Y--;)d.lens[d.have++]=s}}if(d.mode===30)break;if(d.lens[256]===0){k.msg="invalid code -- missing end-of-block",d.mode=30;break}if(d.lenbits=9,E={bits:d.lenbits},R=m(y,d.lens,0,d.nlen,d.lencode,0,d.work,E),d.lenbits=E.bits,R){k.msg="invalid literal/lengths set",d.mode=30;break}if(d.distbits=6,d.distcode=d.distdyn,E={bits:d.distbits},R=m(p,d.lens,d.nlen,d.ndist,d.distcode,0,d.work,E),d.distbits=E.bits,R){k.msg="invalid distances set",d.mode=30;break}if(d.mode=20,P===6)break e;case 20:d.mode=21;case 21:if(6<=G&&258<=ae){k.next_out=de,k.avail_out=ae,k.next_in=W,k.avail_in=G,d.hold=F,d.bits=O,c(k,X),de=k.next_out,se=k.output,ae=k.avail_out,W=k.next_in,j=k.input,G=k.avail_in,F=d.hold,O=d.bits,d.mode===12&&(d.back=-1);break}for(d.back=0;me=(v=d.lencode[F&(1<<d.lenbits)-1])>>>16&255,xe=65535&v,!((fe=v>>>24)<=O);){if(G===0)break e;G--,F+=j[W++]<<O,O+=8}if(me&&(240&me)==0){for(_e=fe,le=me,$e=xe;me=(v=d.lencode[$e+((F&(1<<_e+le)-1)>>_e)])>>>16&255,xe=65535&v,!(_e+(fe=v>>>24)<=O);){if(G===0)break e;G--,F+=j[W++]<<O,O+=8}F>>>=_e,O-=_e,d.back+=_e}if(F>>>=fe,O-=fe,d.back+=fe,d.length=xe,me===0){d.mode=26;break}if(32&me){d.back=-1,d.mode=12;break}if(64&me){k.msg="invalid literal/length code",d.mode=30;break}d.extra=15&me,d.mode=22;case 22:if(d.extra){for(x=d.extra;O<x;){if(G===0)break e;G--,F+=j[W++]<<O,O+=8}d.length+=F&(1<<d.extra)-1,F>>>=d.extra,O-=d.extra,d.back+=d.extra}d.was=d.length,d.mode=23;case 23:for(;me=(v=d.distcode[F&(1<<d.distbits)-1])>>>16&255,xe=65535&v,!((fe=v>>>24)<=O);){if(G===0)break e;G--,F+=j[W++]<<O,O+=8}if((240&me)==0){for(_e=fe,le=me,$e=xe;me=(v=d.distcode[$e+((F&(1<<_e+le)-1)>>_e)])>>>16&255,xe=65535&v,!(_e+(fe=v>>>24)<=O);){if(G===0)break e;G--,F+=j[W++]<<O,O+=8}F>>>=_e,O-=_e,d.back+=_e}if(F>>>=fe,O-=fe,d.back+=fe,64&me){k.msg="invalid distance code",d.mode=30;break}d.offset=xe,d.extra=15&me,d.mode=24;case 24:if(d.extra){for(x=d.extra;O<x;){if(G===0)break e;G--,F+=j[W++]<<O,O+=8}d.offset+=F&(1<<d.extra)-1,F>>>=d.extra,O-=d.extra,d.back+=d.extra}if(d.offset>d.dmax){k.msg="invalid distance too far back",d.mode=30;break}d.mode=25;case 25:if(ae===0)break e;if(Y=X-ae,d.offset>Y){if((Y=d.offset-Y)>d.whave&&d.sane){k.msg="invalid distance too far back",d.mode=30;break}ge=Y>d.wnext?(Y-=d.wnext,d.wsize-Y):d.wnext-Y,Y>d.length&&(Y=d.length),pe=d.window}else pe=se,ge=de-d.offset,Y=d.length;for(ae<Y&&(Y=ae),ae-=Y,d.length-=Y;se[de++]=pe[ge++],--Y;);d.length===0&&(d.mode=21);break;case 26:if(ae===0)break e;se[de++]=d.length,ae--,d.mode=21;break;case 27:if(d.wrap){for(;O<32;){if(G===0)break e;G--,F|=j[W++]<<O,O+=8}if(X-=ae,k.total_out+=X,d.total+=X,X&&(k.adler=d.check=d.flags?r(d.check,se,X,de-X):a(d.check,se,X,de-X)),X=ae,(d.flags?F:g(F))!==d.check){k.msg="incorrect data check",d.mode=30;break}O=F=0}d.mode=28;case 28:if(d.wrap&&d.flags){for(;O<32;){if(G===0)break e;G--,F+=j[W++]<<O,O+=8}if(F!==(4294967295&d.total)){k.msg="incorrect length check",d.mode=30;break}O=F=0}d.mode=29;case 29:R=1;break e;case 30:R=-3;break e;case 31:return-4;case 32:default:return u}return k.next_out=de,k.avail_out=ae,k.next_in=W,k.avail_in=G,d.hold=F,d.bits=O,(d.wsize||X!==k.avail_out&&d.mode<30&&(d.mode<27||P!==4))&&V(k,k.output,k.next_out,X-k.avail_out)?(d.mode=31,-4):(J-=k.avail_in,X-=k.avail_out,k.total_in+=J,k.total_out+=X,d.total+=X,d.wrap&&X&&(k.adler=d.check=d.flags?r(d.check,se,X,k.next_out-X):a(d.check,se,X,k.next_out-X)),k.data_type=d.bits+(d.last?64:0)+(d.mode===12?128:0)+(d.mode===20||d.mode===15?256:0),(J==0&&X===0||P===4)&&R===_&&(R=-5),R)},o.inflateEnd=function(k){if(!k||!k.state)return u;var P=k.state;return P.window&&(P.window=null),k.state=null,_},o.inflateGetHeader=function(k,P){var d;return k&&k.state?(2&(d=k.state).wrap)==0?u:((d.head=P).done=!1,_):u},o.inflateSetDictionary=function(k,P){var d,j=P.length;return k&&k.state?(d=k.state).wrap!==0&&d.mode!==11?u:d.mode===11&&a(1,P,j,0)!==d.check?-3:V(k,P,j,j)?(d.mode=31,-4):(d.havedict=1,_):u},o.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,l,o){var i=t("../utils/common"),a=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],r=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],c=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],m=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];l.exports=function(y,p,_,u,w,f,h,g){var b,S,I,$,B,z,M,A,D,V=g.bits,k=0,P=0,d=0,j=0,se=0,W=0,de=0,G=0,ae=0,F=0,O=null,J=0,X=new i.Buf16(16),Y=new i.Buf16(16),ge=null,pe=0;for(k=0;k<=15;k++)X[k]=0;for(P=0;P<u;P++)X[p[_+P]]++;for(se=V,j=15;1<=j&&X[j]===0;j--);if(j<se&&(se=j),j===0)return w[f++]=20971520,w[f++]=20971520,g.bits=1,0;for(d=1;d<j&&X[d]===0;d++);for(se<d&&(se=d),k=G=1;k<=15;k++)if(G<<=1,(G-=X[k])<0)return-1;if(0<G&&(y===0||j!==1))return-1;for(Y[1]=0,k=1;k<15;k++)Y[k+1]=Y[k]+X[k];for(P=0;P<u;P++)p[_+P]!==0&&(h[Y[p[_+P]]++]=P);if(z=y===0?(O=ge=h,19):y===1?(O=a,J-=257,ge=r,pe-=257,256):(O=c,ge=m,-1),k=d,B=f,de=P=F=0,I=-1,$=(ae=1<<(W=se))-1,y===1&&852<ae||y===2&&592<ae)return 1;for(;;){for(M=k-de,D=h[P]<z?(A=0,h[P]):h[P]>z?(A=ge[pe+h[P]],O[J+h[P]]):(A=96,0),b=1<<k-de,d=S=1<<W;w[B+(F>>de)+(S-=b)]=M<<24|A<<16|D|0,S!==0;);for(b=1<<k-1;F&b;)b>>=1;if(b!==0?(F&=b-1,F+=b):F=0,P++,--X[k]==0){if(k===j)break;k=p[_+h[P]]}if(se<k&&(F&$)!==I){for(de===0&&(de=se),B+=d,G=1<<(W=k-de);W+de<j&&!((G-=X[W+de])<=0);)W++,G<<=1;if(ae+=1<<W,y===1&&852<ae||y===2&&592<ae)return 1;w[I=F&$]=se<<24|W<<16|B-f|0}}return F!==0&&(w[B+F]=k-de<<24|64<<16|0),g.bits=se,0}},{"../utils/common":41}],51:[function(t,l,o){l.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,l,o){var i=t("../utils/common"),a=0,r=1;function c(v){for(var T=v.length;0<=--T;)v[T]=0}var m=0,y=29,p=256,_=p+1+y,u=30,w=19,f=2*_+1,h=15,g=16,b=7,S=256,I=16,$=17,B=18,z=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],M=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],A=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],D=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],V=new Array(2*(_+2));c(V);var k=new Array(2*u);c(k);var P=new Array(512);c(P);var d=new Array(256);c(d);var j=new Array(y);c(j);var se,W,de,G=new Array(u);function ae(v,T,q,K,U){this.static_tree=v,this.extra_bits=T,this.extra_base=q,this.elems=K,this.max_length=U,this.has_stree=v&&v.length}function F(v,T){this.dyn_tree=v,this.max_code=0,this.stat_desc=T}function O(v){return v<256?P[v]:P[256+(v>>>7)]}function J(v,T){v.pending_buf[v.pending++]=255&T,v.pending_buf[v.pending++]=T>>>8&255}function X(v,T,q){v.bi_valid>g-q?(v.bi_buf|=T<<v.bi_valid&65535,J(v,v.bi_buf),v.bi_buf=T>>g-v.bi_valid,v.bi_valid+=q-g):(v.bi_buf|=T<<v.bi_valid&65535,v.bi_valid+=q)}function Y(v,T,q){X(v,q[2*T],q[2*T+1])}function ge(v,T){for(var q=0;q|=1&v,v>>>=1,q<<=1,0<--T;);return q>>>1}function pe(v,T,q){var K,U,Q=new Array(h+1),C=0;for(K=1;K<=h;K++)Q[K]=C=C+q[K-1]<<1;for(U=0;U<=T;U++){var L=v[2*U+1];L!==0&&(v[2*U]=ge(Q[L]++,L))}}function fe(v){var T;for(T=0;T<_;T++)v.dyn_ltree[2*T]=0;for(T=0;T<u;T++)v.dyn_dtree[2*T]=0;for(T=0;T<w;T++)v.bl_tree[2*T]=0;v.dyn_ltree[2*S]=1,v.opt_len=v.static_len=0,v.last_lit=v.matches=0}function me(v){8<v.bi_valid?J(v,v.bi_buf):0<v.bi_valid&&(v.pending_buf[v.pending++]=v.bi_buf),v.bi_buf=0,v.bi_valid=0}function xe(v,T,q,K){var U=2*T,Q=2*q;return v[U]<v[Q]||v[U]===v[Q]&&K[T]<=K[q]}function _e(v,T,q){for(var K=v.heap[q],U=q<<1;U<=v.heap_len&&(U<v.heap_len&&xe(T,v.heap[U+1],v.heap[U],v.depth)&&U++,!xe(T,K,v.heap[U],v.depth));)v.heap[q]=v.heap[U],q=U,U<<=1;v.heap[q]=K}function le(v,T,q){var K,U,Q,C,L=0;if(v.last_lit!==0)for(;K=v.pending_buf[v.d_buf+2*L]<<8|v.pending_buf[v.d_buf+2*L+1],U=v.pending_buf[v.l_buf+L],L++,K===0?Y(v,U,T):(Y(v,(Q=d[U])+p+1,T),(C=z[Q])!==0&&X(v,U-=j[Q],C),Y(v,Q=O(--K),q),(C=M[Q])!==0&&X(v,K-=G[Q],C)),L<v.last_lit;);Y(v,S,T)}function $e(v,T){var q,K,U,Q=T.dyn_tree,C=T.stat_desc.static_tree,L=T.stat_desc.has_stree,H=T.stat_desc.elems,ne=-1;for(v.heap_len=0,v.heap_max=f,q=0;q<H;q++)Q[2*q]!==0?(v.heap[++v.heap_len]=ne=q,v.depth[q]=0):Q[2*q+1]=0;for(;v.heap_len<2;)Q[2*(U=v.heap[++v.heap_len]=ne<2?++ne:0)]=1,v.depth[U]=0,v.opt_len--,L&&(v.static_len-=C[2*U+1]);for(T.max_code=ne,q=v.heap_len>>1;1<=q;q--)_e(v,Q,q);for(U=H;q=v.heap[1],v.heap[1]=v.heap[v.heap_len--],_e(v,Q,1),K=v.heap[1],v.heap[--v.heap_max]=q,v.heap[--v.heap_max]=K,Q[2*U]=Q[2*q]+Q[2*K],v.depth[U]=(v.depth[q]>=v.depth[K]?v.depth[q]:v.depth[K])+1,Q[2*q+1]=Q[2*K+1]=U,v.heap[1]=U++,_e(v,Q,1),2<=v.heap_len;);v.heap[--v.heap_max]=v.heap[1],function(N,te){var be,he,ue,ye,ce,ze,Ce=te.dyn_tree,Ze=te.max_code,Me=te.stat_desc.static_tree,Be=te.stat_desc.has_stree,je=te.stat_desc.extra_bits,Ne=te.stat_desc.extra_base,He=te.stat_desc.max_length,qe=0;for(ye=0;ye<=h;ye++)N.bl_count[ye]=0;for(Ce[2*N.heap[N.heap_max]+1]=0,be=N.heap_max+1;be<f;be++)He<(ye=Ce[2*Ce[2*(he=N.heap[be])+1]+1]+1)&&(ye=He,qe++),Ce[2*he+1]=ye,Ze<he||(N.bl_count[ye]++,ce=0,Ne<=he&&(ce=je[he-Ne]),ze=Ce[2*he],N.opt_len+=ze*(ye+ce),Be&&(N.static_len+=ze*(Me[2*he+1]+ce)));if(qe!==0){do{for(ye=He-1;N.bl_count[ye]===0;)ye--;N.bl_count[ye]--,N.bl_count[ye+1]+=2,N.bl_count[He]--,qe-=2}while(0<qe);for(ye=He;ye!==0;ye--)for(he=N.bl_count[ye];he!==0;)Ze<(ue=N.heap[--be])||(Ce[2*ue+1]!==ye&&(N.opt_len+=(ye-Ce[2*ue+1])*Ce[2*ue],Ce[2*ue+1]=ye),he--)}}(v,T),pe(Q,ne,v.bl_count)}function s(v,T,q){var K,U,Q=-1,C=T[1],L=0,H=7,ne=4;for(C===0&&(H=138,ne=3),T[2*(q+1)+1]=65535,K=0;K<=q;K++)U=C,C=T[2*(K+1)+1],++L<H&&U===C||(L<ne?v.bl_tree[2*U]+=L:U!==0?(U!==Q&&v.bl_tree[2*U]++,v.bl_tree[2*I]++):L<=10?v.bl_tree[2*$]++:v.bl_tree[2*B]++,Q=U,ne=(L=0)===C?(H=138,3):U===C?(H=6,3):(H=7,4))}function R(v,T,q){var K,U,Q=-1,C=T[1],L=0,H=7,ne=4;for(C===0&&(H=138,ne=3),K=0;K<=q;K++)if(U=C,C=T[2*(K+1)+1],!(++L<H&&U===C)){if(L<ne)for(;Y(v,U,v.bl_tree),--L!=0;);else U!==0?(U!==Q&&(Y(v,U,v.bl_tree),L--),Y(v,I,v.bl_tree),X(v,L-3,2)):L<=10?(Y(v,$,v.bl_tree),X(v,L-3,3)):(Y(v,B,v.bl_tree),X(v,L-11,7));Q=U,ne=(L=0)===C?(H=138,3):U===C?(H=6,3):(H=7,4)}}c(G);var E=!1;function x(v,T,q,K){X(v,(m<<1)+(K?1:0),3),function(U,Q,C,L){me(U),J(U,C),J(U,~C),i.arraySet(U.pending_buf,U.window,Q,C,U.pending),U.pending+=C}(v,T,q)}o._tr_init=function(v){E||(function(){var T,q,K,U,Q,C=new Array(h+1);for(U=K=0;U<y-1;U++)for(j[U]=K,T=0;T<1<<z[U];T++)d[K++]=U;for(d[K-1]=U,U=Q=0;U<16;U++)for(G[U]=Q,T=0;T<1<<M[U];T++)P[Q++]=U;for(Q>>=7;U<u;U++)for(G[U]=Q<<7,T=0;T<1<<M[U]-7;T++)P[256+Q++]=U;for(q=0;q<=h;q++)C[q]=0;for(T=0;T<=143;)V[2*T+1]=8,T++,C[8]++;for(;T<=255;)V[2*T+1]=9,T++,C[9]++;for(;T<=279;)V[2*T+1]=7,T++,C[7]++;for(;T<=287;)V[2*T+1]=8,T++,C[8]++;for(pe(V,_+1,C),T=0;T<u;T++)k[2*T+1]=5,k[2*T]=ge(T,5);se=new ae(V,z,p+1,_,h),W=new ae(k,M,0,u,h),de=new ae(new Array(0),A,0,w,b)}(),E=!0),v.l_desc=new F(v.dyn_ltree,se),v.d_desc=new F(v.dyn_dtree,W),v.bl_desc=new F(v.bl_tree,de),v.bi_buf=0,v.bi_valid=0,fe(v)},o._tr_stored_block=x,o._tr_flush_block=function(v,T,q,K){var U,Q,C=0;0<v.level?(v.strm.data_type===2&&(v.strm.data_type=function(L){var H,ne=4093624447;for(H=0;H<=31;H++,ne>>>=1)if(1&ne&&L.dyn_ltree[2*H]!==0)return a;if(L.dyn_ltree[18]!==0||L.dyn_ltree[20]!==0||L.dyn_ltree[26]!==0)return r;for(H=32;H<p;H++)if(L.dyn_ltree[2*H]!==0)return r;return a}(v)),$e(v,v.l_desc),$e(v,v.d_desc),C=function(L){var H;for(s(L,L.dyn_ltree,L.l_desc.max_code),s(L,L.dyn_dtree,L.d_desc.max_code),$e(L,L.bl_desc),H=w-1;3<=H&&L.bl_tree[2*D[H]+1]===0;H--);return L.opt_len+=3*(H+1)+5+5+4,H}(v),U=v.opt_len+3+7>>>3,(Q=v.static_len+3+7>>>3)<=U&&(U=Q)):U=Q=q+5,q+4<=U&&T!==-1?x(v,T,q,K):v.strategy===4||Q===U?(X(v,2+(K?1:0),3),le(v,V,k)):(X(v,4+(K?1:0),3),function(L,H,ne,N){var te;for(X(L,H-257,5),X(L,ne-1,5),X(L,N-4,4),te=0;te<N;te++)X(L,L.bl_tree[2*D[te]+1],3);R(L,L.dyn_ltree,H-1),R(L,L.dyn_dtree,ne-1)}(v,v.l_desc.max_code+1,v.d_desc.max_code+1,C+1),le(v,v.dyn_ltree,v.dyn_dtree)),fe(v),K&&me(v)},o._tr_tally=function(v,T,q){return v.pending_buf[v.d_buf+2*v.last_lit]=T>>>8&255,v.pending_buf[v.d_buf+2*v.last_lit+1]=255&T,v.pending_buf[v.l_buf+v.last_lit]=255&q,v.last_lit++,T===0?v.dyn_ltree[2*q]++:(v.matches++,T--,v.dyn_ltree[2*(d[q]+p+1)]++,v.dyn_dtree[2*O(T)]++),v.last_lit===v.lit_bufsize-1},o._tr_align=function(v){X(v,2,3),Y(v,S,V),function(T){T.bi_valid===16?(J(T,T.bi_buf),T.bi_buf=0,T.bi_valid=0):8<=T.bi_valid&&(T.pending_buf[T.pending++]=255&T.bi_buf,T.bi_buf>>=8,T.bi_valid-=8)}(v)}},{"../utils/common":41}],53:[function(t,l,o){l.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,l,o){(function(i){(function(a,r){if(!a.setImmediate){var c,m,y,p,_=1,u={},w=!1,f=a.document,h=Object.getPrototypeOf&&Object.getPrototypeOf(a);h=h&&h.setTimeout?h:a,c={}.toString.call(a.process)==="[object process]"?function(I){process.nextTick(function(){b(I)})}:function(){if(a.postMessage&&!a.importScripts){var I=!0,$=a.onmessage;return a.onmessage=function(){I=!1},a.postMessage("","*"),a.onmessage=$,I}}()?(p="setImmediate$"+Math.random()+"$",a.addEventListener?a.addEventListener("message",S,!1):a.attachEvent("onmessage",S),function(I){a.postMessage(p+I,"*")}):a.MessageChannel?((y=new MessageChannel).port1.onmessage=function(I){b(I.data)},function(I){y.port2.postMessage(I)}):f&&"onreadystatechange"in f.createElement("script")?(m=f.documentElement,function(I){var $=f.createElement("script");$.onreadystatechange=function(){b(I),$.onreadystatechange=null,m.removeChild($),$=null},m.appendChild($)}):function(I){setTimeout(b,0,I)},h.setImmediate=function(I){typeof I!="function"&&(I=new Function(""+I));for(var $=new Array(arguments.length-1),B=0;B<$.length;B++)$[B]=arguments[B+1];var z={callback:I,args:$};return u[_]=z,c(_),_++},h.clearImmediate=g}function g(I){delete u[I]}function b(I){if(w)setTimeout(b,0,I);else{var $=u[I];if($){w=!0;try{(function(B){var z=B.callback,M=B.args;switch(M.length){case 0:z();break;case 1:z(M[0]);break;case 2:z(M[0],M[1]);break;case 3:z(M[0],M[1],M[2]);break;default:z.apply(r,M)}})($)}finally{g(I),w=!1}}}}function S(I){I.source===a&&typeof I.data=="string"&&I.data.indexOf(p)===0&&b(+I.data.slice(p.length))}})(typeof self>"u"?i===void 0?this:i:self)}).call(this,typeof Ft<"u"?Ft:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}(dn)),dn.exports}var xa=_a();const Hr=wa(xa);async function Vr(e,n={includeMetadata:!0,includeImages:!0,generateM3U:!0,includeHTML:!0}){try{const t=new Hr,o=(e.rev||0)+1;await wn(e.id,{rev:o});const i={...e,rev:o},a=await ji(e.songIds),r=await Promise.all(a.map(async h=>{if(!h.sha&&h.audioData)try{const g=await Sr(h.audioData);return await Er(h.id,{sha:g}),{...h,sha:g}}catch(g){return console.warn(`Failed to calculate SHA for song ${h.title}:`,g),h}return h})),c=Qn("",i.title),m=t.folder(c),y=m.folder("data"),p={playlist:{id:i.id,title:i.title,description:i.description||"",createdAt:new Date(i.createdAt).toISOString(),updatedAt:new Date(i.updatedAt).toISOString(),rev:i.rev,songCount:r.length,totalDuration:r.reduce((h,g)=>h+(g.duration||0),0),imageExtension:i.imageData?dt(i.imageType||"image/jpeg"):null,imageMimeType:i.imageType||null},songs:r.map(h=>({id:h.id,title:h.title,artist:h.artist,album:h.album,duration:h.duration||0,originalFilename:h.originalFilename||"",safeFilename:h.originalFilename?tr(h.originalFilename):"",fileSize:h.fileSize||h.audioData?.byteLength,mimeType:h.mimeType||"audio/mpeg",sha:h.sha,imageExtension:h.imageData?dt(h.imageType||"image/jpeg"):null,imageMimeType:h.imageType||null}))};if(y.file("playlist.json",JSON.stringify(p,null,2)),n.includeImages&&i.imageData&&i.imageType){const h=dt(i.imageType);y.file(`playlist-cover${h}`,i.imageData)}const _=[];for(const h of r)if(h.audioData&&h.originalFilename){const g=tr(h.originalFilename),b=g.replace(/\.[^.]+$/,"");if(y.file(g,h.audioData),_.push(g),n.includeImages&&h.imageData&&h.imageType){const S=dt(h.imageType),I=`${b}-cover${S}`;y.file(I,h.imageData)}}if(n.generateM3U){const h=ka(i,r,_);y.file(`${Qn("",i.title)}.m3u8`,h)}if(n.includeHTML)try{const h=await $a(p);m.file("playlistz.html",h);try{const g=await fetch("./sw.js");if(g.ok){const b=await g.text();m.file("sw.js",b)}}catch(g){console.warn("⚠️ Could not include service worker in bundle:",g)}}catch(h){console.error("Error generating HTML:",h),console.error("Error stack:",h instanceof Error?h.stack:"Unknown error")}const u=await t.generateAsync({type:"blob"}),w=URL.createObjectURL(u),f=document.createElement("a");f.href=w,f.download=`${c}.zip`,document.body.appendChild(f),f.click(),document.body.removeChild(f),URL.revokeObjectURL(w)}catch(t){throw console.error("Error downloading playlist:",t),t instanceof Error&&(t.message.includes("ZIP generation failed")||t.message.includes("Database error")||t.message.includes("SHA calculation failed"))?t:new Error("Failed to download playlist")}}function ka(e,n,t){let l=`#EXTM3U
`;if(l+=`# Playlist: ${e.title}
`,e.description&&(l+=`# Description: ${e.description}
`),e.imageData){const o=dt(e.imageType||"image/jpeg");l+=`# PlaylistImage: data/playlist-cover${o}
`}return l+=`
`,n.forEach((o,i)=>{const a=Math.round(o.duration||0),r=t[i];if(r){if(l+=`#EXTINF:${a}, ${o.artist} - ${o.title}
`,l+=`# Title: ${o.title}
`,l+=`# Artist: ${o.artist}
`,l+=`# Album: ${o.album}
`,o.imageData&&o.originalFilename){const c=o.originalFilename.replace(/\.[^.]+$/,""),m=dt(o.imageType);l+=`# Image: data/${c}-cover${m}
`}l+=`data/${r}

`}}),l}function Qn(e,n){return(n||e||"untitled").replace(/[<>:"/\\|?*]/g,"_").replace(/\s+/g,"_").toLowerCase().substring(0,100)}function dt(e){return{"audio/mpeg":".mp3","audio/mp4":".m4a","audio/wav":".wav","audio/flac":".flac","audio/ogg":".ogg","audio/webm":".webm","image/jpeg":".jpg","image/png":".png","image/gif":".gif","image/webp":".webp"}[e]||".bin"}async function Sa(e){try{const t=await new Hr().loadAsync(e);let l=null,o,i;const a=[];let r=null,c=t.file(/^[^/]+\/data\/playlist\.json$/i);if(c.length===0){const u=t.file("data/playlist.json");u&&(c=[u])}if(c.length>0){const u=await c[0].async("string");r=JSON.parse(u),l=r.playlist}else{const u=t.file("playlist-info.json");if(u){const w=await u.async("string");l=JSON.parse(w)}}let m=t.file(/^[^/]+\/data\/playlist-cover\.(jpg|jpeg|png|gif|webp)$/i);m.length===0&&(m=t.file(/^data\/playlist-cover\.(jpg|jpeg|png|gif|webp)$/i)),m.length===0&&(m=t.file(/^playlist-cover\.(jpg|jpeg|png|gif|webp)$/i)),m.length>0?(o=await m[0].async("arraybuffer"),i=un(m[0].name)):r&&r.playlist.imageBase64&&(o=er(r.playlist.imageBase64),i=r.playlist.imageMimeType);const y=t.file(/\.m3u8?$/i);y.length>0&&await y[0].async("string");let p=t.file(/^[^/]+\/data\/[^/]+\.(mp3|m4a|wav|flac|ogg|webm)$/i);p.length===0&&(p=t.file(/^data\/[^/]+\.(mp3|m4a|wav|flac|ogg|webm)$/i)),p.length===0&&(p=t.file(/^[^/]+\.(mp3|m4a|wav|flac|ogg|webm)$/i));for(const u of p){const w=await u.async("arraybuffer"),f=u.name.split("/").pop()||"",h=f.replace(/\.[^.]+$/,"");let g={};if(r&&r.songs){const z=r.songs.find(M=>M.safeFilename===f||M.originalFilename===f);z&&(g={id:z.id,title:z.title,artist:z.artist,album:z.album,duration:z.duration,originalFilename:z.originalFilename,imageBase64:z.imageBase64,imageMimeType:z.imageMimeType})}else{const z=t.file(`${h}-metadata.json`);if(z){const M=await z.async("string");g=JSON.parse(M)}}let b,S;if(g.imageBase64)b=er(g.imageBase64),S=g.imageMimeType;else{let z=t.file(new RegExp(`^[^/]+/data/${h.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}-cover\\.(jpg|jpeg|png|gif|webp)$`,"i"));z.length===0&&(z=t.file(new RegExp(`^data/${h.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}-cover\\.(jpg|jpeg|png|gif|webp)$`,"i"))),z.length===0&&(z=t.file(new RegExp(`^${h.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}-cover\\.(jpg|jpeg|png|gif|webp)$`,"i"))),z.length>0&&(b=await z[0].async("arraybuffer"),S=un(z[0].name))}const[I,$]=h.includes(" - ")?h.split(" - ",2):["Unknown Artist",h],B={audioData:w,mimeType:un(f),originalFilename:g.originalFilename||f,title:g.title||$.replace(/_/g," "),artist:g.artist||I.replace(/_/g," "),album:g.album||"Unknown Album",duration:g.duration||0,position:a.length,imageData:b,imageType:S};a.push(B)}return{playlist:{title:l?.title||e.name.replace(/\.zip$/i,""),description:l?.description||"",imageData:o,imageType:i,songIds:[]},songs:a}}catch(n){throw console.error("Error parsing playlist ZIP:",n),n instanceof Error&&(n.message.includes("Corrupted ZIP")||n.message.includes("Invalid JSON")||n.message.includes("Missing playlist"))?n:new Error("Failed to parse playlist ZIP file")}}function un(e){const n=e.toLowerCase().split(".").pop();return{mp3:"audio/mpeg",m4a:"audio/mp4",wav:"audio/wav",flac:"audio/flac",ogg:"audio/ogg",webm:"audio/webm",jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png",gif:"image/gif",webp:"image/webp"}[n||""]||"application/octet-stream"}function er(e){const n=atob(e),t=new Uint8Array(n.length);for(let l=0;l<n.length;l++)t[l]=n.charCodeAt(l);return t.buffer}async function $a(e){const t=await(await fetch(window.location.href)).text(),l=e.playlist,o=e.songs.length,i=l.description||`a playlist with ${o} song${o===1?"":"z"}`;let a="";l.imageMimeType&&(a=`/data/playlist-cover${dt(l.imageMimeType)}`);const r=`
    <!-- Open Graph meta tags for rich link previews -->
    <meta property="og:type" content="website" />
    <meta property="og:title" content="${l.title.replace(/"/g,"&quot;")}" />
    <meta property="og:description" content="${i.replace(/"/g,"&quot;")}" />
    <meta property="og:site_name" content="playlistz" />
    ${a?`<meta property="og:image" content="${a}" />`:""}
    ${a?'<meta property="og:image:width" content="512" />':""}
    ${a?'<meta property="og:image:height" content="512" />':""}

    <!-- standard meta tags -->
    <meta name="description" content="${i.replace(/"/g,"&quot;")}" />`,c=`
    <script>
      // Flag to indicate this is a standalone version
      window.STANDALONE_MODE = true;

      // Load playlist data from embedded JSON
      function loadPlaylistData() {
        try {
          const playlistElement = document.getElementById('playlist-data');
          if (!playlistElement) {
            throw new Error('Playlist data not found in document');
          }
          return JSON.parse(playlistElement.textContent);
        } catch (error) {
          console.error('Error loading embedded playlist data:', error);
          throw error;
        }
      }

      // Wait for the function to be available and then initialize
      async function waitForInitialization() {
        let attempts = 0;
        const maxAttempts = 50; // Wait up to 5 seconds

        while (attempts < maxAttempts) {
          if (window.initializeStandalonePlaylist) {
            try {
              // Load playlist data from embedded JSON
              const playlistData = loadPlaylistData();

              // Initialize playlist (this will show its own loading progress)
              window.initializeStandalonePlaylist(playlistData);
              return; // Success, exit
            } catch (error) {
              console.error('Failed to initialize playlist:', error);
              showError('Failed to initialize playlist: ' + error.message);
              return;
            }
          }

          // Wait 100ms before trying again
          await new Promise(resolve => setTimeout(resolve, 100));
          attempts++;
        }

        // Function never became available
        console.error('initializeStandalonePlaylist function not found after waiting');
        showError('Playlist initialization function not found. The app may not have loaded properly.');
      }

      // Start waiting after DOM is loaded
      window.addEventListener('DOMContentLoaded', waitForInitialization);

      // Show dismissable error message
      function showError(message) {
        const errorDiv = document.createElement('div');
        errorDiv.style.cssText = 'position: fixed; top: 20px; left: 50%; transform: translateX(-50%); background: rgba(220, 20, 60, 0.95); color: white; padding: 15px 25px; border-radius: 8px; z-index: 10000; text-align: center; max-width: 500px; box-shadow: 0 4px 12px rgba(0,0,0,0.3);';
        errorDiv.innerHTML = '<div style="margin-bottom: 10px;">' + message + '</div><button onclick="this.parentElement.remove()" style="background: rgba(255,255,255,0.2); color: white; border: none; padding: 5px 15px; border-radius: 4px; cursor: pointer;">Dismiss</button>';
        document.body.appendChild(errorDiv);
      }
    <\/script>
  `,m=`
    <script type="application/json" id="playlist-data">
${JSON.stringify(e,null,2)}
    <\/script>`;let y=t.replace(/<title>.*?<\/title>/i,`<title>${l.title.replace(/"/g,"&quot;")} - playlistz</title>`);return y=y.replace("</head>",`${r}
${m}
${c}
</head>`),y}function tr(e){return e.replace(/\$/g,"_DOLLAR_").replace(/\[/g,"_LBRACKET_").replace(/\]/g,"_RBRACKET_").replace(/\(/g,"_LPAREN_").replace(/\)/g,"_RPAREN_").replace(/[<>:"/\\|?*]/g,"_").replace(/\s+/g," ").trim()}const[wo,Ca]=re(navigator.onLine),[_o,Ea]=re(!1),[fn,nr]=re(!1),qr="playlistz-cache-v1";async function Aa(){try{if("storage"in navigator&&"persist"in navigator.storage){const e=await navigator.storage.persist();return nr(!!e),e}else return!1}catch(e){return console.error("Error requesting persistent storage:",e),!1}}function Gr(e,n){const t=e||"playlistz";let l,o;n?(l=n,n.endsWith(".png")?o="image/png":n.endsWith(".webp")?o="image/webp":o="image/jpeg"):(l=`data:image/svg+xml,${encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" width="192" height="192" viewBox="0 0 192 192"><rect width="192" height="192" fill="#000000"/><text x="96" y="125" text-anchor="middle" font-size="100" font-family="Arial,sans-serif" font-weight="bold" fill="magenta">z</text></svg>')}`,o="image/svg+xml");const i={name:t,short_name:t.length>12?t.substring(0,12):t,description:"Offline music playlist manager",start_url:"./",display:"standalone",background_color:"#000000",theme_color:"#000000",icons:[{src:l,sizes:"192x192",type:o}]},a=document.querySelector('link[rel="manifest"]');a&&a.remove(),document.querySelectorAll('link[rel="apple-touch-icon"]').forEach(h=>h.remove());const c=JSON.stringify(i),m=new Blob([c],{type:"application/manifest+json"}),y=URL.createObjectURL(m),p=document.createElement("link");p.rel="manifest",p.href=`${y}?v=${Date.now()}`,document.head.appendChild(p),[{name:"apple-mobile-web-app-capable",content:"yes"},{name:"apple-mobile-web-app-status-bar-style",content:"black-translucent"},{name:"apple-mobile-web-app-title",content:t},{name:"theme-color",content:"#000000"}].forEach(({name:h,content:g})=>{let b=document.querySelector(`meta[name="${h}"]`);b||(b=document.createElement("meta"),b.setAttribute("name",h),document.head.appendChild(b)),b.setAttribute("content",g)});const u=["57x57","60x60","72x72","76x76","114x114","120x120","144x144","152x152","180x180"],w=n||`data:image/svg+xml,${encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" width="180" height="180" viewBox="0 0 180 180"><rect width="180" height="180" fill="#000000"/><text x="90" y="117" text-anchor="middle" font-size="94" font-family="Arial,sans-serif" font-weight="bold" fill="magenta">z</text></svg>')}`;u.forEach(h=>{const g=document.createElement("link");g.rel="apple-touch-icon",g.sizes=h,g.href=`${w}#${Date.now()}`,document.head.appendChild(g)});const f=document.createElement("link");f.rel="apple-touch-icon",f.href=`${w}#${Date.now()}`,document.head.appendChild(f)}function Kr(e){if(!e.imageData||!e.imageType)return;let n=".jpg";return e.imageType==="image/png"?n=".png":e.imageType==="image/webp"?n=".webp":e.imageType==="image/gif"&&(n=".gif"),`/data/playlist-cover${n}`}function Ia(e,n){const t=n?Kr(n):void 0;Gr(e,t)}async function za(){return setTimeout(async()=>{try{if(!("serviceWorker"in navigator))return;const n=await navigator.serviceWorker.register("./sw.js");if(await navigator.serviceWorker.ready,Ea(!0),navigator.serviceWorker.addEventListener("message",t=>{const{type:l}=t.data;l==="SW_READY"&&rr()}),navigator.serviceWorker.controller)rr();else{const t=n.active||n.installing||n.waiting;t&&t.postMessage({type:"CLAIM_CLIENTS"})}}catch(e){console.warn("⚠️ Service worker registration failed:",e)}},100),!1}async function rr(){try{const e=await caches.open(qr),n=window.location.href;await e.match(n)||await e.add(n)}catch(e){console.warn("⚠️ Failed to auto-cache page:",e)}}async function ir(e,n){try{if(!("caches"in window))throw new Error("Cache API not supported");if(window.location.protocol==="file:")return;if(navigator.serviceWorker&&navigator.serviceWorker.controller){navigator.serviceWorker.controller.postMessage({type:"CACHE_URL",data:{url:e}});return}await(await caches.open(qr)).add(e)}catch(t){throw console.error(`Failed to cache audio file ${n}:`,t),t}}async function Ta(e,n){const t=()=>{Ca(navigator.onLine)};window.addEventListener("online",t),window.addEventListener("offline",t);const l=n?Kr(n):void 0;Gr(e,l),await Aa(),za()}async function Da(){try{const e={};if("storage"in navigator&&navigator.storage){if("estimate"in navigator.storage){const n=await navigator.storage.estimate();e.quota=n.quota,e.usage=n.usage,n.quota&&(e.quotaFormatted=Math.round(n.quota/1024/1024)+" MB"),n.usage&&(e.usageFormatted=Math.round(n.usage/1024/1024)+" MB"),n.quota&&n.usage&&(e.usagePercent=Math.round(n.usage/n.quota*100))}"persisted"in navigator.storage&&(e.persistent=await navigator.storage.persisted())}return e}catch(e){return console.error("Error getting storage info:",e),{error:e instanceof Error?e.message:String(e)}}}var Pa=ee('<svg class="w-5 h-5"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M12 4v16m8-8H4">'),La=ee('<div class="p-4 space-y-2">'),Ua=ee('<div class=text-center><div class="text-magenta-400 font-mono font-semibold text-[10px]">%</div><div>storage'),Oa=ee('<div><div class=text-center><div class="text-magenta-400 font-mono font-semibold"></div><div>playlistz</div></div><div class=text-center><div class="text-magenta-400 font-mono font-semibold"></div><div>songz'),Fa=ee('<div class="text-center text-[10px] text-gray-500"> filtered'),Ba=ee('<div><div><div class="flex items-center justify-between mb-4"><h1>playlist<span class=text-magenta-500>z</span></h1><div class="flex items-center gap-2"><div class="text-sm text-magenta-400 font-mono">&nbsp;</div></div></div><div class=relative><input type=text placeholder=search... class="w-full bg-black text-white px-4 py-2 pl-10 text-sm border border-magenta-200 focus:border-magenta-500 focus:outline-none focus:ring-1 focus:ring-magenta-500"><div class="absolute left-3 top-2.5 text-gray-400"><svg class="w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg></div></div><button class="w-full mt-4 px-4 py-3 bg-magenta-500 hover:bg-magenta-600 disabled:bg-magenta-400 disabled:cursor-not-allowed text-white transition-colors font-medium flex items-center justify-center gap-2"><span></span></button></div><div class="flex-1 overflow-y-auto"></div><div class="p-4 bg-gray-900 bg-opacity-30"><div class="text-xs text-gray-400 space-y-1">'),Ra=ee('<div class="w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin">'),Ma=ee('<div class="p-6 text-center"><div class="inline-block w-6 h-6 border-2 border-magenta-500 border-t-transparent rounded-full animate-spin mb-3"></div><p class="text-gray-400 text-sm">loading playlistz...'),ja=ee('<div class=text-gray-400><div class="text-lg mb-2">no matchez</div><p class=text-sm>...try a different search?'),Na=ee('<div class="p-6 text-center">'),Wa=ee('<div class=text-gray-400><div class="text-lg mb-2">no playlistz yet</div><p class=text-sm>create your first playlist (if u want)'),Za=ee("<div>"),Ha=ee('<button><div class="flex items-start gap-3"><div class="flex-shrink-0 w-12 h-12 overflow-hidden bg-transparent"></div><div class="flex-1 min-w-0"><div></div><div class="flex items-center justify-between text-xs"><span></span><span>'),ar=ee('<div class="w-full h-full flex items-center justify-center"><svg width=100 height=100 viewBox="0 0 100 100"fill=none xmlns=http://www.w3.org/2000/svg><path d="M50 81L25 31L75 31L60.7222 68.1429L50 81Z"fill=#FF00FF>'),Va=ee('<img class="w-full h-full object-cover">'),qa=ee('<div class="text-center text-[10px] text-gray-500"> / ');function Ga(e){const[n,t]=re(!1),[l,o]=re(""),[i,a]=re({}),r=()=>{const y=l().toLowerCase();return y?e.playlists.filter(p=>p.title.toLowerCase().includes(y)||(p.description||"").toLowerCase().includes(y)):e.playlists},c=async()=>{if(!n()){t(!0);try{await e.onCreatePlaylist()}finally{t(!1)}}},m=y=>{const p=y.songIds?.length||0;return p===1?"1 song":`${p} songs`};return bt(async()=>{const y=async()=>{const _=await Da();a(_)};await y();const p=setInterval(y,3e4);return()=>clearInterval(p)}),(()=>{var y=Ba(),p=y.firstChild,_=p.firstChild,u=_.firstChild,w=_.nextSibling,f=w.firstChild,h=w.nextSibling,g=h.firstChild,b=p.nextSibling,S=b.nextSibling,I=S.firstChild;return f.$$input=$=>o($.currentTarget.value),h.$$click=c,Z(h,ie(oe,{get when(){return!n()},get fallback(){return Ra()},get children(){return Pa()}}),g),Z(g,()=>n()?"creating...":"new playlist"),Z(b,ie(oe,{get when(){return!e.isLoading},get fallback(){return Ma()},get children(){return ie(oe,{get when(){return r().length>0},get fallback(){return(()=>{var $=Na();return Z($,ie(oe,{get when(){return l()},get fallback(){return Wa()},get children(){return ja()}})),$})()},get children(){var $=La();return Z($,ie(br,{get each(){return r()},children:B=>{const z=()=>e.selectedPlaylist?.id===B.id,M=Zr(B.updatedAt);return(()=>{var A=Ha(),D=A.firstChild,V=D.firstChild,k=V.nextSibling,P=k.firstChild,d=P.nextSibling,j=d.firstChild,se=j.nextSibling;return A.$$click=()=>e.onPlaylistSelect(B),Z(V,ie(oe,{get when(){return B.imageType},get fallback(){return ar()},get children(){return(()=>{const W=Ge(B,"thumbnail");return W?(()=>{var de=Va();return Pe(de,"src",W),we(()=>Pe(de,"alt",B.title)),de})():ar()})()}})),Z(P,()=>B.title),Z(k,ie(oe,{get when(){return B.description},get children(){var W=Za();return Z(W,()=>B.description),we(()=>Se(W,`text-sm mb-2 line-clamp-2 ${z()?"text-magenta-100":"text-gray-400 group-hover:text-white"}`)),W}}),d),Z(j,()=>m(B)),Z(se,()=>M.signal()),we(W=>{var de=`w-full text-left p-4 transition-all duration-500 group ${z()?"bg-magenta-500 bg-opacity-20 shadow-lg":"bg-black bg-opacity-50 hover:bg-magenta-500"}`,G=`font-medium mb-1 truncate ${z()?"text-white":"text-gray-200 group-hover:text-white"}`,ae=z()?"text-magenta-200":"text-gray-500 group-hover:text-white",F=z()?"text-magenta-300":"text-gray-500 group-hover:text-white";return de!==W.e&&Se(A,W.e=de),G!==W.t&&Se(P,W.t=G),ae!==W.a&&Se(j,W.a=ae),F!==W.o&&Se(se,W.o=F),W},{e:void 0,t:void 0,a:void 0,o:void 0}),A})()}})),$}})}})),Z(I,ie(oe,{get when(){return!l()},get children(){var $=Oa(),B=$.firstChild,z=B.firstChild,M=B.nextSibling,A=M.firstChild;return Z(z,()=>e.playlists.length),Z(A,()=>e.playlists.reduce((D,V)=>D+(V.songIds?.length||0),0)),Z($,ie(oe,{get when(){return We(()=>!!fn())()&&i().usageFormatted},get children(){var D=Ua(),V=D.firstChild,k=V.firstChild;return Z(V,()=>i().usagePercent,k),D}}),null),we(()=>Se($,`grid gap-2 ${fn()&&i().usageFormatted&&!l()?"grid-cols-3":"grid-cols-2"}`)),$}}),null),Z(I,ie(oe,{get when(){return l()},get fallback(){return ie(oe,{get when(){return We(()=>!!fn())()&&i().usageFormatted},get children(){var $=qa(),B=$.firstChild;return Z($,()=>i().usageFormatted,B),Z($,()=>i().quotaFormatted,null),$}})},get children(){var $=Fa(),B=$.firstChild;return Z($,()=>r().length,B),$}}),null),we($=>{var B=`${e.isMobile?"w-full":"w-80"} bg-black/50 backdrop-blur-sm flex flex-col h-full`,z=`p-6 ${e.isMobile?"text-center":""}`,M=`text-2xl font-mono font-stretch-expanded font-bold text-white ${e.isMobile?"text-3xl":""}`,A=n();return B!==$.e&&Se(y,$.e=B),z!==$.t&&Se(p,$.t=z),M!==$.a&&Se(u,$.a=M),A!==$.o&&(h.disabled=$.o=A),$},{e:void 0,t:void 0,a:void 0,o:void 0}),we(()=>f.value=l()),y})()}_t(["input","click"]);var Ka=ee('<div class="flex items-center p-3 bg-gray-800 bg-opacity-30 animate-pulse"><div class="w-12 h-12 bg-gray-700 mr-4"></div><div class=flex-1><div class="h-4 bg-gray-700 rounded mb-2 w-3/4"></div><div class="h-3 bg-gray-700 rounded w-1/2"></div></div><div class="w-16 h-4 bg-gray-700 rounded">'),Ya=ee('<div class="flex items-center p-3 bg-red-900 bg-opacity-20 border border-red-500 border-opacity-30"><div class="w-12 h-12 bg-red-800 mr-4 flex items-center justify-center"><svg class="w-6 h-6 text-red-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.5 0L4.268 16.5c-.77.833.192 2.5 1.732 2.5z"></path></svg></div><div class=flex-1><div class="text-red-400 font-medium">song not found</div><div class="text-red-300 text-sm">id: '),Ja=ee('<svg class="absolute inset-0 w-8 h-8 transform -rotate-90"viewBox="0 0 32 32"><circle cx=16 cy=16 r=14 stroke="rgba(255, 255, 255, 0.2)"stroke-width=2 fill=none></circle><circle cx=16 cy=16 r=14 stroke-width=2 fill=none stroke-linecap=round class="transition-all duration-300">'),Xa=ee('<div class="absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center z-1"><div class="relative w-8 h-8"><svg fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15">'),Qa=ee('<svg class="w-5 h-5"fill=currentColor viewBox="0 0 24 24"><path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z">'),es=ee('<button class="absolute inset-0 bg-transparent flex items-center justify-center transition-opacity hover:bg-opacity-80 text-magenta-300 hover:text-magenta-100">'),ts=ee('<span class="font-mono w-12 text-right tabular-nums">'),ns=ee('<div class="text-xs mt-1 text-magenta-200 flex items-center"><span class="font-mono w-12 text-left tabular-nums"></span><div class="flex-1 relative h-4 flex items-center seek-bar-container"><input type=range min=0 class="w-full h-2 bg-gray-700 rounded-full appearance-none cursor-pointer hover:bg-gray-600 transition-colors seek-slider">'),rs=ee('<div class="text-xs mt-1 text-magenta-200">added '),is=ee('<button class="p-1 text-red-400 hover:text-red-300 transition-colors hover:bg-red-600 hover:bg-opacity-30"title="remove from playlist"><svg class="w-3 h-3"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16">'),as=ee('<div class="absolute right-2 top-1/2 transform -translate-y-1/2 flex items-center gap-1 bg-black bg-opacity-80 px-2 py-1 z-50"><button class="p-1 text-gray-400 hover:text-white transition-colors hover:bg-gray-600"title="edit song"><svg class="w-3 h-3"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg></button><div title="drag to reorder"><svg class="w-3 h-3"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M4 6h16M4 12h16M4 18h16">'),ss=ee('<div><div class="absolute inset-0 transition-all duration-200"></div><div class="relative flex items-center w-full"><div class="relative w-12 h-12 mr-4 flex-shrink-0 bg-black"><div class="absolute inset-0 flex justify-center items-center font-mono group-hover:text-transparent"><span class=bg-black></span></div></div><div class="flex-1 min-w-0 text-lg"><div></div><div></div></div></div><div>'),sr=ee('<div class="w-12 h-12 bg-transparent flex items-center justify-center">'),os=ee('<img class="w-12 h-12 object-cover">'),ls=ee('<svg class="w-5 h-5"fill=currentColor viewBox="0 0 24 24"><path d="M8 5v14l11-7z">'),cs=ee("<span class=mx-2>•");function ds(e){const[n,t]=re(!1),[l,o]=re(!1),[i,a]=re(!1),[r,c]=re(!1),[m,y]=re(!1);bt(()=>{c("ontouchstart"in window||navigator.maxTouchPoints>0)});const[p]=ii(()=>[e.songId,zi(e.songId)()],async([D,V])=>{try{const k=await Mi(D);return k||null}catch(k){return console.error(`Error fetching song ${D}:`,k),null}}),_=()=>{const D=Ee.currentSong(),V=Ee.isPlaying();return D?.id===e.songId&&V},u=()=>Ee.selectedSongId()===e.songId,w=()=>Ee.loadingSongIds().has(e.songId),f=()=>Ee.preloadingSongId()===e.songId,h=()=>sa(e.songId),g=()=>oa(e.songId),b=D=>{if(!D)return"0:00";const V=Math.floor(D/60),k=Math.floor(D%60);return`${V}:${k.toString().padStart(2,"0")}`},S=D=>{const V=Math.floor(D/60),k=Math.floor(D%60);return`${V}:${k.toString().padStart(2,"0")}`},I=()=>{const D=p();D&&(_()?e.onPause?.():e.onPlay?.(D))},$=D=>{o(!0),D.dataTransfer.effectAllowed="move",D.dataTransfer.setData("text/plain",e.index.toString())},B=()=>{o(!1),a(!1)},z=D=>{D.preventDefault(),D.stopPropagation(),D.dataTransfer.dropEffect="move",a(!0)},M=D=>{D.stopPropagation(),D.currentTarget===D.target&&a(!1)},A=D=>{D.preventDefault(),D.stopPropagation(),a(!1);const V=parseInt(D.dataTransfer.getData("text/plain"),10),k=e.index;V!==k&&e.onReorder&&e.onReorder(V,k)};return ie(oe,{get when(){return!p.loading},get fallback(){return Ka()},get children(){return ie(oe,{get when(){return p()},get fallback(){return(()=>{var D=Ya(),V=D.firstChild,k=V.nextSibling,P=k.firstChild,d=P.nextSibling;return d.firstChild,Z(d,()=>e.songId,null),D})()},children:D=>{const V=Zr(D().createdAt),k=()=>{const P=Ee.currentSong();if(!P||P.id!==D().id)return 0;const d=Ee.duration(),j=Ee.currentTime();return d>0?j/d*100:0};return(()=>{var P=ss(),d=P.firstChild,j=d.nextSibling,se=j.firstChild,W=se.firstChild,de=W.firstChild,G=se.nextSibling,ae=G.firstChild,F=ae.nextSibling,O=j.nextSibling;return Mn(P,"dblclick",r()?void 0:I),Mn(P,"click",r()?I:void 0),P.addEventListener("mouseleave",()=>!r()&&t(!1)),P.addEventListener("mouseenter",()=>!r()&&t(!0)),P.addEventListener("drop",A),P.addEventListener("dragleave",M),P.addEventListener("dragover",z),P.addEventListener("dragend",B),P.addEventListener("dragstart",$),P.style.setProperty("-webkit-tap-highlight-color","transparent"),d.style.setProperty("pointer-events","none"),Z(de,()=>e.index.toString().padStart(3,"0")),Z(se,ie(oe,{get when(){return D().imageType},get fallback(){return sr()},get children(){return(()=>{const J=Ge(D(),"thumbnail");return J?(()=>{var X=os();return Pe(X,"src",J),we(()=>Pe(X,"alt",`${D().title} album art`)),X})():sr()})()}}),null),Z(se,ie(oe,{get when(){return w()||f()||g()},get children(){var J=Xa(),X=J.firstChild,Y=X.firstChild;return Z(X,ie(oe,{get when(){return We(()=>h()>0)()&&h()<100},get children(){var ge=Ja(),pe=ge.firstChild,fe=pe.nextSibling;return we(me=>{var xe=f()?"#9ca3af":"#ec4899",_e=`${h()/100*87.96} 87.96`;return xe!==me.e&&Pe(fe,"stroke",me.e=xe),_e!==me.t&&Pe(fe,"stroke-dasharray",me.t=_e),me},{e:void 0,t:void 0}),ge}}),Y),we(()=>Pe(Y,"class",`w-4 h-4 animate-spin absolute inset-0 m-auto ${f()?"text-gray-400":"text-magenta-300"}`)),J}}),null),Z(se,ie(oe,{get when(){return We(()=>!!(!w()&&!f()&&!g()&&n()))()&&!r()},get children(){var J=es();return J.$$click=I,Z(J,ie(oe,{get when(){return _()},get fallback(){return ls()},get children(){return Qa()}})),J}}),null),Z(ae,()=>D().title),Z(F,()=>D().artist,null),Z(F,(()=>{var J=We(()=>!!D().album);return()=>J()&&cs()})(),null),Z(F,()=>D().album,null),Z(G,ie(oe,{get when(){return We(()=>!!u())()&&(n()||r())},get children(){var J=ns(),X=J.firstChild,Y=X.nextSibling,ge=Y.firstChild;return Z(X,(()=>{var pe=We(()=>!!u());return()=>pe()?S(Ee.currentTime()):"0:00"})()),Y.addEventListener("mouseleave",()=>y(!1)),Y.$$mouseup=()=>y(!1),Y.$$mousedown=()=>y(!0),ge.$$mouseup=()=>y(!1),ge.$$mousedown=()=>y(!0),ge.$$input=pe=>{if(u()){const fe=parseFloat(pe.currentTarget.value);Mr(fe)}},Z(J,ie(oe,{get when(){return!r()},get children(){var pe=ts();return Z(pe,()=>b(D().duration)),pe}}),null),we(pe=>{var fe=D().duration||0,me=u()?`linear-gradient(to right, #ec4899 0%, #ec4899 ${Ee.currentTime()/(D().duration||1)*100}%, #374151 ${Ee.currentTime()/(D().duration||1)*100}%, #374151 100%)`:"#374151";return fe!==pe.e&&Pe(ge,"max",pe.e=fe),me!==pe.t&&((pe.t=me)!=null?ge.style.setProperty("background",me):ge.style.removeProperty("background")),pe},{e:void 0,t:void 0}),we(()=>ge.value=u()?Ee.currentTime():0),J}}),null),Z(G,ie(oe,{get when(){return We(()=>!!(_()||u()))()&&!n()},get children(){var J=rs();return J.firstChild,Z(J,()=>V.signal(),null),J}}),null),Z(O,()=>b(D().duration)),Z(P,ie(oe,{get when(){return We(()=>!!n())()&&!r()},get children(){var J=as(),X=J.firstChild,Y=X.nextSibling;return X.$$click=ge=>{ge.stopPropagation(),ge.preventDefault();const pe=p();pe&&e.onEdit?.(pe)},Z(J,ie(oe,{get when(){return e.showRemoveButton},get children(){var ge=is();return ge.$$click=pe=>{pe.stopPropagation(),pe.preventDefault(),e.onRemove?.(e.songId)},ge}}),Y),we(()=>Se(Y,`p-1 text-gray-400 transition-colors cursor-grab ${l()?"cursor-grabbing text-magenta-400":"hover:text-gray-300"}`)),J}}),null),we(J=>{var X=`group relative flex items-center p-3 group-hover:bg-opacity-70 hover:bg-magenta-500 transition-all duration-200 overflow-hidden ${_()||u()?"sticky top-0 bottom-0 bg-black z-100":i()?"border border-magenta-400 border-dashed":l()?"border border-gray-500":"border border-transparent"}`,Y=!m(),ge=_()?`linear-gradient(to right, rgba(236, 72, 153, 0.5) ${k()}%, transparent ${k()}%)`:u()?"rgba(236, 72, 153, 0.3)":i()?"rgba(220, 38, 127, 0.2)":l()?"rgba(107, 114, 128, 0.3)":"transparent",pe=`break-words ${_()||u()?"text-magenta-200":"text-white"}`,fe=`text-sm break-words ${_()||u()?"text-magenta-200":"text-white"}`,me=`text-sm font-mono mr-4 ${_()||u()?"text-magenta-200":"text-white"}`;return X!==J.e&&Se(P,J.e=X),Y!==J.t&&Pe(P,"draggable",J.t=Y),ge!==J.a&&((J.a=ge)!=null?d.style.setProperty("background",ge):d.style.removeProperty("background")),pe!==J.o&&Se(ae,J.o=pe),fe!==J.i&&Se(F,J.i=fe),me!==J.n&&Se(O,J.n=me),J},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0}),P})()}})}})}_t(["click","dblclick","mousedown","mouseup","input"]);var us=ee('<img alt="Album art"class="w-full h-full object-cover">'),fs=ee('<button class="block px-4 py-2 bg-red-600 hover:bg-red-700 disabled:bg-red-400 text-white text-sm font-medium transition-colors">remove image'),hs=ee("<div>size: <!> mb"),gs=ee("<div class=break-all>sha: "),ps=ee('<div class="bg-red-900 bg-opacity-30 border border-red-500 p-3"><div class="text-red-400 text-sm">'),ms=ee('<svg class="w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M5 13l4 4L19 7">'),ys=ee('<div class="fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4"><div class="bg-gray-900 shadow-2xl max-w-md w-full max-h-[90vh] overflow-y-auto relative"><div class="flex items-center justify-between p-6 border-b border-gray-700 relative"><h2 class="text-xl font-bold text-white font-mono">edit<span class=text-magenta-500>z</span></h2><button class="text-magenta-200 hover:text-magenta-500 p-1 rounded absolute top-4 right-4"><svg class="w-6 h-6"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M6 18L18 6M6 6l12 12"></path></svg></button></div><div class="p-6 space-y-6"><div><label class="block text-sm font-medium text-gray-300 mb-3">album art</label><div class="flex items-center gap-4"><div class="w-20 h-20 overflow-hidden bg-gray-700 flex items-center justify-center"></div><div class="flex-1 space-y-2"><input type=file accept=image/* class=hidden id=image-upload><label for=image-upload class="inline-block px-4 py-2 bg-magenta-500 hover:bg-magenta-600 disabled:bg-magenta-400 text-white cursor-pointer text-sm font-medium transition-colors">choose image</label></div></div></div><div><label class="block text-sm font-medium text-gray-300 mb-2">title</label><input type=text class="w-full bg-gray-800 text-white px-4 py-3 border border-gray-600 focus:border-magenta-500 focus:ring-1 focus:ring-magenta-500 focus:outline-none transition-colors"placeholder="song title"></div><div><label class="block text-sm font-medium text-gray-300 mb-2">artist</label><input type=text class="w-full bg-gray-800 text-white px-4 py-3 border border-gray-600 focus:border-magenta-500 focus:ring-1 focus:ring-magenta-500 focus:outline-none transition-colors"placeholder="artist name"></div><div><label class="block text-sm font-medium text-gray-300 mb-2">album</label><input type=text class="w-full bg-gray-800 text-white px-4 py-3 border border-gray-600 focus:border-magenta-500 focus:ring-1 focus:ring-magenta-500 focus:outline-none transition-colors"placeholder="album name"></div><div class="bg-gray-800 p-4"><h3 class="text-sm font-medium text-gray-300 mb-2">file information</h3><div class="text-sm text-gray-400 space-y-1"><div>filename: </div><div>duration: </div></div></div></div><div class="flex items-center justify-end gap-3 p-6 border-t border-gray-700"><button class="px-4 py-2 text-gray-400 hover:text-white disabled:text-gray-600 font-medium transition-colors">cancel</button><button class="px-6 py-2 bg-magenta-500 hover:bg-magenta-600 disabled:bg-magenta-400 text-white font-medium transition-colors flex items-center gap-2">'),vs=ee('<svg class="w-8 h-8 text-gray-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3">'),bs=ee('<div class="w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin">');function ws(e){const[n,t]=re(""),[l,o]=re(""),[i,a]=re(""),[r,c]=re(),[m,y]=re(),[p,_]=re(),[u,w]=re(),[f,h]=re(!1),[g,b]=re(null);bt(()=>{if(e.isOpen&&e.song&&(t(e.song.title),o(e.song.artist||""),a(e.song.album||""),(e.song.imageData||e.song.thumbnailData)&&e.song.imageType)){c(e.song.imageData),y(e.song.thumbnailData),_(e.song.imageType);const z=e.song.imageData||e.song.thumbnailData;if(!z)return;const M=Je(z,e.song.imageType);w(M)}});const S=async z=>{const A=z.target.files?.[0];if(!A)return;const D=jr(A);if(!D.valid){b(D.error||"invalid image file");return}try{h(!0),b(null);const V=await zn(A);if(V.success&&V.imageData&&V.thumbnailData){const k=u();k&&URL.revokeObjectURL(k),c(V.imageData),y(V.thumbnailData),_(A.type);const P=Je(V.imageData,A.type);w(P)}else b(V.error||"failed to process image")}catch(V){b("error uploading image"),console.error("image upload error:",V)}finally{h(!1)}},I=async()=>{if(!n().trim()){b("Title is required");return}try{h(!0),b(null);const z={title:n().trim(),artist:l().trim()||"Unknown Artist",album:i().trim()||"Unknown Album",imageData:r(),thumbnailData:m(),imageType:p(),updatedAt:Date.now()};await Er(e.song.id,z);const M={...e.song,...z};e.onSave(M),e.onClose()}catch(z){b("failed to save"),console.error("Save error:",z)}finally{h(!1)}},$=()=>{const z=u();z&&URL.revokeObjectURL(z),b(null),e.onClose()},B=()=>{const z=u();z&&URL.revokeObjectURL(z),c(void 0),y(void 0),_(void 0),w(void 0)};return Ve(()=>{if(e.isOpen){const z=M=>{M.key==="Escape"&&$()};document.addEventListener("keydown",z),Ke(()=>document.removeEventListener("keydown",z))}}),e.isOpen?(()=>{var z=ys(),M=z.firstChild,A=M.firstChild,D=A.firstChild,V=D.nextSibling,k=A.nextSibling,P=k.firstChild,d=P.firstChild,j=d.nextSibling,se=j.firstChild,W=se.nextSibling,de=W.firstChild;de.nextSibling;var G=P.nextSibling,ae=G.firstChild,F=ae.nextSibling,O=G.nextSibling,J=O.firstChild,X=J.nextSibling,Y=O.nextSibling,ge=Y.firstChild,pe=ge.nextSibling,fe=Y.nextSibling,me=fe.firstChild,xe=me.nextSibling,_e=xe.firstChild;_e.firstChild;var le=_e.nextSibling;le.firstChild;var $e=k.nextSibling,s=$e.firstChild,R=s.nextSibling;return V.$$click=$,Z(se,ie(oe,{get when(){return u()},get fallback(){return vs()},get children(){var E=us();return we(()=>Pe(E,"src",u())),E}})),de.addEventListener("change",S),Z(W,ie(oe,{get when(){return r()},get children(){var E=fs();return E.$$click=B,we(()=>E.disabled=f()),E}}),null),F.$$input=E=>t(E.currentTarget.value),X.$$input=E=>o(E.currentTarget.value),pe.$$input=E=>a(E.currentTarget.value),Z(_e,()=>e.song.originalFilename||"Unknown",null),Z(xe,ie(oe,{get when(){return e.song.fileSize},get children(){var E=hs(),x=E.firstChild,v=x.nextSibling;return v.nextSibling,Z(E,()=>Math.round(e.song.fileSize/1024/1024*100)/100,v),E}}),le),Z(le,()=>_s(e.song.duration),null),Z(xe,ie(oe,{get when(){return e.song.sha},get children(){var E=gs();return E.firstChild,Z(E,()=>e.song.sha,null),E}}),null),Z(k,ie(oe,{get when(){return g()},get children(){var E=ps(),x=E.firstChild;return Z(x,g),E}}),null),s.$$click=$,R.$$click=I,Z(R,ie(oe,{get when(){return!f()},get fallback(){return bs()},get children(){return ms()}}),null),Z(R,()=>f()?"saving...":"save changes",null),we(E=>{var x=f(),v=f(),T=f(),q=f(),K=f(),U=f(),Q=f()||!n().trim();return x!==E.e&&(V.disabled=E.e=x),v!==E.t&&(de.disabled=E.t=v),T!==E.a&&(F.disabled=E.a=T),q!==E.o&&(X.disabled=E.o=q),K!==E.i&&(pe.disabled=E.i=K),U!==E.n&&(s.disabled=E.n=U),Q!==E.s&&(R.disabled=E.s=Q),E},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0}),we(()=>F.value=n()),we(()=>X.value=l()),we(()=>pe.value=i()),z})():null}function _s(e){if(!e||isNaN(e))return"0:00";const n=Math.floor(e/60),t=Math.floor(e%60);return`${n}:${t.toString().padStart(2,"0")}`}_t(["click","input"]);var xs=ee('<img alt="playlist cover"class="w-full h-full object-cover">'),ks=ee('<button class="block w-full px-4 py-3 bg-gray-600 hover:bg-gray-700 disabled:bg-gray-400 text-white font-medium transition-colors">use album art from songz (<!> available)'),Ss=ee('<button class="block w-full px-4 py-3 bg-red-600 hover:bg-red-700 disabled:bg-red-400 text-white font-medium transition-colors">remove cover image'),$s=ee('<p class="text-sm text-gray-400 mt-2 text-center">+<!> more imagez available'),Cs=ee('<div><div class="grid grid-cols-4 gap-3">'),Es=ee('<svg class="w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z">'),As=ee('<button class="block w-full px-4 py-3 bg-green-600 hover:bg-green-700 disabled:bg-green-400 text-white font-medium transition-colors flex items-center justify-center gap-2">'),Is=ee('<button class="block w-full px-4 py-3 bg-red-600 hover:bg-red-700 disabled:bg-red-400 text-white font-medium transition-colors flex items-center justify-center gap-2"><svg class="w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg>delete playlist'),zs=ee('<div class="bg-red-900 bg-opacity-30 border border-red-500 p-3"><div class="text-red-400 text-sm">'),Ts=ee('<svg class="w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M5 13l4 4L19 7">'),Ds=ee('<div class="fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4"><div class="bg-gray-900 shadow-2xl max-w-lg w-full max-h-[90vh] overflow-y-auto"><div class="flex items-center justify-between p-6 border-b border-gray-700"><h2 class="text-xl font-bold text-white font-mono">cover<span class=text-magenta-500>z</span></h2><button class="text-gray-400 hover:text-white p-1 rounded"><svg class="w-6 h-6"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M6 18L18 6M6 6l12 12"></path></svg></button></div><div class="p-6 space-y-6"><div><div class="w-48 h-48 mx-auto overflow-hidden bg-gray-700 flex items-center justify-center"></div></div><div class=space-y-4><div><input type=file accept=image/* class=hidden id=cover-upload><label for=cover-upload class="block w-full px-4 py-3 bg-magenta-500 hover:bg-magenta-600 disabled:bg-magenta-400 text-white cursor-pointer text-center font-medium transition-colors">upload image</label></div></div><div class="bg-gray-800 p-4"><h3 class="text-sm font-medium text-gray-300 mb-2">playlist information</h3><div class="text-sm text-gray-400 space-y-1"><div>title: </div><div>id: </div><div>rev: </div><div>songz: </div><div>with album art: </div></div></div><div class=space-y-3></div></div><div class="flex items-center justify-end gap-3 p-6 border-t border-gray-700"><button class="px-4 py-2 text-gray-400 hover:text-white disabled:text-gray-600 font-medium transition-colors">close</button><button class="px-6 py-2 bg-magenta-500 hover:bg-magenta-600 disabled:bg-magenta-400 text-white font-medium transition-colors flex items-center gap-2">'),Ps=ee('<div class=text-center><svg class="w-16 h-16 text-gray-400 mx-auto mb-2"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3"></path></svg><p class="text-gray-400 text-sm">no cover image'),Ls=ee('<img class="w-full h-full object-cover">'),Us=ee('<button class="aspect-square overflow-hidden bg-gray-700 hover:ring-2 hover:ring-magenta-500 transition-all">'),Os=ee('<div class="w-full h-full flex items-center justify-center"><svg class="w-6 h-6 text-gray-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3">'),or=ee('<div class="w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin">'),Fs=ee('<div class="bg-red-900 bg-opacity-30 border border-red-500 p-4 space-y-3"><p class="text-red-400 text-sm">are you sure you want to delete this playlist? this action cannot be undone.</p><div class="flex gap-2"><button class="flex-1 px-4 py-2 bg-red-600 hover:bg-red-700 disabled:bg-red-400 text-white font-medium transition-colors">yes, delete</button><button class="flex-1 px-4 py-2 bg-gray-600 hover:bg-gray-700 disabled:bg-gray-400 text-white font-medium transition-colors">cancel');function Bs(e){const[n,t]=re(),[l,o]=re(),[i,a]=re(),[r,c]=re(),[m,y]=re(!1),[p,_]=re(null),[u,w]=re(!1),[f,h]=re(!1);bt(()=>{if(e.isOpen&&e.playlist&&e.playlist.imageData&&e.playlist.imageType){t(e.playlist.imageData),o(e.playlist.thumbnailData),a(e.playlist.imageType);const A=e.playlist.thumbnailData||e.playlist.imageData,D=Je(A,e.playlist.imageType);c(D)}});const g=async A=>{const V=A.target.files?.[0];if(!V)return;const k=jr(V);if(!k.valid){_(k.error||"invalid image file");return}try{y(!0),_(null);const P=await zn(V);if(P.success&&P.thumbnailData&&P.imageData){const d=r();d&&URL.revokeObjectURL(d),t(P.imageData),o(P.thumbnailData),a(V.type);const j=Je(P.thumbnailData,V.type);c(j)}else _(P.error||"failed to process image")}catch(P){_("error uploading image"),console.error("Image upload error:",P)}finally{y(!1)}},b=()=>{},S=async()=>{w(!0);try{await Vr(e.playlist,{includeMetadata:!0,includeImages:!0,generateM3U:!0,includeHTML:!0})}catch(A){_("failed to download playlist"),console.error("Download error:",A)}finally{w(!1)}},I=async()=>{try{y(!0),_(null),await Cr(e.playlist.id),h(!1),e.onDelete?.(),e.onClose()}catch(A){_("failed to delete playlist"),console.error("Delete error:",A)}finally{y(!1)}},$=async()=>{try{y(!0),_(null);const A={imageData:n(),thumbnailData:l(),imageType:i(),updatedAt:Date.now()};await wn(e.playlist.id,A);const{image:D,...V}=e.playlist,k={...V,...A};e.onSave(k),e.onClose()}catch(A){_("failed to save"),console.error("Save error:",A)}finally{y(!1)}},B=()=>{const A=r();A&&URL.revokeObjectURL(A),_(null),h(!1),e.onClose()},z=()=>{const A=r();A&&URL.revokeObjectURL(A),t(void 0),o(void 0),a(void 0),c(void 0)};if(Ve(()=>{if(e.isOpen){const A=D=>{D.key==="Escape"&&B()};document.addEventListener("keydown",A),Ke(()=>document.removeEventListener("keydown",A))}}),!e.isOpen)return null;const M=e.playlistSongs.filter(A=>A.imageType&&(A.imageData||A.thumbnailData));return(()=>{var A=Ds(),D=A.firstChild,V=D.firstChild,k=V.firstChild,P=k.nextSibling,d=V.nextSibling,j=d.firstChild,se=j.firstChild,W=j.nextSibling,de=W.firstChild,G=de.firstChild,ae=W.nextSibling,F=ae.firstChild,O=F.nextSibling,J=O.firstChild;J.firstChild;var X=J.nextSibling;X.firstChild;var Y=X.nextSibling;Y.firstChild;var ge=Y.nextSibling;ge.firstChild;var pe=ge.nextSibling;pe.firstChild;var fe=ae.nextSibling,me=d.nextSibling,xe=me.firstChild,_e=xe.nextSibling;return P.$$click=B,Z(se,ie(oe,{get when(){return r()},get fallback(){return Ps()},get children(){var le=xs();return we(()=>Pe(le,"src",r())),le}})),G.addEventListener("change",g),Z(W,ie(oe,{get when(){return!1},get children(){var le=ks(),$e=le.firstChild,s=$e.nextSibling;return s.nextSibling,le.$$click=b,Z(le,()=>M.length,s),we(()=>le.disabled=m()),le}}),null),Z(W,ie(oe,{get when(){return n()},get children(){var le=Ss();return le.$$click=z,we(()=>le.disabled=m()),le}}),null),Z(d,ie(oe,{get when(){return M.length>0},get children(){var le=Cs(),$e=le.firstChild;return Z($e,()=>M.slice(0,8).map(s=>(()=>{var R=Us();return R.$$click=()=>{},Z(R,ie(oe,{get when(){return s.imageType&&(s.imageData||s.thumbnailData)},get fallback(){return Os()},get children(){var E=Ls();return we(x=>{var v=Je(s.thumbnailData||s.imageData,s.imageType),T=s.title;return v!==x.e&&Pe(E,"src",x.e=v),T!==x.t&&Pe(E,"alt",x.t=T),x},{e:void 0,t:void 0}),E}})),we(E=>{var x=m(),v=`${s.title} - ${s.artist}`;return x!==E.e&&(R.disabled=E.e=x),v!==E.t&&Pe(R,"title",E.t=v),E},{e:void 0,t:void 0}),R})())),Z(le,ie(oe,{get when(){return M.length>8},get children(){var s=$s(),R=s.firstChild,E=R.nextSibling;return E.nextSibling,Z(s,()=>M.length-8,E),s}}),null),le}}),ae),Z(J,()=>e.playlist.title,null),Z(X,()=>e.playlist.id,null),Z(Y,()=>e.playlist.rev||0,null),Z(ge,()=>e.playlist.songIds.length,null),Z(pe,()=>M.length,null),Z(fe,ie(oe,{get when(){return window.location.protocol!=="file:"},get children(){var le=As();return le.$$click=S,Z(le,ie(oe,{get when(){return!u()},get fallback(){return or()},get children(){return Es()}}),null),Z(le,()=>u()?"downloading...":"download playlist",null),we(()=>le.disabled=u()||m()),le}}),null),Z(fe,ie(oe,{get when(){return!f()},get fallback(){return(()=>{var le=Fs(),$e=le.firstChild,s=$e.nextSibling,R=s.firstChild,E=R.nextSibling;return R.$$click=I,E.$$click=()=>h(!1),we(x=>{var v=m(),T=m();return v!==x.e&&(R.disabled=x.e=v),T!==x.t&&(E.disabled=x.t=T),x},{e:void 0,t:void 0}),le})()},get children(){var le=Is();return le.$$click=()=>h(!0),we(()=>le.disabled=m()),le}}),null),Z(d,ie(oe,{get when(){return p()},get children(){var le=zs(),$e=le.firstChild;return Z($e,p),le}}),null),xe.$$click=B,_e.$$click=$,Z(_e,ie(oe,{get when(){return!m()},get fallback(){return or()},get children(){return Ts()}}),null),Z(_e,()=>m()?"saving...":"save cover",null),we(le=>{var $e=m(),s=m(),R=m()||u(),E=m()||u();return $e!==le.e&&(P.disabled=le.e=$e),s!==le.t&&(G.disabled=le.t=s),R!==le.a&&(xe.disabled=le.a=R),E!==le.o&&(_e.disabled=le.o=E),le},{e:void 0,t:void 0,a:void 0,o:void 0}),A})()}_t(["click"]);const[nt,Xe]=re(null),xt=new Set;function Yr(e,n,t,l,o,i="audio/mpeg"){const a={id:e.id,title:e.title,artist:e.artist,album:e.album,duration:e.duration,position:n,mimeType:i,originalFilename:e.originalFilename,fileSize:e.fileSize,audioData:o,blobUrl:void 0,file:void 0,imageData:void 0,thumbnailData:void 0,imageType:void 0,createdAt:Date.now(),updatedAt:Date.now(),playlistId:t,standaloneFilePath:l,needsImageLoad:!0,imageFilePath:"",sha:e.sha};return e.imageExtension&&e.imageMimeType&&(a.imageType=e.imageMimeType,a.needsImageLoad=!0,a.imageFilePath=`data/${e.safeFilename?.replace(/\.[^.]+$/,"")||e.originalFilename?.replace(/\.[^.]+$/,"")}-cover${e.imageExtension}`),a}async function Rs(e,n,t){const l={id:t.playlist.id,title:t.playlist.title,description:t.playlist.description,rev:t.playlist.rev||0,songIds:[],imageData:void 0,thumbnailData:void 0,imageType:void 0,needsImageLoad:!0,imageFilePath:void 0};t.playlist.imageExtension&&t.playlist.imageMimeType&&(l.imageType=t.playlist.imageMimeType,l.needsImageLoad=!0,l.imageFilePath=`data/playlist-cover${t.playlist.imageExtension}`);const o={...l,createdAt:e?.createdAt||Date.now(),updatedAt:Date.now(),songIds:[]};await Ue({dbName:De,storeName:Le,key:o.id,updateFn:()=>o});const i=[],a=[];for(let r=0;r<t.songs.length;r++){const c=t.songs[r],m=`data/${c.safeFilename||c.originalFilename}`;Xe({current:r+1,total:t.songs.length,currentSong:c.title,phase:"reloading"});const y=n.find(_=>_.id===c.id);let p;y&&y.sha&&c.sha&&y.sha===c.sha?(p={...y,title:c.title,artist:c.artist,album:c.album,duration:c.duration,position:r,originalFilename:c.originalFilename,fileSize:c.fileSize,mimeType:c.mimeType||y.mimeType,standaloneFilePath:m,updatedAt:Date.now(),sha:c.sha},c.imageExtension&&c.imageMimeType&&(p.imageType=c.imageMimeType,p.needsImageLoad=!0,p.imageFilePath=`data/${c.safeFilename?.replace(/\.[^.]+$/,"")||c.originalFilename?.replace(/\.[^.]+$/,"")}-cover${c.imageExtension}`)):p=Yr(c,r,o.id,m,void 0,c.mimeType||"audio/mpeg"),i.push(p),a.push(p.id),await Ue({dbName:De,storeName:ke,key:p.id,updateFn:()=>p})}return o.songIds=a,await Ue({dbName:De,storeName:Le,key:o.id,updateFn:()=>o}),{playlist:o,songs:i}}async function Ms(e){const n={id:e.playlist.id,title:e.playlist.title,description:e.playlist.description,songIds:[],imageData:void 0,thumbnailData:void 0,imageType:void 0,needsImageLoad:!0,imageFilePath:void 0};e.playlist.imageExtension&&e.playlist.imageMimeType&&(n.imageType=e.playlist.imageMimeType,n.needsImageLoad=!0,n.imageFilePath=`data/playlist-cover${e.playlist.imageExtension}`);const t={...n,id:e.playlist.id,createdAt:Date.now(),updatedAt:Date.now(),rev:e.playlist.rev||0,songIds:[]};await Ue({dbName:De,storeName:Le,key:t.id,updateFn:()=>t});const l=[],o=[];for(let i=0;i<e.songs.length;i++){const a=e.songs[i],r=`data/${a.safeFilename||a.originalFilename}`,c=Yr(a,i,t.id,r,void 0,a.mimeType||"audio/mpeg");l.push(c),o.push(c.id)}t.songIds=o,await Ue({dbName:De,storeName:Le,key:t.id,updateFn:()=>t});for(const i of l)await Ue({dbName:De,storeName:ke,key:i.id,updateFn:()=>i});return{playlist:t,songs:l}}async function lr(e,n){try{if(!e||!e.playlist||!e.songs){console.error("Error initializing standalone playlist: Invalid playlist data"),n.setError("Invalid playlist data provided");return}if(!n.setError||typeof n.setError!="function")throw new Error("callbacks.setError is not a function");if(!n.setPlaylistSongs||typeof n.setPlaylistSongs!="function")throw new Error("callbacks.setPlaylistSongs is not a function");Xe({current:0,total:e.songs.length,currentSong:"initializing...",phase:"initializing"});let t;try{t=await Oe()}catch(r){console.error("Error initializing standalone playlist:",r),n.setError("Failed to load playlist - database setup failed");return}const l=await t.get(Le,e.playlist.id);let o,i;if(l){const r=l.rev||0;if((e.playlist.rev||0)>r){const p=(await t.getAll(ke)).filter(w=>w.playlistId===l.id);Xe({current:0,total:e.songs.length,currentSong:"updating playlist revision...",phase:"reloading"});const{playlist:_,songs:u}=await Rs(l,p,e);o=_,i=u}else{const p=(await t.getAll(ke)).filter(_=>_.playlistId===l.id);o=l,i=p}}else{const{playlist:r,songs:c}=await Ms(e);o=r,i=c}const a=i.filter(r=>!r.audioData&&!r.standaloneFilePath);a.length>0&&(console.warn(`   ⚠️ ${a.length} songs failed to load audio data:`),a.forEach(r=>console.warn(`      - ${r.title}`)),a.length===i.length&&window.location.protocol!=="file:"?n.setError("All songs failed to load. This usually means the audio files are missing or the playlist needs to be served from a web server."):a.length>0&&window.location.protocol),n.setSelectedPlaylist(o),n.setPlaylistSongs(i),setTimeout(()=>Xe(null),500),setTimeout(()=>Ns(o,i,n),1e3)}catch(t){console.error("Error initializing standalone playlist:",t),n.setError("Failed to load standalone playlist"),Xe(null)}}async function js(e){try{const t=await(await Oe()).get(ke,e);if(!t)return console.error(`Song ${e} not found in database`),!1;if(t.audioData&&t.audioData.byteLength>0)return!0;if(!t.standaloneFilePath)return console.error(`Song ${e} has no standalone file path`),!1;if(window.location.protocol==="file:")return!0;const l=await fetch(t.standaloneFilePath);if(!l.ok)throw new Error(`Failed to fetch: ${l.status} ${l.statusText}`);const o=await l.arrayBuffer(),i={...t,audioData:o,mimeType:t.mimeType||"audio/mpeg",updatedAt:Date.now()};return await Ue({dbName:De,storeName:ke,key:e,updateFn:()=>i}),!0}catch(n){return console.error(`Error loading standalone song audio data for ${e}:`,n),!1}}async function cr(e){try{const t=await(await Oe()).get(ke,e.id);return t?window.location.protocol==="file:"?!1:!t.audioData||t.audioData.byteLength===0:!0}catch(n){return console.error(`Error checking song audio data status for ${e.id}:`,n),!0}}async function Ns(e,n,t){if(window.location.protocol!=="file:")try{if(e.needsImageLoad&&e.imageFilePath&&!e.imageData){const o=await dr(e,!0);o&&t.setSelectedPlaylist(o)}let l=!1;for(const o of n)o.needsImageLoad&&o.imageFilePath&&!o.imageData&&await dr(o,!1)&&(l=!0);if(l)try{const a=(await(await Oe()).getAll(ke)).filter(r=>e.songIds.includes(r.id)).sort((r,c)=>{const m=e.songIds.indexOf(r.id),y=e.songIds.indexOf(c.id);return m-y});t.setPlaylistSongs(a)}catch(o){console.warn("Error refreshing playlist songs after image loading:",o)}}catch(l){console.warn("Error loading standalone images:",l)}}async function dr(e,n){try{if(e.imageData&&e.imageData.byteLength>0)return;if(xt.has(e.imageFilePath))return null;xt.add(e.imageFilePath);const t=await fetch(e.imageFilePath);if(!t.ok)return console.warn(`Failed to load image: ${e.imageFilePath}`),xt.delete(e.imageFilePath),null;const l=await t.arrayBuffer(),o={...e,imageData:l,needsImageLoad:!1,updatedAt:Date.now()};return await Ue({dbName:De,storeName:n?Le:ke,key:e.id,updateFn:()=>o}),n||Xt({songId:e.id,type:"edit",specificOnly:!0}),xt.delete(e.imageFilePath),o}catch(t){return console.warn(`Error loading image for ${e.id}:`,t),xt.delete(e.imageFilePath),null}}function Ws(){Xe(null)}var Zs=ee('<svg class="w-6 h-6 animate-spin"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15">'),Hs=ee("<button>"),Vs=ee('<svg class="w-8 h-8"fill=currentColor viewBox="0 0 20 20"><path fill-rule=evenodd d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zM7 8a1 1 0 012 0v4a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v4a1 1 0 102 0V8a1 1 0 00-1-1z"clip-rule=evenodd>'),qs=ee('<svg class="w-8 h-8 ml-0.5"fill=currentColor viewBox="0 0 20 20"><path fill-rule=evenodd d="M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z"clip-rule=evenodd>');function Gs(e){const n=async()=>{try{const l=Ee.currentSong(),o=Ee.playlistQueue();l?await zt():o.length>0?await Jn(0):e.playlist&&e.playlist.songIds.length>0&&(await Br(e.playlist),await Jn(0))}catch(l){console.error("Error in AudioPlayer:",l)}},t=()=>{const l=Ee.currentSong();return l&&Ee.loadingSongIds().has(l.id)};return(()=>{var l=Hs();return l.$$click=n,Z(l,ie(oe,{get when(){return t()},get fallback(){return ie(oe,{get when(){return Ee.isPlaying()},get fallback(){return qs()},get children(){return Vs()}})},get children(){return Zs()}})),we(()=>Se(l,`inline-flex items-center justify-center ${e.size||"w-12 h-12"} bg-magenta-500 hover:bg-magenta-600 disabled:bg-gray-600 disabled:cursor-not-allowed rounded-full text-white transition-colors mx-2`)),l})()}_t(["click"]);var Ks=ee('<div class="absolute inset-0 bg-cover bg-top bg-no-repeat transition-opacity duration-1000 ease-out">'),Ys=ee('<div class="absolute inset-0 bg-black/20">'),Js=ee('<div class="absolute inset-0 opacity-5">'),Xs=ee('<div class="fixed bottom-0 left-0 right-0 bg-gray-900/95 backdrop-blur-sm border-t border-gray-700 p-3"><div class="max-w-4xl mx-auto"><div class="flex items-center gap-4"><div class=w-1/2><div class="flex items-center justify-between text-xs text-gray-300 mb-1"><span></span><span> / </span></div><div class="w-full bg-gray-700 rounded-full h-1.5"><div class="bg-magenta-500 h-1.5 rounded-full transition-all duration-300"></div></div></div><div class="text-right min-w-0 flex-1"><div class="text-xs text-gray-300 truncate max-w-48"></div><div class="text-xs text-gray-500">'),Qs=ee("<div><div><div></div></div><div>"),eo=ee('<div class="fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 backdrop-blur-sm"><div class=text-center><div class="text-4xl mb-6 font-bold">drop zone</div><h2 class="text-4xl font-light mb-4 text-magenta-400">drop your filez here</h2><p class="text-xl text-gray-300">release to add filez to '),to=ee('<div class="fixed top-4 right-4 z-50"><div class="bg-red-500 text-white px-6 py-3 shadow-lg max-w-sm"><div class="flex items-center"><div class=flex-shrink-0><svg class="w-5 h-5"fill=currentColor viewBox="0 0 20 20"><path fill-rule=evenodd d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z"clip-rule=evenodd></path></svg></div><div class=ml-3><p class="text-sm font-medium"></p></div><div class="ml-4 flex-shrink-0"><button class="text-white hover:text-gray-200 focus:outline-none">×'),no=ee('<div class="fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50"><button class="absolute top-6 right-4 z-51 hover:text-magenta-500"title="close (ESC)"><svg class="w-8 h-8"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M6 18L18 6M6 6l12 12">'),ro=ee('<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"><div class="bg-gray-800 p-6 border border-gray-600 max-w-md w-full mx-4"><h3 class="text-lg font-semibold text-white mb-4">delete playlist</h3><p class="text-gray-300 mb-6">are you sure you want to delete "<!>"? no take-backz!</p><div class="flex justify-end gap-3"><button class="px-4 py-2 text-gray-300 hover:text-white bg-gray-700 hover:bg-gray-600 rounded transition-colors">cancel</button><button class="px-4 py-2 text-white bg-red-600 hover:bg-red-700 rounded transition-colors">delete'),io=ee('<div><div><button class="p-2 text-magenta-200 hover:text-magenta-500 hover:bg-gray-800 transition-colors bg-black bg-opacity-80"><svg fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M9 5l7 7-7 7">'),ao=ee('<div class="flex items-center justify-center h-full"><div class=text-center><div class="inline-block animate-spin rounded-full h-8 w-8 mb-4"></div><p class=text-lg>loading playlistz...'),so=ee('<button class="p-2 text-gray-400 hover:text-magenta-400 hover:bg-gray-700 transition-colors bg-black bg-opacity-80 disabled:opacity-50 disabled:cursor-not-allowed"title="download songz for offline use">'),oo=ee('<svg class="w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z">'),lo=ee('<button class="p-2 text-gray-400 hover:text-green-400 hover:bg-gray-700 transition-colors bg-black bg-opacity-80 disabled:opacity-50 disabled:cursor-not-allowed"title="download playlist as zip">'),co=ee(`<div><div><div><button class="w-full h-full overflow-hidden hover:bg-gray-900 flex items-center justify-center transition-colors group"title="view playlist images"></button></div><div class="flex items-center gap-4 w-full"><div class=flex-1><div class="bg-black bg-opacity-80"><input type=text class="text-3xl font-bold text-white bg-transparent border-none outline-none focus:bg-gray-800 px-2 py-1 rounded w-full"placeholder="playlist title"></div><div class="bg-black bg-opacity-80"><input type=text placeholder="add description..."class="text-white bg-transparent border-none focus:bg-gray-800 px-2 py-1 rounded w-full"></div><div class="grid gap-3"style="grid-template-columns:auto 1fr;grid-template-areas:'player info' 'player buttons';"><div class="flex items-center justify-center"style=grid-area:player;></div><div id=song-info class="flex items-center justify-end text-sm gap-0"style=grid-area:info;><span class="bg-black bg-opacity-80 p-2"> song</span><span class="bg-black bg-opacity-80 p-2"></span></div><div class="flex items-center justify-end gap-2"style=grid-area:buttons;><button class="p-2 text-gray-400 hover:text-white hover:bg-gray-700 transition-colors bg-black bg-opacity-80"title="change playlist cover"><svg class="w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg></button><button class="p-2 text-gray-400 hover:text-red-400 hover:bg-gray-700 transition-colors bg-black bg-opacity-80"title="delete playlist"><svg class="w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg></button></div></div></div></div><div><button class="w-39 h-39 overflow-hidden hover:bg-gray-900 flex items-center justify-center transition-colors group"style="filter:blur(2px) contrast(2) brightness(0.9);"title="view playlist imagez"></button></div></div><div><div>`),Rt=ee('<div class=text-center><svg width=100 height=100 viewBox="0 0 100 100"fill=none xmlns=http://www.w3.org/2000/svg><path d="M50 81L25 31L75 31L60.7222 68.1429L50 81Z"fill=#FF00FF>'),ur=ee('<img alt="playlist cover"class="w-full h-full object-cover">'),fr=ee('<svg class="w-4 h-4 animate-spin"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15">'),uo=ee('<div class="text-center py-16"><div class="text-gray-400 text-xl mb-4">no songz yet</div><p class="text-gray-400 mb-4">drag and drop audio filez (or a .zip file!) here to add them to this playlist</p><div class="text-xs text-gray-500 space-y-1"><div>playlist id: </div><div>supported formatz: mp3, wav, flac, aiff, ogg, mp4'),fo=ee('<div class="text-white text-center"><p class="text-lg mb-2">no imagez available</p><p class="text-sm text-gray-400">add a playlist cover or songz with album art'),ho=ee('<div class="relative w-full h-full flex items-center justify-center p-4"><button class="absolute inset-0 cursor-pointer z-50"title="next image"></button><img class="w-full h-full object-contain pointer-events-none"><div class="absolute top-4 right-16 text-white text-center bg-black bg-opacity-50 p-3"><div class="text-sm font-medium"> '),go=ee('<span class="text-xs text-gray-300 mt-1">(<!> of <!>)');typeof window<"u"&&window.STANDALONE_MODE&&(window.initializeStandalonePlaylist=function(e){window.DEFERRED_PLAYLIST_DATA=e});function po(){const[e,n]=re(null),[t,l]=re(!1),[o,i]=re(!1),[a,r]=re(null),[c,m]=re(window.STANDALONE_MODE||!1),[y,p]=re(!1),[_,u]=re(null),[w,f]=re(null),[h,g]=re(!1),[b,S]=re(!1),[I,$]=re(!1),[B,z]=re([]);let M=null;const[A,D]=re(0),[V,k]=re(!1),[P,d]=re(!1),[j,se]=re(!1),[W,de]=re([]);bt(()=>{const L=Bi().subscribe(H=>{de([...H]);const ne=e();if(ne){const N=H.find(te=>te.id===ne.id);N&&n(N)}});Ke(L)}),Ve(()=>{const C=e();M&&(M(),M=null),C&&C.songIds.length>0?M=Ri(C.id).subscribe(H=>{const ne=H.sort((N,te)=>{const be=C.songIds.indexOf(N.id),he=C.songIds.indexOf(te.id);return be-he});z(ne)}):z([]),Ke(()=>{M&&M()})});const[G]=re(new Map);Ve(()=>{const C=Ee.currentSong(),L=Ee.currentPlaylist(),H=e(),ne=G();let N=null,te=null;C?.imageType?(te=`song-${C.id}`,ne.has(te)?N=ne.get(te):(N=Ge(C,"background"),N&&ne.set(te,N))):C&&L?.imageType?(te=`playlist-${L.id}`,ne.has(te)?N=ne.get(te):(N=Ge(L,"background"),N&&ne.set(te,N))):H?.imageType&&(te=`playlist-${H.id}`,ne.has(te)?N=ne.get(te):(N=Ge(H,"background"),N&&ne.set(te,N))),_()!==N&&u(N)}),Ve(()=>{if(a()){const L=setTimeout(()=>r(null),5e3);return()=>clearTimeout(L)}}),bt(async()=>{window.initializeStandalonePlaylist=C=>{lr(C,{setSelectedPlaylist:n,setPlaylistSongs:z,setSidebarCollapsed:m,setError:r})},window.DEFERRED_PLAYLIST_DATA&&(await lr(window.DEFERRED_PLAYLIST_DATA,{setSelectedPlaylist:n,setPlaylistSongs:z,setSidebarCollapsed:m,setError:r}),delete window.DEFERRED_PLAYLIST_DATA);try{await Oe();try{const L=e();await Ta(L?.title,L||void 0)}catch(L){console.warn("offline support initialization failed:",L)}i(!0);const C=()=>{const L=window.innerWidth<900;p(L),L&&e()&&m(!0)};C(),window.addEventListener("resize",C),Ke(()=>{window.removeEventListener("resize",C),Ws()})}catch(C){r(C instanceof Error?C.message:"failed to initialize")}}),Ve(()=>{const C=e();C&&Ia(C.title,C)});const ae=C=>{b()?C.key==="Escape"?S(!1):C.key==="ArrowLeft"?(C.preventDefault(),x()):C.key==="ArrowRight"&&(C.preventDefault(),E()):I()&&C.key==="Escape"&&$(!1)};Ve(()=>{(b()||I())&&(document.addEventListener("keydown",ae),Ke(()=>document.removeEventListener("keydown",ae)))}),Ke(()=>{ra(),ba();const C=G();C.forEach(H=>{H.startsWith("blob:")&&URL.revokeObjectURL(H)}),C.clear();const L=_();L&&L.startsWith("blob:")&&URL.revokeObjectURL(L)});const F=C=>{if(!C)return{type:"unknown",hasAudio:!1};const L=Array.from(C.items||[]),H=Array.from(C.files||[]);return L.some(te=>te.type==="text/plain")?{type:"song-reorder",hasAudio:!1}:H.filter(te=>te.type.startsWith("audio/")).length>0?{type:"audio-files",hasAudio:!0}:H.length>0?{type:"non-audio-files",hasAudio:!1}:{type:"unknown",hasAudio:!1}},O=C=>{C.preventDefault(),C.stopPropagation(),F(C.dataTransfer).type==="audio-files"&&l(!0)},J=C=>{C.preventDefault(),C.stopPropagation()},X=C=>{C.preventDefault(),C.stopPropagation(),C.target===C.currentTarget&&l(!1)},Y=async C=>{C.preventDefault(),C.stopPropagation(),l(!1);const L=F(C.dataTransfer);if(L.type==="song-reorder")return;const H=C.dataTransfer?.files;if(!H)return;const ne=Array.from(H).filter(te=>te.type==="application/zip"||te.name.toLowerCase().endsWith(".zip"));if(ne.length>0)try{for(const te of ne){const{playlist:be,songs:he}=await Sa(te);if(W().find(ce=>ce.title===be.title&&ce.songIds.length===he.length)){r(`playlist "${be.title}" already existz`),setTimeout(()=>r(null),3e3);continue}const ye=await ln(be);for(const ce of he){const ze=new Blob([ce.audioData],{type:ce.mimeType}),Ce=new File([ze],ce.originalFilename||`${ce.artist} - ${ce.title}`,{type:ce.mimeType});await qn(ye.id,Ce,{title:ce.title,artist:ce.artist,album:ce.album,duration:ce.duration,imageData:ce.imageData,imageType:ce.imageType})}n(ye)}return}catch(te){console.error("error processing ZIP file:",te),r("failed to import playlist from ZIP file"),setTimeout(()=>r(null),3e3);return}const N=ya(H);if(N.length===0){L.type==="non-audio-files"?r("only audio filez and ZIP playlist filez can be added. supported formatz: MP3, WAV, M4A, FLAC, OGG, ZIP"):r("no audio filez or ZIP playlist filez found in the dropped item(z)"),setTimeout(()=>r(null),3e3);return}try{let te=e();te||(te=await ln({title:"new playlist",description:`created from ${N.length} dropped file${N.length>1?"z":""}`,songIds:[]}),n(te));const be=await ma(N),he=be.filter(ce=>ce.success);for(const ce of he)ce.song&&await qn(te.id,ce.song.file,{title:ce.song.title,artist:ce.song.artist,album:ce.song.album,duration:ce.song.duration,imageData:ce.song.imageData,imageType:ce.song.imageType});const ye=W().find(ce=>ce.id===te.id);if(ye&&n(ye),be.some(ce=>!ce.success)){const ce=be.filter(ze=>!ze.success).length;r(`${ce} file${ce>1?"z":""} could not be processed`)}}catch(te){console.error("Error handling dropped files:",te),r("failed to process dropped files")}};Ve(()=>{if(!o())return;const C=document.documentElement;C.addEventListener("dragenter",O),C.addEventListener("dragover",J),C.addEventListener("dragleave",X),C.addEventListener("drop",Y),Ke(()=>{C.removeEventListener("dragenter",O),C.removeEventListener("dragover",J),C.removeEventListener("dragleave",X),C.removeEventListener("drop",Y)})});const ge=async()=>{try{const C=await ln({title:"new playlist",description:"",songIds:[]});n(C),y()&&m(!0)}catch(C){console.error("Error creating playlist:",C),r(C instanceof Error?C.message:"failed to create playlist")}};let pe;const fe=async C=>{const L=e();if(!L)return;const H={...L,...C};n(H),clearTimeout(pe),pe=window.setTimeout(async()=>{try{await wn(L.id,C)}catch(ne){console.error("Failed to save playlist:",ne),r("failed to save changes")}},1e3)},me=async C=>{try{if(Ee.currentSong()?.id===C.id)zt();else{aa(C.id);const H=e();H?await It(C,H):await It(C)}}catch(L){console.error("Error playing song:",L),r("failed to play song")}},xe=async C=>{const L=e();if(L)try{await Ni(L.id,C);const H=Ee.currentPlaylist();if(H&&H.id===L.id){const N=(await Gn()).find(te=>te.id===L.id);N&&await Yn(N)}}catch(H){console.error("Error removing song:",H),r("failed to remove song")}},_e=async C=>{f(C)},le=async C=>{z(H=>H.map(ne=>ne.id===C.id?C:ne));const L=e();if(L&&L.songIds.length>0)try{const ne=(await Gt()).filter(N=>L.songIds.includes(N.id)).sort((N,te)=>{const be=L.songIds.indexOf(N.id),he=L.songIds.indexOf(te.id);return be-he});z(ne)}catch(H){console.error("error refreshing songs:",H)}},$e=C=>{n(C)},s=async(C,L)=>{const H=e();if(H)try{await Fi(H.id,C,L);const N=(await Gn()).find(te=>te.id===H.id);if(N){n(N);const te=Ee.currentPlaylist();te&&te.id===N.id&&await Yn(N)}}catch(ne){console.error("error reordering songs:",ne),r("failed to reorder songz")}},R=()=>{zt()},E=()=>{const C=v();C.length>0&&D(L=>(L+1)%C.length)},x=()=>{const C=v();C.length>0&&D(L=>(L-1+C.length)%C.length)},v=()=>{const C=e(),L=[];if(C?.imageType){const H=Ge(C,"modal");H&&L.push({url:H,title:C.title})}return B().forEach(H=>{if(H.imageType){const ne=Ge(H,"modal");ne&&L.push({url:ne,title:H.title})}}),L},T=async()=>{const C=e();if(C)try{await Cr(C.id),n(null),$(!1)}catch(L){console.error("rrror deleting playlist:",L),r("failed to delete playlist")}},q=async()=>{const C=e();if(C){k(!0);try{await Vr(C,{includeMetadata:!0,includeImages:!0,generateM3U:!0,includeHTML:!0})}catch{r("failed to download playlist")}finally{k(!1)}}},K=async()=>{const C=e();if(C&&C.songIds.length>0)try{const H=(await Gt()).filter(ne=>C.songIds.includes(ne.id)).sort((ne,N)=>{const te=C.songIds.indexOf(ne.id),be=C.songIds.indexOf(N.id);return te-be});z(H)}catch(L){console.error("Error refreshing playlist songs:",L)}},U=async()=>{const C=B();if(C.length===0){se(!1);return}if(window.location.protocol==="file:"){se(!0);return}let L=!0;for(const H of C)if(await cr(H)){L=!1;break}se(L)};Ve(()=>{B().length>0&&U()});const Q=async()=>{const C=e(),L=B();if(!(!C||L.length===0)){d(!0),Xe({current:0,total:L.length,currentSong:"preparing...",phase:"checking"});try{let H=0,ne=0,N=0;const te=L.length;for(let be=0;be<L.length;be++){const he=L[be];if(Xe({current:be+1,total:te,currentSong:he.title,phase:"updating"}),await cr(he))try{if(await js(he.id))N++,H++;else{ne++;continue}}catch{ne++;continue}else H++;if(!window.STANDALONE_MODE){if(he.blobUrl)try{await ir(he.blobUrl,he.title)}catch{}else if(he.audioData)try{const ue=new Blob([he.audioData],{type:he.mimeType||"audio/mpeg"}),ye=URL.createObjectURL(ue);await ir(ye,he.title),URL.revokeObjectURL(ye)}catch{}}}N>0&&(await K(),await U()),ne>0&&H===0?r(`failed to cache any songz for offline use (${ne} of ${te} failed)`):ne>0?console.warn(`cached ${H} of ${te} songz (${ne} failed)`):H>0}catch{r("failed to cache playlist for offline use")}finally{d(!1),setTimeout(()=>Xe(null),500)}}};return(()=>{var C=io(),L=C.firstChild,H=L.firstChild,ne=H.firstChild;return Z(C,ie(oe,{get when(){return _()},get children(){return[(()=>{var N=Ks();return N.style.setProperty("filter","blur(3px) contrast(3) brightness(0.4)"),N.style.setProperty("z-index","0"),we(te=>(te=`url(${_()})`)!=null?N.style.setProperty("background-image",te):N.style.removeProperty("background-image")),N})(),(()=>{var N=Ys();return N.style.setProperty("z-index","1"),N})()]}}),L),Z(C,ie(oe,{get when(){return!_()},get children(){var N=Js();return N.style.setProperty("background-image","radial-gradient(circle at 25% 25%, #ff00ff 2px, transparent 2px)"),N.style.setProperty("background-size","50px 50px"),N.style.setProperty("z-index","0"),N}}),L),Z(C,ie(oe,{get when(){return nt()},get children(){var N=Xs(),te=N.firstChild,be=te.firstChild,he=be.firstChild,ue=he.firstChild,ye=ue.firstChild,ce=ye.nextSibling,ze=ce.firstChild,Ce=ue.nextSibling,Ze=Ce.firstChild,Me=he.nextSibling,Be=Me.firstChild,je=Be.nextSibling;return N.style.setProperty("z-index","9999"),Z(ye,()=>nt().phase),Z(ce,()=>nt().current,ze),Z(ce,()=>nt().total,null),Z(Be,()=>nt().currentSong),Z(je,()=>nt().phase==="initializing"?"loading...":"updating..."),we(Ne=>(Ne=`${nt().current/nt().total*100}%`)!=null?Ze.style.setProperty("width",Ne):Ze.style.removeProperty("width")),N}}),L),Z(C,ie(oe,{get when(){return o()},get fallback(){return ao()},get children(){var N=Qs(),te=N.firstChild,be=te.firstChild,he=te.nextSibling;return N.style.setProperty("z-index","2"),Z(be,ie(Ga,{get playlists(){return W()},get selectedPlaylist(){return e()},onPlaylistSelect:ue=>{n(ue),y()&&m(!0)},onCreatePlaylist:ge,isLoading:!1,onCollapse:()=>m(!0),get collapsed(){return c()},get isMobile(){return y()}})),Z(he,ie(oe,{get when(){return e()},children:ue=>(()=>{var ye=co(),ce=ye.firstChild,ze=ce.firstChild,Ce=ze.firstChild,Ze=ze.nextSibling,Me=Ze.firstChild,Be=Me.firstChild,je=Be.firstChild,Ne=Be.nextSibling,He=Ne.firstChild,qe=Ne.nextSibling,Tn=qe.firstChild,Dn=Tn.nextSibling,Pt=Dn.firstChild,Jr=Pt.firstChild,Xr=Pt.nextSibling,tn=Dn.nextSibling,nn=tn.firstChild,Pn=nn.nextSibling,Ln=Ze.nextSibling,Lt=Ln.firstChild,Un=ce.nextSibling,On=Un.firstChild;return Ce.$$click=()=>{D(0),S(!0)},Z(Ce,ie(oe,{get when(){return ue().imageType},get fallback(){return Rt()},get children(){return(()=>{const ve=Ge(ue(),"modal");return ve?(()=>{var Re=ur();return Pe(Re,"src",ve),Re})():Rt()})()}})),je.$$input=ve=>{fe({title:ve.currentTarget.value})},He.$$input=ve=>{fe({description:ve.currentTarget.value})},Z(Tn,ie(Gs,{get playlist(){return e()||void 0},size:"w-12 h-12"})),Z(Pt,()=>ue().songIds?.length||0,Jr),Z(Pt,()=>(ue().songIds?.length||0)!==1?"z":"",null),Z(Xr,()=>{const ve=B().reduce((lt,Ut)=>lt+(Ut.duration||0),0),Re=Math.floor(ve/3600),st=Math.floor(ve%3600/60),ot=Math.floor(ve%60);return Re>0?`${Re}:${st.toString().padStart(2,"0")}:${ot.toString().padStart(2,"0")}`:`${st}:${ot.toString().padStart(2,"0")}`}),Z(tn,ie(oe,{get when(){return window.STANDALONE_MODE&&window.location.protocol!=="file:"},get children(){return ie(oe,{get when(){return!j()},get children(){var ve=so();return ve.$$click=Q,Z(ve,ie(oe,{get when(){return!P()},get fallback(){return fr()},children:"SAVE OFFLINE"})),we(()=>ve.disabled=P()||B().length===0),ve}})}}),nn),nn.$$click=()=>g(!0),Z(tn,ie(oe,{get when(){return window.location.protocol!=="file:"},get children(){var ve=lo();return ve.$$click=q,Z(ve,ie(oe,{get when(){return!V()},get fallback(){return fr()},get children(){return oo()}})),we(()=>ve.disabled=V()),ve}}),Pn),Pn.$$click=()=>$(!0),Lt.addEventListener("mouseleave",ve=>ve.currentTarget.style.filter="blur(2px) contrast(2) brightness(0.9)"),Lt.addEventListener("mouseenter",ve=>ve.currentTarget.style.filter="none"),Lt.$$click=()=>{D(0),S(!0)},Z(Lt,ie(oe,{get when(){return ue().imageType},get fallback(){return Rt()},get children(){return(()=>{const ve=Ge(ue(),"modal");return ve?(()=>{var Re=ur();return Pe(Re,"src",ve),Re})():Rt()})()}})),Z(On,ie(oe,{get when(){return We(()=>!!ue().songIds)()&&ue().songIds.length>0},get fallback(){return(()=>{var ve=uo(),Re=ve.firstChild,st=Re.nextSibling,ot=st.nextSibling,lt=ot.firstChild;return lt.firstChild,Z(lt,()=>ue().id,null),ve})()},get children(){return ie(br,{get each(){return ue().songIds},children:(ve,Re)=>ie(ds,{songId:ve,get index(){return Re()},showRemoveButton:!0,onRemove:xe,onPlay:me,onPause:R,onEdit:_e,onReorder:s})})}})),we(ve=>{var Re=`flex-1 flex flex-col ${y()?"p-2":"h-full p-6"}`,st=`flex items-center justify-between ${y()?"p-2 flex-col":"mb-2 p-6"}`,ot=`${y()?"":"hidden"}`,lt=`${y()?"hidden":"ml-4"}`,Ut=`${y()?"flex-1":"flex-1 overflow-y-auto"}`,Fn=`${y()?"space-y-1":"p-6 space-y-2"}`;return Re!==ve.e&&Se(ye,ve.e=Re),st!==ve.t&&Se(ce,ve.t=st),ot!==ve.a&&Se(ze,ve.a=ot),lt!==ve.o&&Se(Ln,ve.o=lt),Ut!==ve.i&&Se(Un,ve.i=Ut),Fn!==ve.n&&Se(On,ve.n=Fn),ve},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0}),we(()=>je.value=ue().title),we(()=>He.value=ue().description||""),ye})()})),we(ue=>{var ye=`relative flex ${y()?"min-h-screen":"h-full"}`,ce=`transition-all duration-300 ease-out ${y()?"":"overflow-hidden"} ${c()?"w-0 opacity-0":y()?"w-full opacity-100":"w-80 opacity-100"}`,ze=`${y()?"w-full":"w-80"} h-full transform transition-transform duration-300 ease-out ${c()?"-translate-x-full":"translate-x-0"}`,Ce=`${y()&&!c()?"hidden":"flex-1"} flex flex-col ${y()?"":"h-full"}`;return ye!==ue.e&&Se(N,ue.e=ye),ce!==ue.t&&Se(te,ue.t=ce),ze!==ue.a&&Se(be,ue.a=ze),Ce!==ue.o&&Se(he,ue.o=Ce),ue},{e:void 0,t:void 0,a:void 0,o:void 0}),N}}),L),H.$$click=()=>m(N=>!N),Z(C,ie(oe,{get when(){return t()},get children(){var N=eo(),te=N.firstChild,be=te.firstChild,he=be.nextSibling,ue=he.nextSibling;return ue.firstChild,Z(ue,()=>e()?.title||"a new playlist",null),N}}),null),Z(C,ie(oe,{get when(){return a()},get children(){var N=to(),te=N.firstChild,be=te.firstChild,he=be.firstChild,ue=he.nextSibling,ye=ue.firstChild,ce=ue.nextSibling,ze=ce.firstChild;return Z(ye,a),ze.$$click=()=>r(null),N}}),null),Z(C,ie(oe,{get when(){return w()},get children(){return ie(ws,{get song(){return w()},get isOpen(){return!!w()},onClose:()=>f(null),onSave:le})}}),null),Z(C,ie(oe,{get when(){return h()},get children(){return ie(Bs,{get playlist(){return e()},get playlistSongs(){return B()},get isOpen(){return h()},onClose:()=>g(!1),onSave:$e,onDelete:()=>{n(null),g(!1)}})}}),null),Z(C,ie(oe,{get when(){return b()},get children(){var N=no(),te=N.firstChild;return te.$$click=()=>S(!1),Z(N,()=>{const be=v(),he=be[A()];return he?(()=>{var ue=ho(),ye=ue.firstChild,ce=ye.nextSibling,ze=ce.nextSibling,Ce=ze.firstChild,Ze=Ce.firstChild;return ye.$$click=E,Z(Ce,()=>he.title,Ze),Z(Ce,(()=>{var Me=We(()=>be.length>1);return()=>Me()&&(()=>{var Be=go(),je=Be.firstChild,Ne=je.nextSibling,He=Ne.nextSibling,qe=He.nextSibling;return qe.nextSibling,Z(Be,A,Ne),Z(Be,()=>be.length-1,qe),Be})()})(),null),we(Me=>{var Be=he.url,je=he.title;return Be!==Me.e&&Pe(ce,"src",Me.e=Be),je!==Me.t&&Pe(ce,"alt",Me.t=je),Me},{e:void 0,t:void 0}),ue})():fo()},null),N}}),null),Z(C,ie(oe,{get when(){return I()},get children(){var N=ro(),te=N.firstChild,be=te.firstChild,he=be.nextSibling,ue=he.firstChild,ye=ue.nextSibling;ye.nextSibling;var ce=he.nextSibling,ze=ce.firstChild,Ce=ze.nextSibling;return Z(he,()=>e()?.title,ye),ze.$$click=()=>$(!1),Ce.$$click=T,N}}),null),we(N=>{var te=`relative bg-black text-white ${y()?"min-h-screen":"h-screen overflow-hidden"}`,be=`fixed "top-0" inset-0 bg-black bg-opacity-80 flex items-center justify-center z-10 transition-all duration-300 ease-in-out w-10 h-10 ${c()?"left-0":y()?"left-[calc(100vw-40px)]":"left-72"}`,he=`${c()?"show":"hide"} playlist sidebar`,ue=`w-8 h-8 transform transition-transform duration-600 ease-in-out ${c()?"rotate-0":"rotate-180"}`;return te!==N.e&&Se(C,N.e=te),be!==N.t&&Se(L,N.t=be),he!==N.a&&Pe(H,"title",N.a=he),ue!==N.o&&Pe(ne,"class",N.o=ue),N},{e:void 0,t:void 0,a:void 0,o:void 0}),C})()}_t(["click","input"]);function mo(e){return ie(po,{})}customElements.define("freqhole-playlistz",class extends HTMLElement{connectedCallback(){gi(()=>ie(mo,{}),this)}});

  </script>
</body>
</html>